(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"13Ib":function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",function(){return Bn});var a=n("SVse"),i=n("s7LF"),c=n("iInd"),o=n("8Y7J"),r=n("EFyh"),s=n("HJEb"),l=n("PDjf");function m(e,t){1&e&&(o.Tb(0,"table"),o.Tb(1,"tr"),o.Ob(2,"td",25),o.Tb(3,"td",26),o.Dc(4," La empresa seleccionada no tiene los sectores / mesas creadas para comenzar a recibir clientes. Us\xe1 este peque\xf1o asistente que te ayudar\xe1 paso a paso en el proceso de crear bares o restorants, sectores, mesas, camareros y todo lo necesario para atender a tus clientes. "),o.Sb(),o.Sb(),o.Sb())}function d(e,t){1&e&&(o.Tb(0,"table"),o.Tb(1,"tr"),o.Ob(2,"td",27),o.Tb(3,"td",26),o.Dc(4," La empresa seleccionada tiene sectores y mesas creadas para comenzar a recibir clientes. Pod\xe9s usar este peque\xf1o asistente para modificarlos o crear mas mesas, sectores o camareros. "),o.Sb(),o.Sb(),o.Sb())}function b(e,t){1&e&&(o.Tb(0,"mat-card",28),o.Tb(1,"div",7),o.Tb(2,"div"),o.Ob(3,"span",29),o.Sb(),o.Tb(4,"div"),o.Dc(5," Tomar un Sector "),o.Sb(),o.Sb(),o.Ob(6,"hr",30),o.Tb(7,"div",10),o.Dc(8," Desde ac\xe1 pod\xe9s tomar un sector, gestionar tus mesas y ateneder a tus clientes. "),o.Sb(),o.Sb())}function u(e,t){1&e&&o.Ob(0,"span",31)}function p(e,t){1&e&&o.Ob(0,"span",32)}function f(e,t){1&e&&o.Ob(0,"span",31)}function h(e,t){1&e&&o.Ob(0,"span",32)}function S(e,t){1&e&&o.Ob(0,"span",31)}function g(e,t){1&e&&o.Ob(0,"span",32)}function v(e,t){1&e&&(o.Tb(0,"div",33),o.Dc(1," Faltan crear elementos para la empresa seleccionada por favor hac\xe9 click en "),o.Tb(2,"span",34),o.Dc(3,'"Iniciar el Asistente"'),o.Sb(),o.Dc(4," para crear todo lo necesario. "),o.Sb())}function T(e,t){if(1&e&&(o.Tb(0,"mat-card",35),o.Tb(1,"div"),o.Ob(2,"span",36),o.Dc(3," Administradores y Camareros "),o.Sb(),o.Tb(4,"div",37),o.Dc(5," Para gestionar mesas y turnos s\xf3lo ten\xe9s que ir al men\xfa de Camarero y tomar un sector. "),o.Sb(),o.Ob(6,"hr"),o.Tb(7,"div"),o.Ob(8,"span",38),o.Dc(9," Clientes "),o.Sb(),o.Tb(10,"div",37),o.Dc(11," Para que tus clientes puedan crear turnos de tu comercio ten\xe9s que ofrecerles la direcci\xf3n web principal en saturno.fun y una vez ah\xed buscar tu empresa en el buscador. "),o.Sb(),o.Tb(12,"a",39),o.Dc(13," https://saturno.fun "),o.Sb(),o.Ob(14,"hr"),o.Tb(15,"div",37),o.Dc(16," Tambi\xe9n puede usar un link o acceso directo a tu comercio en: "),o.Sb(),o.Tb(17,"a",40),o.Dc(18),o.Sb(),o.Sb()),2&e){const e=o.ec();o.Bb(17),o.nc("href","https://saturno.fun/#/public/",e.loginService.user.id_company.tx_company_string,"",o.vc),o.Bb(1),o.Fc(" https://saturno.fun/#/public/",e.loginService.user.id_company.tx_company_string," ")}}let C=(()=>{class e{constructor(e,t){this.loginService=e,this.adminService=t}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(r.a),o.Nb(s.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-home"]],decls:53,vars:16,consts:[[1,"p-4","animated","fadeIn"],[1,"xl","mb-2"],[1,"row"],[1,"col-sm-0","col-lg-1"],[1,"col-12","col-sm-6","col-md-6","col-lg-5"],[1,"m-2"],["routerLink","/admin/wizard",1,"pointer","my-3"],[1,"saturno-minicard-title"],[1,"mdi","mdi-wizard-hat","icon-home-card"],[1,"saturno-hr-green"],[1,"saturno-minicard-text"],[4,"ngIf"],["class","pointer m-2","routerLink","/waiter/home",4,"ngIf"],["routerLink","/waiter/home",1,"m-2"],[1,"table-responsive-sm","mt-2"],[1,"table-sm","mb-0","saturno-minicard-text","text-center"],[2,"text-align","left"],[1,"mdi","mdi-storefront"],["class","mdi mdi-check text-success",4,"ngIf"],["class","mdi mdi-alert text-danger",4,"ngIf"],[2,"text-align","right"],[1,"mdi","mdi-select-group"],[1,"mdi","mdi-table-chair"],["class","pointer sm p-2 mt-2",4,"ngIf"],["class","m-2 saturno-minicard-text","style","text-align: left;",4,"ngIf"],[1,"mdi","mdi-close-circle-outline","text-danger","xxxl","pl-3"],[1,"p-3"],[1,"mdi","mdi-check-circle-outline","text-success","xxxl"],["routerLink","/waiter/home",1,"pointer","m-2"],[1,"mdi","mdi-select-group","icon-home-card"],[1,"saturno-hr-blue"],[1,"mdi","mdi-check","text-success"],[1,"mdi","mdi-alert","text-danger"],[1,"pointer","sm","p-2","mt-2"],["routerLink","/admin/wizard"],[1,"m-2","saturno-minicard-text",2,"text-align","left"],[1,"mdi","mdi-headset","lg","mr-2"],[1,"my-1"],[1,"mdi","mdi-bookmark-plus-outline","lg","mr-2"],["target","_blank","href","https://saturno.fun"],["target","_blank",3,"href"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Dc(2),o.Sb(),o.Tb(3,"div",2),o.Ob(4,"div",3),o.Tb(5,"div",4),o.Tb(6,"mat-card",5),o.Tb(7,"div",6),o.Tb(8,"div",7),o.Tb(9,"div"),o.Ob(10,"span",8),o.Sb(),o.Tb(11,"div"),o.Dc(12," Iniciar el Asistente "),o.Sb(),o.Sb(),o.Ob(13,"hr",9),o.Tb(14,"div",10),o.Cc(15,m,5,0,"table",11),o.Cc(16,d,5,0,"table",11),o.Sb(),o.Sb(),o.Sb(),o.Cc(17,b,9,0,"mat-card",12),o.Sb(),o.Tb(18,"div",4),o.Tb(19,"mat-card",13),o.Tb(20,"mat-card-header"),o.Tb(21,"mat-card-title"),o.Dc(22),o.Sb(),o.Sb(),o.Tb(23,"mat-card-content"),o.Tb(24,"div",14),o.Tb(25,"table",15),o.Tb(26,"tr"),o.Tb(27,"td",16),o.Ob(28,"span",17),o.Dc(29," Bares / Restorants "),o.Cc(30,u,1,0,"span",18),o.Cc(31,p,1,0,"span",19),o.Sb(),o.Tb(32,"td",20),o.Dc(33),o.Sb(),o.Sb(),o.Tb(34,"tr"),o.Tb(35,"td",16),o.Ob(36,"span",21),o.Dc(37," Sectores "),o.Cc(38,f,1,0,"span",18),o.Cc(39,h,1,0,"span",19),o.Sb(),o.Tb(40,"td",20),o.Dc(41),o.Sb(),o.Sb(),o.Tb(42,"tr"),o.Tb(43,"td",16),o.Ob(44,"span",22),o.Dc(45," Mesas "),o.Cc(46,S,1,0,"span",18),o.Cc(47,g,1,0,"span",19),o.Sb(),o.Tb(48,"td",20),o.Dc(49),o.Sb(),o.Sb(),o.Sb(),o.Cc(50,v,5,0,"div",23),o.Sb(),o.Sb(),o.Sb(),o.Cc(51,T,19,2,"mat-card",24),o.Sb(),o.Ob(52,"div",3),o.Sb(),o.Sb()),2&e&&(o.Bb(2),o.Fc("Bienvenido ",null==t.loginService?null:t.loginService.user.tx_name,"!"),o.Bb(13),o.lc("ngIf",0===t.adminService.companies.length||0===t.adminService.sections.length||0===t.adminService.tables.length),o.Bb(1),o.lc("ngIf",t.adminService.companies.length>0&&t.adminService.sections.length>0&&t.adminService.tables.length>0),o.Bb(1),o.lc("ngIf",t.adminService.companies.length>0&&t.adminService.sections.length>0&&t.adminService.tables.length>0),o.Bb(5),o.Fc(" ",(null==t.loginService.user.id_company?null:t.loginService.user.id_company.tx_company_name)||"Sin bar / resto todav\xeda"," "),o.Bb(8),o.lc("ngIf",t.adminService.companies.length>0),o.Bb(1),o.lc("ngIf",0===t.adminService.companies.length),o.Bb(2),o.Fc(" ",t.adminService.companies.length," "),o.Bb(5),o.lc("ngIf",t.adminService.sections.length>0),o.Bb(1),o.lc("ngIf",0===t.adminService.sections.length),o.Bb(2),o.Fc(" ",t.adminService.sections.length," "),o.Bb(5),o.lc("ngIf",t.adminService.tables.length>0),o.Bb(1),o.lc("ngIf",0===t.adminService.tables.length),o.Bb(2),o.Fc(" ",t.adminService.tables.length," "),o.Bb(1),o.lc("ngIf",0===t.adminService.companies.length||0===t.adminService.sections.length||0===t.adminService.tables.length),o.Bb(1),o.lc("ngIf",t.loginService.user.id_company))},directives:[l.a,c.c,a.k,l.e,l.h,l.d],styles:["a[_ngcontent-%COMP%]{color:#ffc964}p[_ngcontent-%COMP%]{font-size:.9em;opacity:.8}"]}),e})();var y=n("AIE+"),x=n("Q2Ze"),I=n("e6WT"),_=n("TN/R");let D=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Hb({type:e,selectors:[["app-dashboard"]],decls:14,vars:4,consts:[["color","accent"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["color","primary"],["picker2",""]],template:function(e,t){if(1&e&&(o.Tb(0,"mat-form-field",0),o.Tb(1,"mat-label"),o.Dc(2,"Inherited calendar color"),o.Sb(),o.Ob(3,"input",1),o.Ob(4,"mat-datepicker-toggle",2),o.Ob(5,"mat-datepicker",null,3),o.Sb(),o.Tb(7,"mat-form-field",0),o.Tb(8,"mat-label"),o.Dc(9,"Custom calendar color"),o.Sb(),o.Ob(10,"input",1),o.Ob(11,"mat-datepicker-toggle",2),o.Ob(12,"mat-datepicker",4,5),o.Sb()),2&e){const e=o.tc(6),t=o.tc(13);o.Bb(3),o.lc("matDatepicker",e),o.Bb(1),o.lc("for",e),o.Bb(6),o.lc("matDatepicker",t),o.Bb(1),o.lc("for",t)}},directives:[x.c,x.f,I.b,_.b,_.d,x.g,_.a],styles:[""]}),e})();var w=n("zHaW"),O=n("OaSA"),k=n("Dxy4"),B=n("zuHl"),E=n("ZTz/"),A=n("UhP/");function R(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-option",11),o.ac("click",function(){o.uc(e);const n=t.$implicit;return o.ec().sectionChange(n)}),o.Dc(1),o.Sb()}if(2&e){const e=t.$implicit;o.lc("value",e._id),o.Bb(1),o.Fc(" ",e.tx_section," ")}}let N=(()=>{class e{constructor(e,t,n,a){this.adminService=e,this.loginService=t,this.sharedService=n,this.snack=a,this.tableCreated=new o.o,this.sectionChanged=new o.o,this.sections=[],this.tablesSection=[]}ngOnInit(){this.forma=new i.i({idSection:new i.f(null,i.w.required),nmTable:new i.f(null,i.w.required),nmPersons:new i.f(null,i.w.required)})}createTable(e){if(!this.forma.invalid){for(let e of this.tablesSection)if(this.forma.controls.nmTable.value===e.nm_table)return void this.sharedService.snack("Ya existe una mesa con el id: "+e.nm_table+" !",3e3);this.adminService.createTable({id_section:this.forma.value.idSection,nm_table:this.forma.value.nmTable,nm_persons:this.forma.value.nmPersons}).subscribe(t=>{this.tableCreated.emit(t.table),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e),this.forma.patchValue({idSection:t.table.id_section})})}}resetForm(e){e.resetForm(),this.sharedService.scrollTop()}sectionChange(e){this.sectionChanged.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(s.a),o.Nb(r.a),o.Nb(B.a),o.Nb(w.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-table-create"]],inputs:{sections:"sections",tablesSection:"tablesSection"},outputs:{tableCreated:"tableCreated",sectionChanged:"sectionChanged"},decls:20,vars:2,consts:[["ngNativeValidate","",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"w-100"],["formControlName","idSection","name","idSection","matNativeControl","","required",""],["selectSection",""],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","placeholder","Identificador de escritorio","formControlName","nmTable","name","nmTable","type","number","min","1","required",""],["matInput","","placeholder","Identificador de escritorio","formControlName","nmPersons","name","nmPersons","type","number","min","1","required",""],[1,"container","pt-4","px-0"],["mat-raised-button","","color","accent","type","submit"],[1,"mdi","lg","mdi-content-save-outline"],[3,"value","click"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"form",0,1),o.ac("ngSubmit",function(){o.uc(e);const n=o.tc(1);return t.createTable(n)}),o.Tb(2,"mat-form-field",2),o.Tb(3,"mat-label"),o.Dc(4,"Seleccione un sector"),o.Sb(),o.Tb(5,"mat-select",3,4),o.Cc(7,R,2,2,"mat-option",5),o.Sb(),o.Sb(),o.Tb(8,"mat-form-field",2),o.Tb(9,"mat-label"),o.Dc(10,"ID Mesa"),o.Sb(),o.Ob(11,"input",6),o.Sb(),o.Tb(12,"mat-form-field",2),o.Tb(13,"mat-label"),o.Dc(14,"Cantidad de comensales"),o.Sb(),o.Ob(15,"input",7),o.Sb(),o.Tb(16,"div",8),o.Tb(17,"button",9),o.Ob(18,"span",10),o.Dc(19," GUARDAR MESA "),o.Sb(),o.Sb(),o.Sb()}2&e&&(o.lc("formGroup",t.forma),o.Bb(7),o.lc("ngForOf",t.sections))},directives:[i.q,i.j,x.c,x.f,E.a,i.p,i.h,i.v,a.j,I.b,i.d,i.t,k.a,A.l],styles:[""]}),e})();function U(e,t){if(1&e&&(o.Tb(0,"span"),o.Dc(1),o.Sb()),2&e){const e=o.ec(2);o.Bb(1),o.Fc(" del sector ",e.sectionSelected.tx_section,"")}}function F(e,t){1&e&&(o.Tb(0,"div",6),o.Ob(1,"span",7),o.Tb(2,"span"),o.Dc(3,"No hay mesas en este sector"),o.Sb(),o.Sb())}function q(e,t){1&e&&(o.Tb(0,"th",20),o.Dc(1," Sector "),o.Sb())}function L(e,t){if(1&e&&(o.Tb(0,"td",21),o.Dc(1),o.Sb()),2&e){const e=t.$implicit,n=o.ec(3);o.Bb(1),o.Fc(" ",n.adminService.sectionsMap.get(e.id_section),"")}}function M(e,t){1&e&&(o.Tb(0,"th",20),o.Dc(1," No.# "),o.Sb())}function P(e,t){if(1&e&&(o.Tb(0,"td",21),o.Dc(1),o.Sb()),2&e){const e=t.$implicit;o.Bb(1),o.Ec(e.nm_table)}}function z(e,t){1&e&&(o.Tb(0,"th",20),o.Dc(1," Personas "),o.Sb())}function V(e,t){if(1&e&&(o.Tb(0,"td",21),o.Dc(1),o.Sb()),2&e){const e=t.$implicit;o.Bb(1),o.Ec(e.nm_persons)}}function G(e,t){1&e&&(o.Tb(0,"th",20),o.Dc(1," Estado "),o.Sb())}function H(e,t){if(1&e&&(o.Tb(0,"td",21),o.Dc(1),o.Sb()),2&e){const e=t.$implicit;o.Bb(1),o.Ec(e.tx_status)}}function $(e,t){1&e&&(o.Tb(0,"th",22),o.Dc(1," Acci\xf3n "),o.Sb())}function j(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",23),o.Tb(1,"span",24),o.ac("click",function(){o.uc(e);const n=t.$implicit;return o.ec(3).deleteTable(n._id)}),o.Sb(),o.Sb()}}function W(e,t){1&e&&o.Ob(0,"tr",25)}function Q(e,t){1&e&&o.Ob(0,"tr",26)}function J(e,t){if(1&e&&(o.Tb(0,"div"),o.Tb(1,"table",8),o.Rb(2,9),o.Cc(3,q,2,0,"th",10),o.Cc(4,L,2,1,"td",11),o.Qb(),o.Rb(5,12),o.Cc(6,M,2,0,"th",10),o.Cc(7,P,2,1,"td",11),o.Qb(),o.Rb(8,13),o.Cc(9,z,2,0,"th",10),o.Cc(10,V,2,1,"td",11),o.Qb(),o.Rb(11,14),o.Cc(12,G,2,0,"th",10),o.Cc(13,H,2,1,"td",11),o.Qb(),o.Rb(14,15),o.Cc(15,$,2,0,"th",16),o.Cc(16,j,2,0,"td",17),o.Qb(),o.Cc(17,W,1,0,"tr",18),o.Cc(18,Q,1,0,"tr",19),o.Sb(),o.Sb()),2&e){const e=o.ec(2);o.Bb(1),o.lc("dataSource",e.adminService.tablesSection),o.Bb(16),o.lc("matHeaderRowDef",e.displayedColumns),o.Bb(1),o.lc("matRowDefColumns",e.displayedColumns)}}function Z(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",27),o.ac("click",function(){return o.uc(e),o.ec(2).tableCreate=!0}),o.Ob(1,"span",28),o.Dc(2," CREAR MESA "),o.Sb()}}function K(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",27),o.ac("click",function(){return o.uc(e),o.ec(2).tableCreate=!1}),o.Ob(1,"span",29),o.Dc(2," CERRAR FORMULARIO "),o.Sb()}}function Y(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-card",30),o.Tb(1,"app-table-create",31),o.ac("sectionChanged",function(t){return o.uc(e),o.ec(2).sectionChanged(t)})("tableCreated",function(t){return o.uc(e),o.ec(2).tableCreated(t)}),o.Sb(),o.Sb()}if(2&e){const e=o.ec(2);o.Bb(1),o.lc("sections",e.adminService.sections)("tablesSection",e.adminService.tablesSection)}}const X=function(e,t){return{nomargin:e,nopadding:t}};function ee(e,t){if(1&e&&(o.Tb(0,"div",1),o.Tb(1,"mat-card"),o.Tb(2,"mat-card-header"),o.Tb(3,"mat-card-title"),o.Tb(4,"span"),o.Dc(5," Mis Mesas "),o.Sb(),o.Cc(6,U,2,1,"span",2),o.Sb(),o.Sb(),o.Tb(7,"mat-card-content"),o.Cc(8,F,4,0,"div",3),o.Cc(9,J,19,3,"div",2),o.Sb(),o.Tb(10,"mat-card-actions"),o.Cc(11,Z,3,0,"button",4),o.Cc(12,K,3,0,"button",4),o.Sb(),o.Sb(),o.Cc(13,Y,2,2,"mat-card",5),o.Sb()),2&e){const e=o.ec();o.lc("ngClass",o.qc(7,X,e.nomargin,e.nopadding)),o.Bb(6),o.lc("ngIf",e.sectionSelected),o.Bb(2),o.lc("ngIf",!e.adminService.tablesSection||0===(null==e.adminService.tablesSection?null:e.adminService.tablesSection.length)),o.Bb(1),o.lc("ngIf",e.adminService.tablesSection&&(null==e.adminService.tablesSection?null:e.adminService.tablesSection.length)>0),o.Bb(2),o.lc("ngIf",!e.tableCreate),o.Bb(1),o.lc("ngIf",e.tableCreate),o.Bb(1),o.lc("ngIf",e.tableCreate)}}let te=(()=>{class e{constructor(e,t,n){this.loginService=e,this.adminService=t,this.snack=n,this.displayedColumns=["id_section","nm_table","nm_persons","tx_status","_id"],this.tableCreate=!1}ngOnInit(){}deleteTable(e){this.snack.open("Desea eliminar la mesa?","ELIMINAR",{duration:5e3}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.adminService.deleteTable(e).subscribe(t=>{this.snack.open(t.msg,null,{duration:5e3}),this.adminService.tables=this.adminService.tables.filter(t=>t._id!=e),this.adminService.tablesSection=this.adminService.tablesSection.filter(t=>t._id!=e)},e=>{this.snack.open(e.msg,null,{duration:5e3})})})}sectionChanged(e){this.sectionSelected=e,this.adminService.tablesSection=this.adminService.tables.filter(t=>t.id_section===e._id)}tableCreated(e){this.tableNew=e,this.adminService.tables.push(e),this.adminService.tables.sort((e,t)=>e.nm_table-t.nm_table),this.adminService.tablesSection.push(e),this.adminService.tablesSection.sort((e,t)=>e.nm_table-t.nm_table)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(r.a),o.Nb(s.a),o.Nb(w.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-tables"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:1,vars:1,consts:[["class","saturno-card animated fadeIn",3,"ngClass",4,"ngIf"],[1,"saturno-card","animated","fadeIn",3,"ngClass"],[4,"ngIf"],["class","row align-items-center justify-content-center",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["class","my-2 animated fadeIn",4,"ngIf"],[1,"row","align-items-center","justify-content-center"],[1,"mdi","mdi-alert-box-outline","xxl","mx-2","text-danger"],["mat-table","",3,"dataSource"],["matColumnDef","id_section"],["mat-header-cell","","class","text-left",4,"matHeaderCellDef"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","nm_table"],["matColumnDef","nm_persons"],["matColumnDef","tx_status"],["matColumnDef","_id"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"text-left"],["mat-cell","",1,"text-left"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],[1,"mdi","mdi-delete","ml-2","xl","text-danger","pointer",3,"click"],["mat-header-row",""],["mat-row",""],["mat-button","",3,"click"],[1,"lg","mdi","mdi-plus"],[1,"lg","mdi","mdi-chevron-up"],[1,"my-2","animated","fadeIn"],[3,"sections","tablesSection","sectionChanged","tableCreated"]],template:function(e,t){1&e&&o.Cc(0,ee,14,10,"div",0),2&e&&o.lc("ngIf",t.loginService.user.id_company)},directives:[a.k,a.i,l.a,l.e,l.h,l.d,l.b,O.j,O.c,O.e,O.b,O.g,O.i,O.d,O.a,O.f,O.h,k.a,N],styles:[""]}),e})();var ne=n("LRne");function ae(e,t){if(1&e&&(o.Tb(0,"mat-option",15),o.Dc(1),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e._id),o.Bb(1),o.Fc(" ",e.tx_company_name," ")}}function ie(e,t){1&e&&(o.Tb(0,"div"),o.Tb(1,"button",16),o.Ob(2,"span",17),o.Dc(3," GUARDAR CAMARERO "),o.Sb(),o.Sb())}function ce(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div"),o.Tb(1,"button",18),o.Dc(2," GUARDAR CAMBIOS "),o.Sb(),o.Tb(3,"button",19),o.ac("click",function(){o.uc(e);const t=o.ec(),n=o.tc(1);return t.resetForm(n)}),o.Dc(4," LIMPIAR FORMULARIO "),o.Sb(),o.Sb()}}let oe=(()=>{class e{constructor(e,t,n,a){this.adminService=e,this.loginService=t,this.sharedService=n,this.snack=a,this.idWaiterUpdated=new o.o,this.tables=[],this.manejaError=e=>Object(ne.a)(e)}ngOnInit(){this.forma||this.createForm()}createForm(){this.forma=new i.i({rol:new i.f(null,i.w.required),idCompany:new i.f(null,i.w.required),nombre:new i.f(null,i.w.required),email:new i.f(null,[i.w.required,i.w.email]),password:new i.f(null,i.w.required),password2:new i.f(null,i.w.required)},{validators:this.sonIguales("password","password2")})}ngOnChanges(e){var t,n,a,i,c,o,r,s;if(null===(t=e.waiterEdit)||void 0===t?void 0:t.currentValue)if(this.waiterEdit&&!this.forma&&this.createForm(),null===(n=this.forma)||void 0===n||n.enable(),"clear_form"!==e.waiterEdit.currentValue){if("ADMIN_ROLE"===(null===(a=e.waiterEdit.currentValue)||void 0===a?void 0:a.id_role)&&(null===(i=this.forma)||void 0===i||i.controls.rol.disable(),null===(c=this.forma)||void 0===c||c.controls.email.disable()),null===(o=e.waiterEdit.currentValue)||void 0===o?void 0:o.id_company._id){let t=e.waiterEdit.currentValue.id_company._id;null===(r=this.forma)||void 0===r||r.patchValue({idCompany:t})}null===(s=this.forma)||void 0===s||s.patchValue({rol:e.waiterEdit.currentValue.id_role,email:e.waiterEdit.currentValue.tx_email,nombre:e.waiterEdit.currentValue.tx_name,password:"******",password2:"******"})}else this.resetForm()}sonIguales(e,t){return n=>n.controls[e].value===n.controls[t].value?null:{password:"Las contrase\xf1as deben ser iguales"}}createWaiter(e){var t;if(this.forma.invalid)return void((null===(t=this.forma.errors)||void 0===t?void 0:t.password)&&this.snack.open(this.forma.errors.password,"ACEPTAR",{duration:5e3}));const n={tx_name:this.forma.value.nombre,tx_email:this.forma.controls.email.value,tx_password:this.forma.value.password,id_company:this.forma.value.idCompany,id_role:this.forma.controls.rol.value};this.waiterEdit?(n._id=this.waiterEdit._id,this.adminService.updateWaiter(n).subscribe(t=>{t.ok&&(t.user._id===this.loginService.user._id&&this.loginService.pushUser(t.user),this.idWaiterUpdated.emit(t.user._id),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e))},e=>{this.snack.open(e.error,null,{duration:5e3})})):this.adminService.createWaiter(n).subscribe(t=>{this.idWaiterUpdated.emit(t.user._id),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e)},e=>{this.snack.open(e.error,null,{duration:5e3})})}resetForm(e){this.waiterEdit=null,this.forma.enable(),this.forma.reset(),e&&e.resetForm(),this.sharedService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(s.a),o.Nb(r.a),o.Nb(B.a),o.Nb(w.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-waiter-create"]],inputs:{waiterEdit:"waiterEdit"},outputs:{idWaiterUpdated:"idWaiterUpdated"},features:[o.zb],decls:35,vars:4,consts:[["autocomplete","off","ngNativeValidate","",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"w-100"],["formControlName","rol","name","rol","required",""],["value","ADMIN_ROLE"],["value","WAITER_ROLE"],["formControlName","idCompany","name","idCompany","matNativeControl","","required",""],["selectTable",""],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Nombre","formControlName","nombre","name","nombre","type","text","required","","placeholder","Nombre"],["matInput","","placeholder","Email","formControlName","email","name","email","type","email","required",""],["matInput","","placeholder","Clave","formControlName","password","name","password","type","password","required","","placeholder","Contrase\xf1a","autocomplete","new-password"],["matInput","","placeholder","Clave","formControlName","password2","name","password2","type","password","required","","placeholder","Confirma contrase\xf1a","autocomplete","new-password"],[1,"container","pt-4","px-0"],[4,"ngIf"],[3,"value"],["mat-raised-button","","color","accent","type","submit"],[1,"mdi","lg","mdi-content-save-outline"],["mat-raised-button","","color","warn","type","submit"],["mat-button","",3,"click"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"form",0,1),o.ac("ngSubmit",function(){o.uc(e);const n=o.tc(1);return t.createWaiter(n)}),o.Tb(2,"mat-form-field",2),o.Tb(3,"mat-label"),o.Dc(4,"Rol"),o.Sb(),o.Tb(5,"mat-select",3),o.Tb(6,"mat-option",4),o.Dc(7," Administrador y Camarero"),o.Sb(),o.Tb(8,"mat-option",5),o.Dc(9," Camarero "),o.Sb(),o.Sb(),o.Sb(),o.Tb(10,"mat-form-field",2),o.Tb(11,"mat-label"),o.Dc(12,"Seleccione una empresa"),o.Sb(),o.Tb(13,"mat-select",6,7),o.Cc(15,ae,2,2,"mat-option",8),o.Sb(),o.Sb(),o.Tb(16,"mat-form-field",2),o.Tb(17,"mat-label"),o.Dc(18,"Nombre"),o.Sb(),o.Ob(19,"input",9),o.Sb(),o.Tb(20,"mat-form-field",2),o.Tb(21,"mat-label"),o.Dc(22,"Email"),o.Sb(),o.Ob(23,"input",10),o.Sb(),o.Tb(24,"mat-form-field",2),o.Tb(25,"mat-label"),o.Dc(26,"Clave"),o.Sb(),o.Ob(27,"input",11),o.Sb(),o.Tb(28,"mat-form-field",2),o.Tb(29,"mat-label"),o.Dc(30,"Clave"),o.Sb(),o.Ob(31,"input",12),o.Sb(),o.Tb(32,"div",13),o.Cc(33,ie,4,0,"div",14),o.Cc(34,ce,5,0,"div",14),o.Sb(),o.Sb()}2&e&&(o.lc("formGroup",t.forma),o.Bb(15),o.lc("ngForOf",t.adminService.companies),o.Bb(18),o.lc("ngIf",!t.waiterEdit),o.Bb(1),o.lc("ngIf",t.waiterEdit))},directives:[i.q,i.j,x.c,x.f,E.a,i.p,i.h,i.v,A.l,a.j,I.b,i.d,a.k,k.a],styles:[".mat-select-option-nowarp[_ngcontent-%COMP%]{float:left;width:-webkit-max-content;width:max-content}"]}),e})();function re(e,t){1&e&&(o.Tb(0,"th",14),o.Dc(1," Rol "),o.Sb())}function se(e,t){1&e&&o.Ob(0,"span",18)}function le(e,t){1&e&&o.Ob(0,"span",19)}function me(e,t){if(1&e&&(o.Tb(0,"td",15),o.Cc(1,se,1,0,"span",16),o.Cc(2,le,1,0,"span",17),o.Sb()),2&e){const e=t.$implicit;o.Bb(1),o.lc("ngIf","ADMIN_ROLE"===e.id_role),o.Bb(1),o.lc("ngIf","ADMIN_ROLE"!==e.id_role)}}function de(e,t){1&e&&(o.Tb(0,"th",14),o.Dc(1," Nombre "),o.Sb())}function be(e,t){if(1&e&&(o.Tb(0,"td",15),o.Dc(1),o.Sb()),2&e){const e=t.$implicit;o.Bb(1),o.Ec(e.tx_name)}}function ue(e,t){1&e&&(o.Tb(0,"th",20),o.Dc(1," Acci\xf3n "),o.Sb())}function pe(e,t){if(1&e){const e=o.Ub();o.Tb(0,"span",24),o.ac("click",function(){o.uc(e);const t=o.ec().$implicit;return o.ec().deleteWaiter(t._id)}),o.Sb()}}function fe(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",21),o.Tb(1,"span",22),o.ac("click",function(){o.uc(e);const n=t.$implicit;return o.ec().editWaiter(n)}),o.Sb(),o.Cc(2,pe,1,0,"span",23),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec();o.Bb(2),o.lc("ngIf",e._id!==n.loginService.user._id)}}function he(e,t){1&e&&o.Ob(0,"tr",25)}function Se(e,t){1&e&&o.Ob(0,"tr",26)}function ge(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",27),o.ac("click",function(){return o.uc(e),o.ec().waiterCreate=!0}),o.Ob(1,"span",28),o.Dc(2," CREAR CAMARERO "),o.Sb()}}function ve(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",27),o.ac("click",function(){return o.uc(e),o.ec().waiterCreate=!1}),o.Ob(1,"span",29),o.Dc(2," CERRAR FORMULARIO "),o.Sb()}}function Te(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-card",30),o.Tb(1,"mat-card",31),o.Dc(2," Ten\xe9 en cuenta que los mozos / camareros que pod\xe9s dar de alta ac\xe1 deben ingresar con email y contrase\xf1a desde el login normal de usuarios (no desde el login con cuenta de Google). "),o.Sb(),o.Tb(3,"app-waiter-create",32),o.ac("idWaiterUpdated",function(t){return o.uc(e),o.ec().waiterUpdated(t)}),o.Sb(),o.Sb()}if(2&e){const e=o.ec();o.Bb(3),o.lc("waiterEdit",e.waiterEdit)}}const Ce=function(e,t){return{nomargin:e,nopadding:t}};let ye=(()=>{class e{constructor(e,t,n,a){this.adminService=e,this.loginService=t,this.sharedService=n,this.snack=a,this.displayedColumns=["id_role","tx_name","_id"],this.waiterCreate=!1}ngOnInit(){this.loginService.user&&(this.user=this.loginService.user,this.user.id_company&&this.readWaiters(this.user.id_company._id),this.userSubscription=this.loginService.user$.subscribe(e=>{e&&(this.user=e,e.id_company&&this.readWaiters(e.id_company._id))}))}editWaiter(e){this.waiterCreate=!0,this.waiterEdit=e}waiterUpdated(e){this.waiterCreate=!1,this.idWaiterUpdated=e,this.readWaiters(this.loginService.user.id_company._id)}readWaiters(e){this.adminService.readWaiters(e).subscribe(e=>{this.adminService.waiters=[...e.users]})}deleteWaiter(e){e!==this.loginService.user._id?this.snack.open("Desea eliminar el asistente?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.adminService.deleteWaiter(e).subscribe(t=>{this.waiterEdit="clear_form",this.snack.open(t.msg,null,{duration:5e3}),this.adminService.waiters=this.adminService.waiters.filter(t=>t._id!=e)},e=>{this.snack.open(e.msg,null,{duration:5e3})})}):this.sharedService.snack("No pod\xe9s borrar tu propio usuario!",2e3)}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(s.a),o.Nb(r.a),o.Nb(B.a),o.Nb(w.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-waiters"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:23,vars:10,consts:[[1,"saturno-card","animated","fadeIn",3,"ngClass"],[1,"mdi","mdi-account-tie"],["mat-table","",3,"dataSource"],["matColumnDef","id_role"],["mat-header-cell","","class","text-left",4,"matHeaderCellDef"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","tx_name"],["matColumnDef","_id"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-button","",3,"click",4,"ngIf"],["class","my-2 animated fadeIn",4,"ngIf"],["mat-header-cell","",1,"text-left"],["mat-cell","",1,"text-left"],["class","mdi mdi-police-badge-outline xl text-primary",4,"ngIf"],["class","mdi mdi-silverware-fork-knife xl text-primary",4,"ngIf"],[1,"mdi","mdi-police-badge-outline","xl","text-primary"],[1,"mdi","mdi-silverware-fork-knife","xl","text-primary"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],[1,"mdi","mdi-pencil","ml-2","xl","text-success","pointer",3,"click"],["class","mdi mdi-delete ml-2 xl text-danger pointer",3,"click",4,"ngIf"],[1,"mdi","mdi-delete","ml-2","xl","text-danger","pointer",3,"click"],["mat-header-row",""],["mat-row",""],["mat-button","",3,"click"],[1,"lg","mdi","mdi-plus"],[1,"lg","mdi","mdi-chevron-up"],[1,"my-2","animated","fadeIn"],[1,"card-left-border","my-2"],[3,"waiterEdit","idWaiterUpdated"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"mat-card"),o.Tb(2,"mat-card-header"),o.Tb(3,"mat-card-title"),o.Ob(4,"span",1),o.Dc(5," Mis Camareros "),o.Sb(),o.Sb(),o.Tb(6,"mat-card-content"),o.Tb(7,"table",2),o.Rb(8,3),o.Cc(9,re,2,0,"th",4),o.Cc(10,me,3,2,"td",5),o.Qb(),o.Rb(11,6),o.Cc(12,de,2,0,"th",4),o.Cc(13,be,2,1,"td",5),o.Qb(),o.Rb(14,7),o.Cc(15,ue,2,0,"th",8),o.Cc(16,fe,3,1,"td",9),o.Qb(),o.Cc(17,he,1,0,"tr",10),o.Cc(18,Se,1,0,"tr",11),o.Sb(),o.Sb(),o.Tb(19,"mat-card-actions"),o.Cc(20,ge,3,0,"button",12),o.Cc(21,ve,3,0,"button",12),o.Sb(),o.Sb(),o.Cc(22,Te,4,1,"mat-card",13),o.Sb()),2&e&&(o.lc("ngClass",o.qc(7,Ce,t.nomargin,t.nopadding)),o.Bb(7),o.lc("dataSource",t.adminService.waiters),o.Bb(10),o.lc("matHeaderRowDef",t.displayedColumns),o.Bb(1),o.lc("matRowDefColumns",t.displayedColumns),o.Bb(2),o.lc("ngIf",!t.waiterCreate),o.Bb(1),o.lc("ngIf",t.waiterCreate),o.Bb(1),o.lc("ngIf",t.waiterCreate))},directives:[a.i,l.a,l.e,l.h,l.d,O.j,O.c,O.e,O.b,O.g,O.i,l.b,a.k,O.d,O.a,O.f,O.h,k.a,oe],styles:[""]}),e})();var xe=n("OD9V");let Ie=(()=>{class e{transform(e){if(e)return e.replace(/\xe1/gi,"a").replace(/\xe9/gi,"e").replace(/\xed/gi,"i").replace(/\xf3/gi,"o").replace(/\xfa/gi,"u").replace(/\xf1/gi,"n").replace(/[^a-zA-Z0-9]/gi,"").toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Mb({name:"getidstring",type:e,pure:!0}),e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _e=n("ghwb"),De=n("vrAh"),we=n("EZtS");function Oe(e,t){if(1&e&&(o.Tb(0,"mat-option",19),o.Dc(1),o.fc(2,"capitalizarPipe"),o.Sb()),2&e){const e=t.$implicit;o.lc("value",e),o.Bb(1),o.Hc(" ",o.gc(2,4,e.properties.nombre),", ",e.properties.departamento.nombre,", ",e.properties.provincia.nombre," ")}}function ke(e,t){1&e&&(o.Tb(0,"div"),o.Tb(1,"button",20),o.Ob(2,"span",21),o.Dc(3," GUARDAR COMERCIO "),o.Sb(),o.Sb())}function Be(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div"),o.Tb(1,"button",22),o.Dc(2," GUARDAR CAMBIOS "),o.Sb(),o.Tb(3,"button",23),o.ac("click",function(){o.uc(e);const t=o.ec(),n=o.tc(1);return t.resetForm(n)}),o.Dc(4," LIMPIAR FORMULARIO "),o.Sb(),o.Sb()}}let Ee=(()=>{class e{constructor(e,t,n,a,c,r){this.adminService=e,this.loginService=t,this.sharedService=n,this.publicService=a,this.getidstring=c,this.capitalizarPipe=r,this.newCompany=new o.o,this.clearForm=new o.o,this.centerMap=[],this.options=[],this.localidadesControl=new i.f,this.localidades=[]}ngOnInit(){this.createForm({}),this.localidadesControl.valueChanges.subscribe(e=>{"string"!=typeof e||e.length<=0||(3===e.length?this.publicService.buscarLocalidades(e.toLowerCase()).then(e=>{this.localidades=e.locations}):e.length>3&&(this.localidades=this.localidades.filter(t=>t.properties.nombre.toLowerCase().includes(e.toLowerCase()))))})}createForm(e){this.forma||(this.forma=new i.i({txCompanyName:new i.f(e.txCompanyName||"",[i.w.required,this.validatorSetId.bind(this)]),txCompanyString:new i.f({value:e.txCompanyString||"",disabled:!0},i.w.required),txCompanySlogan:new i.f(e.txCompanySlogan||"",i.w.required),txCompanyLocation:new i.f(e.txCompanyLocation||"",i.w.required),cdCompanyLocation:new i.f(e.cdCompanyLocation||"",i.w.required),txAddressStreet:new i.f(e.txAddressStreet||"",i.w.required),txAddressNumber:new i.f(e.txAddressNumber||"",i.w.required),txCompanyLat:new i.f({value:e.txCompanyLat||"",disabled:!0},i.w.required),txCompanyLng:new i.f({value:e.txCompanyLng||"",disabled:!0},i.w.required)}))}cleanInput(){this.localidadesControl.reset(),this.localidades=[]}ngOnChanges(e){var t;if(!(null===(t=e.companyEdit)||void 0===t?void 0:t.currentValue))return;let n={txCompanyName:e.companyEdit.currentValue.tx_company_name,txCompanyString:e.companyEdit.currentValue.tx_company_string,txCompanySlogan:e.companyEdit.currentValue.tx_company_slogan,txCompanyLocation:e.companyEdit.currentValue.tx_company_location,cdCompanyLocation:e.companyEdit.currentValue.cd_company_location,txAddressStreet:e.companyEdit.currentValue.tx_address_street,txAddressNumber:e.companyEdit.currentValue.tx_address_number,txCompanyLat:e.companyEdit.currentValue.tx_company_lat,txCompanyLng:e.companyEdit.currentValue.tx_company_lng};this.forma?this.forma.patchValue(n):this.createForm(n);let a=e.companyEdit.currentValue.cd_company_location,i=e.companyEdit.currentValue.tx_company_location.split(",");i=i.map(e=>e.trim()),this.localidadesControl.setValue({properties:{id:a,nombre:i[0],departamento:{nombre:i[1]},provincia:{nombre:i[2]}}}),this.centerMap=[e.companyEdit.currentValue.tx_company_lng,e.companyEdit.currentValue.tx_company_lat]}validatorSetId(e){var t;return this.txCompanyString=this.getidstring.transform(e.value),null===(t=this.forma)||void 0===t||t.patchValue({txCompanyString:this.txCompanyString}),null}checkCompanyExists(){if(this.companyEdit&&this.txCompanyString===this.companyEdit.tx_company_string)return;let e=this.txCompanyString;(null==e?void 0:e.length)>3&&this.adminService.checkCompanyExists(e).subscribe(e=>{e.ok||(this.forma.controls.company.setErrors({incorrect:!0}),this.forma.setErrors({companyExists:!0}))})}createCompany(e){if(this.forma.invalid)return void this.sharedService.snack("Faltan datos por favor verifique",2e3,"Aceptar");const t={id_user:this.loginService.user._id,tx_company_name:this.forma.value.txCompanyName,tx_company_slogan:this.forma.value.txCompanySlogan,tx_company_string:this.forma.getRawValue().txCompanyString,cd_company_location:this.forma.value.cdCompanyLocation,tx_company_location:this.forma.value.txCompanyLocation,tx_address_street:this.forma.value.txAddressStreet,tx_address_number:this.forma.value.txAddressNumber,tx_company_lat:this.forma.getRawValue().txCompanyLat,tx_company_lng:this.forma.getRawValue().txCompanyLng};this.companyEdit?(t._id=this.companyEdit._id,this.adminService.updateCompany(t).subscribe(t=>{this.newCompany.emit(t.company),this.sharedService.snack(t.msg,2e3),this.resetForm(e)},e=>{this.sharedService.snack(e.error.msg,2e3)})):this.adminService.createCompany(t).subscribe(t=>{this.newCompany.emit(t.company),this.resetForm(e),this.sharedService.snack(t.ok?"Empresa creada correctamente":t.msg,2e3)},()=>{this.sharedService.snack("Error al crear la empresa",2e3)})}resetForm(e){this.clearForm.emit(),this.localidadesControl.setValue(""),this.companyEdit=null,this.forma.enable(),this.forma.reset(),e.resetForm(),this.sharedService.scrollTop()}setLocalidad(e){var t;if(e){(null===(t=e.geometry)||void 0===t?void 0:t.coordinates)&&(this.centerMap=e.geometry.coordinates);let n=e.properties.provincia.nombre;n.toLowerCase()==="Ciudad Aut\xf3noma de Buenos Aires".toLowerCase()&&(n="CABA");const a=this.capitalizarPipe.transform(e.properties.nombre)+", "+this.capitalizarPipe.transform(e.properties.departamento.nombre)+", "+this.capitalizarPipe.transform(n);return this.forma.patchValue({txCompanyLocation:a,cdCompanyLocation:e.properties.id}),a}}setCoords(e){this.forma.patchValue({txCompanyLat:String(e.lat),txCompanyLng:String(e.lng)})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(s.a),o.Nb(r.a),o.Nb(B.a),o.Nb(xe.a),o.Nb(Ie),o.Nb(_e.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-company-create"]],inputs:{companyEdit:"companyEdit"},outputs:{newCompany:"newCompany",clearForm:"clearForm"},features:[o.zb],decls:41,vars:8,consts:[["autocomplete","off","ngNativeValidate","",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"w-100"],["matInput","","placeholder","Nombre de la empresa","formControlName","txCompanyName","name","txCompanyName","type","text","required","",3,"keyup"],["matInput","","placeholder","50 a\xf1os en tu barrio","formControlName","txCompanySlogan","name","txCompanySlogan","type","text"],["matInput","","placeholder","nombredetuempresa","formControlName","txCompanyString","name","txCompanyString","type","text","required",""],["type","text","matInput","",3,"formControl","matAutocomplete","click"],[1,"input-icon",3,"click"],[1,"mdi","mdi-close"],["iniciocss","",3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","placeholder","Calle","formControlName","txAddressStreet","name","txAddressStreet","type","text","required",""],["matInput","","placeholder","1234","formControlName","txAddressNumber","name","txAddressNumber","type","number","min","1","max","20000","required",""],["type","text","placeholder","lat","formControlName","txCompanyLat",1,"coords-input"],["type","text","placeholder","lng","formControlName","txCompanyLng",1,"coords-input"],[3,"center","centerChange","newMarker"],[1,"container","pt-4","px-0"],[4,"ngIf"],[3,"value"],["mat-raised-button","","color","accent","type","submit"],[1,"mdi","lg","mdi-content-save-outline"],["mat-raised-button","","color","warn","type","submit"],["mat-button","",3,"click"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"form",0,1),o.ac("ngSubmit",function(){o.uc(e);const n=o.tc(1);return t.createCompany(n)}),o.Tb(2,"mat-form-field",2),o.Tb(3,"mat-label"),o.Dc(4,"Nombre del Bar / Restorant"),o.Sb(),o.Tb(5,"mat-error"),o.Dc(6,"Esta Empresa ya se encuentra registrada!"),o.Sb(),o.Tb(7,"input",3),o.ac("keyup",function(){return t.checkCompanyExists()}),o.Sb(),o.Sb(),o.Tb(8,"mat-form-field",2),o.Tb(9,"mat-label"),o.Dc(10,"Slogan (Opcional)"),o.Sb(),o.Ob(11,"input",4),o.Sb(),o.Tb(12,"mat-form-field",2),o.Tb(13,"mat-label"),o.Dc(14,"Nombre p\xfablico"),o.Sb(),o.Ob(15,"input",5),o.Sb(),o.Tb(16,"mat-form-field",2),o.Tb(17,"mat-label"),o.Dc(18,"Busca tu ciudad, localidad o barrio"),o.Sb(),o.Tb(19,"input",6),o.ac("click",function(){return t.cleanInput()}),o.Sb(),o.Tb(20,"span",7),o.ac("click",function(){return t.cleanInput()}),o.Ob(21,"i",8),o.Sb(),o.Sb(),o.Tb(22,"mat-autocomplete",9,10),o.Cc(24,Oe,3,6,"mat-option",11),o.Sb(),o.Tb(25,"mat-form-field",2),o.Tb(26,"mat-label"),o.Dc(27,"Calle"),o.Sb(),o.Ob(28,"input",12),o.Sb(),o.Tb(29,"mat-form-field",2),o.Tb(30,"mat-label"),o.Dc(31,"Altura"),o.Sb(),o.Ob(32,"input",13),o.Sb(),o.Tb(33,"mat-card"),o.Dc(34," Por favor busc\xe1 y marc\xe1 en el mapa la ubicaci\xf3n exacta de tu Bar / Resto "),o.Sb(),o.Ob(35,"input",14),o.Ob(36,"input",15),o.Tb(37,"app-map",16),o.ac("centerChange",function(e){return t.centerMap=e})("newMarker",function(e){return t.setCoords(e)}),o.Sb(),o.Tb(38,"div",17),o.Cc(39,ke,4,0,"div",18),o.Cc(40,Be,5,0,"div",18),o.Sb(),o.Sb()}if(2&e){const e=o.tc(23);o.lc("formGroup",t.forma),o.Bb(19),o.lc("formControl",t.localidadesControl)("matAutocomplete",e),o.Bb(3),o.lc("displayWith",t.setLocalidad.bind(t)),o.Bb(2),o.lc("ngForOf",t.localidades),o.Bb(13),o.lc("center",t.centerMap),o.Bb(2),o.lc("ngIf",!t.companyEdit),o.Bb(1),o.lc("ngIf",t.companyEdit)}},directives:[i.q,i.j,x.c,x.f,x.b,I.b,i.d,i.p,i.h,i.v,De.c,i.g,De.a,a.j,i.t,l.a,we.a,a.k,A.l,k.a],pipes:[_e.a],styles:[".coords-input[_ngcontent-%COMP%]{font-size:11px;font-weight:600;border:none;background-color:transparent!important;height:16px}.map-container[_ngcontent-%COMP%]{height:100%;min-height:300px}"]}),e})();function Ae(e,t){1&e&&(o.Tb(0,"div",6),o.Ob(1,"span",7),o.Tb(2,"span"),o.Dc(3,"Debe crear aqu\xed al menos un bar / resto"),o.Sb(),o.Sb())}function Re(e,t){1&e&&(o.Tb(0,"th",19),o.Dc(1," Nombre "),o.Sb())}function Ne(e,t){1&e&&o.Ob(0,"span",22)}function Ue(e,t){if(1&e&&(o.Tb(0,"td",20),o.Cc(1,Ne,1,0,"span",21),o.Dc(2),o.Sb()),2&e){const e=t.$implicit,n=o.ec(2);o.Bb(1),o.lc("ngIf",e.tx_company_string===(null==n.companyUpdated?null:n.companyUpdated.tx_company_string)),o.Bb(1),o.Fc(" ",e.tx_company_name," ")}}function Fe(e,t){1&e&&(o.Tb(0,"th",19),o.Dc(1," Calle "),o.Sb())}function qe(e,t){if(1&e&&(o.Tb(0,"td",20),o.Dc(1),o.Sb()),2&e){const e=t.$implicit;o.Bb(1),o.Ec(e.tx_address_street)}}function Le(e,t){1&e&&(o.Tb(0,"th",19),o.Dc(1," Altura "),o.Sb())}function Me(e,t){if(1&e&&(o.Tb(0,"td",20),o.Dc(1),o.Sb()),2&e){const e=t.$implicit;o.Bb(1),o.Ec(e.tx_address_number)}}function Pe(e,t){1&e&&(o.Tb(0,"th",23),o.Dc(1," Acci\xf3n "),o.Sb())}function ze(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",24),o.Tb(1,"span",25),o.ac("click",function(){o.uc(e);const n=t.$implicit;return o.ec(2).editCompany(n)}),o.Sb(),o.Tb(2,"span",26),o.ac("click",function(){o.uc(e);const n=t.$implicit;return o.ec(2).deleteCompany(n._id)}),o.Sb(),o.Sb()}}function Ve(e,t){1&e&&o.Ob(0,"tr",27)}function Ge(e,t){1&e&&o.Ob(0,"tr",28)}function He(e,t){if(1&e&&(o.Tb(0,"div"),o.Tb(1,"table",8),o.Rb(2,9),o.Cc(3,Re,2,0,"th",10),o.Cc(4,Ue,3,2,"td",11),o.Qb(),o.Rb(5,12),o.Cc(6,Fe,2,0,"th",10),o.Cc(7,qe,2,1,"td",11),o.Qb(),o.Rb(8,13),o.Cc(9,Le,2,0,"th",10),o.Cc(10,Me,2,1,"td",11),o.Qb(),o.Rb(11,14),o.Cc(12,Pe,2,0,"th",15),o.Cc(13,ze,3,0,"td",16),o.Qb(),o.Cc(14,Ve,1,0,"tr",17),o.Cc(15,Ge,1,0,"tr",18),o.Sb(),o.Sb()),2&e){const e=o.ec();o.Bb(1),o.lc("dataSource",e.adminService.companies),o.Bb(13),o.lc("matHeaderRowDef",e.displayedColumns),o.Bb(1),o.lc("matRowDefColumns",e.displayedColumns)}}function $e(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",29),o.ac("click",function(){return o.uc(e),o.ec().openForm=!0}),o.Ob(1,"span",30),o.Dc(2," CREAR COMERCIO "),o.Sb()}}function je(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",29),o.ac("click",function(){return o.uc(e),o.ec().openForm=!1}),o.Ob(1,"span",31),o.Dc(2," CERRAR FORMULARIO "),o.Sb()}}function We(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-card",32),o.Tb(1,"app-company-create",33),o.ac("newCompany",function(t){return o.uc(e),o.ec().newCompany(t)})("clearForm",function(){return o.uc(e),o.ec().clearForm()}),o.Sb(),o.Sb()}if(2&e){const e=o.ec();o.Bb(1),o.lc("companyEdit",e.companyEdit)}}const Qe=function(e,t){return{nomargin:e,nopadding:t}};let Je=(()=>{class e{constructor(e,t,n){this.adminService=e,this.loginService=t,this.snack=n,this.displayedColumns=["tx_company_name","tx_address_street","tx_address_number","_id"],this.openForm=!1}ngOnInit(){}editCompany(e){this.openForm=!0,this.companyEdit=e}clearForm(){this.openForm=!1,this.companyEdit=null}newCompany(e){this.openForm=!1,this.companyUpdated=e,this.adminService.companies=[...this.adminService.companies,e]}deleteCompany(e){this.snack.open("Desea eliminar la empresa?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.adminService.deleteCompany(e).subscribe(t=>{var n;this.snack.open(t.msg,null,{duration:2e3}),this.adminService.companies=this.adminService.companies.filter(t=>t._id!=e),e===(null===(n=this.loginService.user.id_company)||void 0===n?void 0:n._id)&&(this.loginService.user.id_company=null,localStorage.setItem("user",JSON.stringify(this.loginService.user)))},e=>{this.snack.open(e.msg,null,{duration:2e3})})})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(s.a),o.Nb(r.a),o.Nb(w.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-companies"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:13,vars:9,consts:[[1,"saturno-card","animated","fadeIn",3,"ngClass"],[1,"mdi","mdi-storefront-outline"],["class","row align-items-center justify-content-center",4,"ngIf"],[4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["class","animated fadeIn",4,"ngIf"],[1,"row","align-items-center","justify-content-center"],[1,"mdi","mdi-alert-box-outline","xxl","mx-2","text-danger"],["mat-table","",3,"dataSource"],["matColumnDef","tx_company_name"],["mat-header-cell","","class","text-left",4,"matHeaderCellDef"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","tx_address_street"],["matColumnDef","tx_address_number"],["matColumnDef","_id"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"text-left"],["mat-cell","",1,"text-left"],["class","mdi mdi-check text-warning",4,"ngIf"],[1,"mdi","mdi-check","text-warning"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],[1,"mdi","mdi-pencil","ml-2","xl","text-success","pointer",3,"click"],[1,"mdi","mdi-delete","ml-2","xl","text-danger","pointer",3,"click"],["mat-header-row",""],["mat-row",""],["mat-button","",3,"click"],[1,"lg","mdi","mdi-plus"],[1,"lg","mdi","mdi-chevron-up"],[1,"animated","fadeIn"],[3,"companyEdit","newCompany","clearForm"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"mat-card"),o.Tb(2,"mat-card-header"),o.Tb(3,"mat-card-title"),o.Ob(4,"span",1),o.Dc(5," Mis Comercios "),o.Sb(),o.Sb(),o.Tb(6,"mat-card-content"),o.Cc(7,Ae,4,0,"div",2),o.Cc(8,He,16,3,"div",3),o.Sb(),o.Tb(9,"mat-card-actions"),o.Cc(10,$e,3,0,"button",4),o.Cc(11,je,3,0,"button",4),o.Sb(),o.Sb(),o.Cc(12,We,2,1,"mat-card",5),o.Sb()),2&e&&(o.lc("ngClass",o.qc(6,Qe,t.nomargin,t.nopadding)),o.Bb(7),o.lc("ngIf",!t.adminService.companies||0===(null==t.adminService.companies?null:t.adminService.companies.length)),o.Bb(1),o.lc("ngIf",t.adminService.companies&&(null==t.adminService.companies?null:t.adminService.companies.length)>0),o.Bb(2),o.lc("ngIf",!t.openForm),o.Bb(1),o.lc("ngIf",t.openForm),o.Bb(1),o.lc("ngIf",t.openForm))},directives:[a.i,l.a,l.e,l.h,l.d,a.k,l.b,O.j,O.c,O.e,O.b,O.g,O.i,O.d,O.a,O.f,O.h,k.a,Ee],styles:[""]}),e})(),Ze=(()=>{class e{constructor(e,t){this.loginService=e,this.publicService=t,this.tickets=[]}ngOnInit(){this.readTickets()}readTickets(){var e;let t=null===(e=this.loginService.user.id_company)||void 0===e?void 0:e._id;this.publicService.getTickets(t).subscribe(e=>{this.tickets=e.tickets})}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(r.a),o.Nb(xe.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-tickets"]],decls:18,vars:4,consts:[[1,"container","animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-6"],["color","accent"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["color","primary"],["picker2",""]],template:function(e,t){if(1&e&&(o.Tb(0,"div",0),o.Tb(1,"div",1),o.Tb(2,"div",2),o.Tb(3,"mat-form-field",3),o.Tb(4,"mat-label"),o.Dc(5,"Inherited calendar color"),o.Sb(),o.Ob(6,"input",4),o.Ob(7,"mat-datepicker-toggle",5),o.Ob(8,"mat-datepicker",null,6),o.Sb(),o.Sb(),o.Tb(10,"div",2),o.Tb(11,"mat-form-field",3),o.Tb(12,"mat-label"),o.Dc(13,"Custom calendar color"),o.Sb(),o.Ob(14,"input",4),o.Ob(15,"mat-datepicker-toggle",5),o.Ob(16,"mat-datepicker",7,8),o.Sb(),o.Sb(),o.Sb(),o.Sb()),2&e){const e=o.tc(9),t=o.tc(17);o.Bb(6),o.lc("matDatepicker",e),o.Bb(1),o.lc("for",e),o.Bb(7),o.lc("matDatepicker",t),o.Bb(1),o.lc("for",t)}},directives:[x.c,x.f,I.b,_.b,_.d,x.g,_.a],styles:[""]}),e})(),Ke=(()=>{class e{constructor(e,t,n,a){this.adminService=e,this.loginService=t,this.sharedService=n,this.snack=a,this.sectionCreated=new o.o}ngOnInit(){this.forma=new i.i({txSection:new i.f(null,i.w.required),scoreItems:new i.e([])})}createSection(e){this.forma.invalid?this.sharedService.snack("Faltan datos, verifica todos los campos",3e3):this.adminService.createSection({id_company:this.loginService.user.id_company._id,tx_section:this.forma.value.txSection,ar_scoreitems:this.forma.controls.scoreItems.value,__v:null,_id:null}).subscribe(t=>{this.sectionCreated.emit(t.section),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e)},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})}resetForm(e){e.resetForm(),this.forma.reset(),this.sharedService.scrollTop()}createScoreItem(){for(let e of this.forma.controls.scoreItems.controls)if(this.sharedService.snack("Complete todos los campos en blanco",2e3),""===e.value)return;this.forma.controls.scoreItems.push(new i.f("",i.w.required))}deleteScoreItem(e){this.forma.controls.scoreItems.removeAt(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(s.a),o.Nb(r.a),o.Nb(B.a),o.Nb(w.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-section-create"]],outputs:{sectionCreated:"sectionCreated"},decls:10,vars:1,consts:[["autocomplete","off","ngNativeValidate","",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"w-100"],["matInput","","placeholder","Identificador del sector","formControlName","txSection","name","txSection","type","text","required",""],[1,"container","pt-4","px-0"],["mat-raised-button","","color","accent","type","submit"],[1,"mdi","lg","mdi-content-save-outline"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"form",0,1),o.ac("ngSubmit",function(){o.uc(e);const n=o.tc(1);return t.createSection(n)}),o.Tb(2,"mat-form-field",2),o.Tb(3,"mat-label"),o.Dc(4,"Nombre del Sector"),o.Sb(),o.Ob(5,"input",3),o.Sb(),o.Tb(6,"div",4),o.Tb(7,"button",5),o.Ob(8,"span",6),o.Dc(9," GUARDAR SECTOR "),o.Sb(),o.Sb(),o.Sb()}2&e&&o.lc("formGroup",t.forma)},directives:[i.q,i.j,x.c,x.f,I.b,i.d,i.p,i.h,i.v,k.a],styles:[".scoreitem-input[_ngcontent-%COMP%]{border:1px solid #ddd;padding:.4rem;font-size:medium;color:#555;border-radius:.3rem}.x-close[_ngcontent-%COMP%]{position:relative;top:0;right:22px}"]}),e})();function Ye(e,t){1&e&&(o.Tb(0,"div",7),o.Ob(1,"span",8),o.Tb(2,"span"),o.Dc(3,"Debe crear aqu\xed al menos un sector"),o.Sb(),o.Sb())}function Xe(e,t){1&e&&(o.Tb(0,"th",18),o.Dc(1," Sector "),o.Sb())}function et(e,t){if(1&e&&(o.Tb(0,"td",19),o.Dc(1),o.Sb()),2&e){const e=t.$implicit;o.Bb(1),o.Ec(e.tx_section)}}function tt(e,t){1&e&&(o.Tb(0,"th",20),o.Dc(1," Acci\xf3n "),o.Sb())}function nt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",21),o.Tb(1,"span",22),o.ac("click",function(){o.uc(e);const n=t.$implicit;return o.ec(3).deleteSection(n)}),o.Sb(),o.Sb()}}function at(e,t){1&e&&o.Ob(0,"tr",23)}function it(e,t){1&e&&o.Ob(0,"tr",24)}function ct(e,t){if(1&e&&(o.Tb(0,"div"),o.Tb(1,"table",9),o.Rb(2,10),o.Cc(3,Xe,2,0,"th",11),o.Cc(4,et,2,1,"td",12),o.Qb(),o.Rb(5,13),o.Cc(6,tt,2,0,"th",14),o.Cc(7,nt,2,0,"td",15),o.Qb(),o.Cc(8,at,1,0,"tr",16),o.Cc(9,it,1,0,"tr",17),o.Sb(),o.Sb()),2&e){const e=o.ec(2);o.Bb(1),o.lc("dataSource",e.adminService.sections),o.Bb(7),o.lc("matHeaderRowDef",e.displayedColumns),o.Bb(1),o.lc("matRowDefColumns",e.displayedColumns)}}function ot(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",25),o.ac("click",function(){return o.uc(e),o.ec(2).sectionCreate=!0}),o.Ob(1,"span",26),o.Dc(2," CREAR SECTOR "),o.Sb()}}function rt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",25),o.ac("click",function(){return o.uc(e),o.ec(2).sectionCreate=!1}),o.Ob(1,"span",27),o.Dc(2," CERRAR FORMULARIO "),o.Sb()}}function st(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-card",28),o.Tb(1,"app-section-create",29),o.ac("sectionCreated",function(t){return o.uc(e),o.ec(2).sectionCreated(t)}),o.Sb(),o.Sb()}}const lt=function(e,t){return{nomargin:e,nopadding:t}};function mt(e,t){if(1&e&&(o.Tb(0,"div",1),o.Tb(1,"mat-card"),o.Tb(2,"mat-card-header"),o.Tb(3,"mat-card-title"),o.Ob(4,"span",2),o.Dc(5),o.Sb(),o.Sb(),o.Tb(6,"mat-card-content"),o.Cc(7,Ye,4,0,"div",3),o.Cc(8,ct,10,3,"div",4),o.Sb(),o.Tb(9,"mat-card-actions"),o.Cc(10,ot,3,0,"button",5),o.Cc(11,rt,3,0,"button",5),o.Sb(),o.Sb(),o.Cc(12,st,2,0,"mat-card",6),o.Sb()),2&e){const e=o.ec();o.lc("ngClass",o.qc(7,lt,e.nomargin,e.nopadding)),o.Bb(5),o.Fc(" Mis Sectores de ",e.loginService.user.id_company.tx_company_name," "),o.Bb(2),o.lc("ngIf",!e.adminService.sections||0===(null==e.adminService.sections?null:e.adminService.sections.length)),o.Bb(1),o.lc("ngIf",e.adminService.sections&&(null==e.adminService.sections?null:e.adminService.sections.length)>0),o.Bb(2),o.lc("ngIf",!e.sectionCreate),o.Bb(1),o.lc("ngIf",e.sectionCreate),o.Bb(1),o.lc("ngIf",e.sectionCreate)}}let dt=(()=>{class e{constructor(e,t,n){this.loginService=e,this.adminService=t,this.snack=n,this.displayedColumns=["tx_section","_id"],this.sectionCreate=!1,this.dataSource=new O.k}ngOnInit(){}deleteSection(e){this.snack.open("Desea eliminar el sector "+e.tx_section,"ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{if(t.dismissedByAction){let t=e._id;this.adminService.deleteSection(t).subscribe(e=>{this.snack.open(e.msg,null,{duration:5e3}),this.adminService.sections=this.adminService.sections.filter(e=>e._id!=t)},e=>{this.snack.open(e.msg,null,{duration:5e3})})}})}sectionCreated(e){this.adminService.sectionsMap.set(e._id,e.tx_section),this.adminService.sections=[e,...this.adminService.sections]}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(r.a),o.Nb(s.a),o.Nb(w.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-sections"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:1,vars:1,consts:[["class","saturno-card animated fadeIn",3,"ngClass",4,"ngIf"],[1,"saturno-card","animated","fadeIn",3,"ngClass"],[1,"mdi","mdi-select-group"],["class","row align-items-center justify-content-center",4,"ngIf"],[4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["class","my-2 animated fadeIn",4,"ngIf"],[1,"row","align-items-center","justify-content-center"],[1,"mdi","mdi-alert-box-outline","xxl","mx-2","text-danger"],["mat-table","",3,"dataSource"],["matColumnDef","tx_section"],["mat-header-cell","","class","text-left",4,"matHeaderCellDef"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","_id"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"text-left"],["mat-cell","",1,"text-left"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],[1,"mdi","mdi-delete","ml-2","xl","text-danger","pointer",3,"click"],["mat-header-row",""],["mat-row",""],["mat-button","",3,"click"],[1,"lg","mdi","mdi-plus"],[1,"lg","mdi","mdi-chevron-up"],[1,"my-2","animated","fadeIn"],[3,"sectionCreated"]],template:function(e,t){1&e&&o.Cc(0,mt,13,10,"div",0),2&e&&o.lc("ngIf",t.loginService.user.id_company)},directives:[a.k,a.i,l.a,l.e,l.h,l.d,l.b,O.j,O.c,O.e,O.b,O.g,O.i,O.d,O.a,O.f,O.h,k.a,Ke],styles:[""]}),e})();var bt=n("q59W"),ut=n("hzfI");function pt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-option",10),o.ac("click",function(){o.uc(e);const n=t.$implicit;return o.ec().sectionChange(n)}),o.Dc(1),o.Sb()}if(2&e){const e=t.$implicit;o.lc("value",e._id),o.Bb(1),o.Fc(" ",e.tx_section," ")}}let ft=(()=>{class e{constructor(e,t,n,a){this.adminService=e,this.loginService=t,this.sharedService=n,this.snack=a,this.scoreItemCreated=new o.o,this.sectionChanged=new o.o,this.sections=[]}ngOnInit(){this.forma=new i.i({idSection:new i.f(null,i.w.required),txItem:new i.f(null,i.w.required)})}createTable(e){this.forma.invalid||this.adminService.createScoreItem({id_section:this.forma.value.idSection,tx_item:this.forma.value.txItem}).subscribe(t=>{this.scoreItemCreated.emit(t.scoreitem),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e),this.forma.patchValue({idSection:t.scoreitem.id_section})})}resetForm(e){e.resetForm(),this.sharedService.scrollTop()}sectionChange(e){this.sectionChanged.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(s.a),o.Nb(r.a),o.Nb(B.a),o.Nb(w.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-poll-create"]],inputs:{sections:"sections"},outputs:{scoreItemCreated:"scoreItemCreated",sectionChanged:"sectionChanged"},decls:16,vars:2,consts:[["autocomplete","off","ngNativeValidate","",3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"w-100"],["formControlName","idSection","name","idSection","matNativeControl","","required",""],["selectSection",""],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","placeholder","Item a calificar","formControlName","txItem","name","txItem","type","text","required",""],[1,"container","pt-4","px-0"],["mat-raised-button","","color","accent","type","submit"],[1,"mdi","lg","mdi-content-save-outline"],[3,"value","click"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"form",0,1),o.ac("ngSubmit",function(){o.uc(e);const n=o.tc(1);return t.createTable(n)}),o.Tb(2,"mat-form-field",2),o.Tb(3,"mat-label"),o.Dc(4,"Seleccione un sector"),o.Sb(),o.Tb(5,"mat-select",3,4),o.Cc(7,pt,2,2,"mat-option",5),o.Sb(),o.Sb(),o.Tb(8,"mat-form-field",2),o.Tb(9,"mat-label"),o.Dc(10,"Item a calificar"),o.Sb(),o.Ob(11,"input",6),o.Sb(),o.Tb(12,"div",7),o.Tb(13,"button",8),o.Ob(14,"span",9),o.Dc(15," GUARDAR ITEM A CALIFICAR "),o.Sb(),o.Sb(),o.Sb()}2&e&&(o.lc("formGroup",t.forma),o.Bb(7),o.lc("ngForOf",t.sections))},directives:[i.q,i.j,x.c,x.f,E.a,i.p,i.h,i.v,a.j,I.b,i.d,k.a,A.l],styles:[""]}),e})();function ht(e,t){if(1&e&&(o.Tb(0,"span"),o.Dc(1),o.Sb()),2&e){const e=o.ec();o.Bb(1),o.Fc(" del sector ",e.sectionSelected.tx_section,"")}}function St(e,t){1&e&&(o.Tb(0,"div",6),o.Ob(1,"span",7),o.Tb(2,"span"),o.Dc(3,"No hay items en este sector"),o.Sb(),o.Sb())}function gt(e,t){1&e&&(o.Tb(0,"th",18),o.Dc(1," Sector "),o.Sb())}function vt(e,t){if(1&e&&(o.Tb(0,"td",19),o.Dc(1),o.Sb()),2&e){const e=t.$implicit,n=o.ec(2);o.Bb(1),o.Fc(" ",n.adminService.sectionsMap.get(e.id_section),"")}}function Tt(e,t){1&e&&(o.Tb(0,"th",18),o.Dc(1," Item a Calificar "),o.Sb())}function Ct(e,t){if(1&e&&(o.Tb(0,"td",19),o.Dc(1),o.Sb()),2&e){const e=t.$implicit;o.Bb(1),o.Ec(e.tx_item)}}function yt(e,t){1&e&&(o.Tb(0,"th",20),o.Dc(1," Acci\xf3n "),o.Sb())}function xt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"td",21),o.Tb(1,"span",22),o.ac("click",function(){o.uc(e);const n=t.$implicit;return o.ec(2).deleteScoreItem(n._id)}),o.Sb(),o.Sb()}}function It(e,t){1&e&&o.Ob(0,"tr",23)}function _t(e,t){1&e&&o.Ob(0,"tr",24)}function Dt(e,t){if(1&e&&(o.Tb(0,"div"),o.Tb(1,"table",8),o.Rb(2,9),o.Cc(3,gt,2,0,"th",10),o.Cc(4,vt,2,1,"td",11),o.Qb(),o.Rb(5,12),o.Cc(6,Tt,2,0,"th",10),o.Cc(7,Ct,2,1,"td",11),o.Qb(),o.Rb(8,13),o.Cc(9,yt,2,0,"th",14),o.Cc(10,xt,2,0,"td",15),o.Qb(),o.Cc(11,It,1,0,"tr",16),o.Cc(12,_t,1,0,"tr",17),o.Sb(),o.Sb()),2&e){const e=o.ec();o.Bb(1),o.lc("dataSource",e.scoreItemsSection),o.Bb(10),o.lc("matHeaderRowDef",e.displayedColumns),o.Bb(1),o.lc("matRowDefColumns",e.displayedColumns)}}function wt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",25),o.ac("click",function(){return o.uc(e),o.ec().scoreItemCreate=!0}),o.Ob(1,"span",26),o.Dc(2," CREAR ITEM A CALIFICAR "),o.Sb()}}function Ot(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",25),o.ac("click",function(){return o.uc(e),o.ec().scoreItemCreate=!1}),o.Ob(1,"span",27),o.Dc(2," CERRAR FORMULARIO "),o.Sb()}}function kt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"app-poll-create",30),o.ac("sectionChanged",function(t){return o.uc(e),o.ec(2).sectionChanged(t)})("scoreItemCreated",function(t){return o.uc(e),o.ec(2).scoreItemCreated(t)}),o.Sb()}if(2&e){const e=o.ec(2);o.lc("sections",e.adminService.sections)}}function Bt(e,t){if(1&e&&(o.Tb(0,"mat-card",28),o.Cc(1,kt,1,1,"app-poll-create",29),o.Sb()),2&e){const e=o.ec();o.Bb(1),o.lc("ngIf",e.adminService.sections)}}const Et=function(e,t){return{nomargin:e,nopadding:t}};let At=(()=>{class e{constructor(e,t,n){this.adminService=e,this.loginService=t,this.snack=n,this.displayedColumns=["id_section","tx_item","_id"],this.scoreItemCreate=!1,this.scoreItems=[],this.scoreItemsSection=[],this.readScoreItems=e=>{this.adminService.readScoreItems(e).subscribe(e=>{this.scoreItems=e.scoreitems,this.scoreItemsSection=e.scoreitems})}}ngOnInit(){var e;let t=null===(e=this.loginService.user.id_company)||void 0===e?void 0:e._id;t&&this.readScoreItems(t)}deleteScoreItem(e){this.snack.open("Desea eliminar este item?","ELIMINAR",{duration:5e3}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.adminService.deleteScoreItem(e).subscribe(t=>{this.snack.open(t.msg,null,{duration:5e3}),this.scoreItems=this.scoreItems.filter(t=>t._id!=e),this.scoreItemsSection=this.scoreItemsSection.filter(t=>t._id!=e)},e=>{this.snack.open(e.msg,null,{duration:5e3})})})}sectionChanged(e){this.sectionSelected=e,this.scoreItemsSection=this.scoreItems.filter(t=>t.id_section===e._id)}scoreItemCreated(e){this.newItem=e,this.scoreItems.push(e),this.scoreItemsSection.push(e)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(s.a),o.Nb(r.a),o.Nb(w.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-poll"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:15,vars:10,consts:[[1,"saturno-card","animated","fadeIn",3,"ngClass"],[1,"mdi","mdi-poll-box"],[4,"ngIf"],["class","row align-items-center justify-content-center",4,"ngIf"],["mat-button","",3,"click",4,"ngIf"],["class","my-2 animated fadeIn",4,"ngIf"],[1,"row","align-items-center","justify-content-center"],[1,"mdi","mdi-alert-box-outline","xxl","mx-2","text-danger"],["mat-table","",3,"dataSource"],["matColumnDef","id_section"],["mat-header-cell","","class","text-left",4,"matHeaderCellDef"],["mat-cell","","class","text-left",4,"matCellDef"],["matColumnDef","tx_item"],["matColumnDef","_id"],["mat-header-cell","","class","text-right",4,"matHeaderCellDef"],["mat-cell","","class","text-right",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"text-left"],["mat-cell","",1,"text-left"],["mat-header-cell","",1,"text-right"],["mat-cell","",1,"text-right"],[1,"mdi","mdi-delete","ml-2","xl","text-danger","pointer",3,"click"],["mat-header-row",""],["mat-row",""],["mat-button","",3,"click"],[1,"lg","mdi","mdi-plus"],[1,"lg","mdi","mdi-chevron-up"],[1,"my-2","animated","fadeIn"],[3,"sections","sectionChanged","scoreItemCreated",4,"ngIf"],[3,"sections","sectionChanged","scoreItemCreated"]],template:function(e,t){1&e&&(o.Tb(0,"div",0),o.Tb(1,"mat-card"),o.Tb(2,"mat-card-header"),o.Tb(3,"mat-card-title"),o.Ob(4,"span",1),o.Tb(5,"span"),o.Dc(6," Mi encuesta "),o.Sb(),o.Cc(7,ht,2,1,"span",2),o.Sb(),o.Sb(),o.Tb(8,"mat-card-content"),o.Cc(9,St,4,0,"div",3),o.Cc(10,Dt,13,3,"div",2),o.Sb(),o.Tb(11,"mat-card-actions"),o.Cc(12,wt,3,0,"button",4),o.Cc(13,Ot,3,0,"button",4),o.Sb(),o.Sb(),o.Cc(14,Bt,2,1,"mat-card",5),o.Sb()),2&e&&(o.lc("ngClass",o.qc(7,Et,t.nomargin,t.nopadding)),o.Bb(7),o.lc("ngIf",t.sectionSelected),o.Bb(2),o.lc("ngIf",!t.scoreItemsSection||0===(null==t.scoreItemsSection?null:t.scoreItemsSection.length)),o.Bb(1),o.lc("ngIf",t.scoreItemsSection&&(null==t.scoreItemsSection?null:t.scoreItemsSection.length)>0),o.Bb(2),o.lc("ngIf",!t.scoreItemCreate),o.Bb(1),o.lc("ngIf",t.scoreItemCreate),o.Bb(1),o.lc("ngIf",t.scoreItemCreate))},directives:[a.i,l.a,l.e,l.h,a.k,l.d,l.b,O.j,O.c,O.e,O.b,O.g,O.i,O.d,O.a,O.f,O.h,k.a,ft],styles:[""]}),e})();var Rt=n("mrSG");class Nt{constructor(e){this.archivo=e,this.nombreArchivo=e.name,this.estaSubiendo=!1,this.progreso=0}}var Ut=n("PSD3"),Ft=n.n(Ut),qt=n("cxbk"),Lt=n("IheW");let Mt=(()=>{class e{constructor(e){this.http=e}subirImagen(e,t="usuarios",n){const a=qt.a.url+"/uploads/"+n+"/"+t,i=new FormData;return i.append("imagen",e.archivo,e.archivo.name),this.http.put(a,i,{reportProgress:!0})}borrarImagen(e,t,n){return this.http.delete(qt.a.url+"/uploads/"+t+"/"+e+"/"+n,{reportProgress:!0})}}return e.\u0275fac=function(t){return new(t||e)(o.Xb(Lt.b))},e.\u0275prov=o.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Pt=(()=>{class e{constructor(){this.mouseSobre=new o.o,this.sendDropFiles=new o.o}onDragEnter(e){e.preventDefault(),e.stopPropagation(),this.mouseSobre.emit(!0),this.sendDropFiles.emit(e)}onDragLeave(e){this.mouseSobre.emit(!1)}onDrop(e){this.sendDropFiles.emit(e),this.mouseSobre.emit(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=o.Ib({type:e,selectors:[["","app-dropfiles",""]],hostBindings:function(e,t){1&e&&o.ac("dragover",function(e){return t.onDragEnter(e)})("dragleave",function(e){return t.onDragLeave(e)})("drop",function(e){return t.onDrop(e)})},outputs:{mouseSobre:"mouseSobre",sendDropFiles:"sendDropFiles"}}),e})();var zt=n("0CBe");let Vt=(()=>{class e{transform(e,t){let n;return n=e.length>t?e.substr(0,t)+"...":e,n}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=o.Mb({name:"wordMaxLength",type:e,pure:!0}),e})();const Gt=["filesUpload"];function Ht(e,t){if(1&e&&(o.Tb(0,"label",13),o.Ob(1,"img",14),o.Sb()),2&e){const e=o.ec(4);o.lc("for",e.txType)}}function $t(e,t){if(1&e&&(o.Ob(0,"img",15),o.fc(1,"imagenPipe")),2&e){const e=o.ec(4);o.mc("src",o.ic(1,1,e.company.tx_company_logo,e.txType,null==e.company?null:e.company._id),o.vc)}}function jt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",9),o.Cc(1,Ht,2,1,"label",10),o.Cc(2,$t,2,5,"img",11),o.Tb(3,"span",12),o.ac("click",function(){return o.uc(e),o.ec(3).borrarLogo()}),o.Sb(),o.Sb()}if(2&e){const e=o.ec(3);o.Bb(1),o.lc("ngIf","default-logo.svg"===e.company.tx_company_logo),o.Bb(1),o.lc("ngIf","default-logo.svg"!==e.company.tx_company_logo)}}function Wt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",16),o.Ob(1,"img",17),o.Tb(2,"span",12),o.ac("click",function(){o.uc(e);const n=t.$implicit;return o.ec(3).borrarImagenQueue(n.nombreArchivo)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit;o.Bb(1),o.lc("src",e.bufferImage,o.vc)}}function Qt(e,t){if(1&e&&(o.Tb(0,"div",6),o.Cc(1,jt,4,2,"div",7),o.Cc(2,Wt,3,1,"div",8),o.Sb()),2&e){const e=o.ec(2);o.Bb(1),o.lc("ngIf",!e.filesToUpload||0===e.filesToUpload.length),o.Bb(1),o.lc("ngForOf",e.filesToUpload)}}function Jt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",16),o.Ob(1,"img",15),o.fc(2,"imagenPipe"),o.Tb(3,"span",12),o.ac("click",function(){o.uc(e);const n=t.$implicit;return o.ec(3).borrarImagen(n)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit,n=o.ec(3);o.Bb(1),o.mc("src",o.ic(2,1,e,n.txType,null==n.company?null:n.company._id),o.vc)}}function Zt(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",16),o.Ob(1,"img",17),o.Tb(2,"span",12),o.ac("click",function(){o.uc(e);const n=t.$implicit;return o.ec(3).borrarImagenQueue(n.nombreArchivo)}),o.Sb(),o.Sb()}if(2&e){const e=t.$implicit;o.Bb(1),o.lc("src",e.bufferImage,o.vc)}}function Kt(e,t){if(1&e&&(o.Tb(0,"div",9),o.Tb(1,"label",13),o.Ob(2,"img",14),o.Sb(),o.Sb()),2&e){const e=o.ec(3);o.Bb(1),o.lc("for",e.txType)}}const Yt=function(){return[]};function Xt(e,t){if(1&e&&(o.Tb(0,"div",6),o.Cc(1,Jt,4,5,"div",8),o.Cc(2,Zt,3,1,"div",8),o.Cc(3,Kt,3,1,"div",18),o.Sb()),2&e){const e=o.ec(2);o.Bb(1),o.lc("ngForOf",e.company.tx_company_banners),o.Bb(1),o.lc("ngForOf",e.filesToUpload),o.Bb(1),o.lc("ngForOf",o.oc(3,Yt).constructor(e.maxupload-e.company.tx_company_banners.length-e.filesToUpload.length))}}function en(e,t){if(1&e&&(o.Tb(0,"div"),o.Cc(1,Qt,3,2,"div",5),o.Cc(2,Xt,4,4,"div",5),o.Sb()),2&e){const e=o.ec();o.Bb(1),o.lc("ngIf","logo"===e.txType),o.Bb(1),o.lc("ngIf","banner"===e.txType)}}function tn(e,t){1&e&&(o.Tb(0,"div"),o.Dc(1,"Arrastre aqu\xed las imagenes"),o.Sb())}const nn=function(e){return{"text-green":e}},an=function(e){return{width:e}};function cn(e,t){if(1&e&&(o.Tb(0,"div"),o.Tb(1,"div",19),o.Dc(2),o.fc(3,"wordMaxLength"),o.fc(4,"number"),o.Sb(),o.Tb(5,"div",20),o.Ob(6,"div",21),o.Sb(),o.Sb()),2&e){const e=t.$implicit;o.Bb(1),o.lc("ngClass",o.pc(11,nn,e.progreso>=100)),o.Bb(1),o.Hc(" ",o.hc(3,5,e.nombreArchivo,10)," ",o.hc(4,8,e.archivo.size/1024,".2-2")," KB (Subido: ",e.progreso,"%) "),o.Bb(4),o.lc("ngStyle",o.pc(13,an,e.progreso+"%"))}}function on(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-card-actions"),o.Tb(1,"button",22),o.ac("click",function(){return o.uc(e),o.ec().subirImagenes()}),o.Ob(2,"i",23),o.Dc(3," Subir Imagenes"),o.Sb(),o.Tb(4,"button",22),o.ac("click",function(){return o.uc(e),o.ec().borrarImagenes()}),o.Ob(5,"i",24),o.Dc(6," Eliminar Todas"),o.Sb(),o.Sb()}if(2&e){const e=o.ec();o.Bb(1),o.lc("disabled",0==e.filesToUpload.length),o.Bb(3),o.lc("disabled",0==e.company.tx_company_banners.length)}}function rn(e,t){if(1&e){const e=o.Ub();o.Tb(0,"mat-card-actions"),o.Tb(1,"button",22),o.ac("click",function(){return o.uc(e),o.ec().subirLogo()}),o.Ob(2,"i",23),o.Dc(3," Subir Logo"),o.Sb(),o.Tb(4,"button",22),o.ac("click",function(){return o.uc(e),o.ec().borrarLogo()}),o.Ob(5,"i",24),o.Dc(6," Eliminar Logo"),o.Sb(),o.Sb()}if(2&e){const e=o.ec();o.Bb(1),o.lc("disabled",0==e.filesToUpload.length),o.Bb(3),o.lc("disabled",0==e.company.tx_company_banners.length)}}const sn=function(e){return{"file-over":e}};let ln=(()=>{class e{constructor(e,t){this.uploaderService=e,this.snack=t,this.multi=!1,this.companyUpdated=new o.o,this.filesToUpload=[],this.maxupload=12,this.maxSize=102400,this.estaSobreElemento=!1}ngOnInit(){return Object(Rt.a)(this,void 0,void 0,function*(){this.filesUpload.nativeElement.multiple=this.multi,this.maxupload=this.multi?this.maxupload:1,console.log(this)})}subirLogo(){let e=this.filesToUpload[0];this.uploaderService.subirImagen(e,this.txType,this.company._id).subscribe(t=>{console.log(t.company.tx_company_logo),e.progreso=100,e.estaSubiendo=!1,this.company.tx_company_logo=t.filename,this.filesToUpload=[],this.companyUpdated.emit(this.company)})}borrarLogo(){this.snack.open("Desea borrar el logo?","Si, Borrarlo",{duration:5e3}).afterDismissed().subscribe(e=>{e.dismissedByAction&&this.uploaderService.borrarImagen(this.txType,this.company._id,null).subscribe(e=>{this.company=e.company,this.companyUpdated.emit(this.company)})})}subirImagenes(){let e=0,t=[];this.filesToUpload.forEach(n=>{n.estaSubiendo=!0,this.uploaderService.subirImagen(n,this.txType,this.company._id).subscribe(a=>{console.log(a.company.tx_company_banners),e++,n.progreso=100,n.estaSubiendo=!1,t.push(a.filename),this.company.tx_company_banners.push(a.filename),e===this.filesToUpload.length&&(this.filesToUpload=[],this.companyUpdated.emit(this.company))},()=>{this.filesToUpload=this.filesToUpload.filter(e=>e.nombreArchivo!==n.nombreArchivo)})})}borrarImagenes(){Ft.a.fire({title:"\xbfEst\xe1 seguro?",text:"Esta por borrar todas las imagenes de este aviso en el servidor",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"No, cancelar!",confirmButtonText:"Si, quiero borrarla"}).then(e=>{e.value&&(this.uploaderService.borrarImagen(this.txType,this.company._id,"todas").subscribe(e=>{this.filesToUpload=[],this.company=e.company,this.companyUpdated.emit(this.company)}),Ft.a.fire({position:"center",icon:"success",title:"Eliminada!",showConfirmButton:!1,timer:700}))})}borrarImagen(e){Ft.a.fire({title:"\xbfEst\xe1 seguro?",text:"Esta por borrar una imagen en el servidor",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",cancelButtonText:"No, cancelar!",confirmButtonText:"Si, quiero borrarla"}).then(t=>{t.value&&(console.log("borrando",e),this.uploaderService.borrarImagen(this.txType,this.company._id,e).subscribe(e=>{this.company=e.company,this.companyUpdated.emit(this.company)}),Ft.a.fire({position:"center",icon:"success",title:"Eliminada!",showConfirmButton:!1,timer:700}))})}borrarImagenQueue(e){this.filesToUpload=this.filesToUpload.filter(t=>t.nombreArchivo!==e)}queueFiles(e){let t=e.target.files||e.dataTransfer.files;"banner"===this.txType&&this.maxupload-this.company.tx_company_banners.length-this.filesToUpload.length-t.length<0?this.snack.open(`Supera el m\xe1ximo permitido de ${this.maxupload} im\xe1genes`,null,{duration:3e3}):(this._extraerArchivos(t),this._prevenirDetener(e))}_getTransferencia(e){return e.dataTransfer.files?e.dataTransfer.files:e.originalEvent.dataTransfer.files}_extraerArchivos(e){for(const t in Object.getOwnPropertyNames(e)){const n=e[t];if(this._fileCanLoaded(n)){const e=new Nt(n),t=new FileReader;t.readAsDataURL(n),t.onloadend=()=>e.bufferImage=t.result,this.filesToUpload.push(e)}}}_fileCanLoaded(e){return!(this._fileWasDropped(e.name)||!this._isImage(e.type)||!this._sizeOk(e.size))}_prevenirDetener(e){e.preventDefault(),e.stopPropagation()}_fileWasDropped(e){for(const t of this.filesToUpload)if(t.nombreArchivo===e)return this.snack.open(`El archivo ${e} ya fue cargado.`,null,{duration:3e3}),!0;return!1}_isImage(e){return!(""===e||void 0===e||!e.startsWith("image"))||(this.snack.open("No es un tipo de archivo de imagen permitido.",null,{duration:3e3}),!1)}_sizeOk(e){return!(e>this.maxSize&&(this.snack.open(`El archivo supera el tama\xf1o m\xe1ximo permitido de ${this.maxSize/1024} kb`,null,{duration:3e3}),1))}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(Mt),o.Nb(w.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-uploader"]],viewQuery:function(e,t){if(1&e&&o.yc(Gt,!0),2&e){let e;o.sc(e=o.bc())&&(t.filesUpload=e.first)}},inputs:{multi:"multi",company:"company",txType:"txType",cardData:"cardData"},outputs:{companyUpdated:"companyUpdated"},decls:17,vars:13,consts:[["app-dropfiles","",1,"container","p-2","drop-zone","file-over",3,"ngClass","mouseSobre","sendDropFiles"],["type","file",2,"display","none",3,"id","change"],["filesUpload",""],[4,"ngIf"],[4,"ngFor","ngForOf"],["class","images-container",4,"ngIf"],[1,"images-container"],["class","image pointer",4,"ngIf"],["class","image",4,"ngFor","ngForOf"],[1,"image","pointer"],["style","cursor: inherit;",3,"for",4,"ngIf"],[3,"src",4,"ngIf"],[1,"mdi","mdi-close","delete-icon",3,"click"],[2,"cursor","inherit",3,"for"],["src","../../../assets/img/no-image1.png"],[3,"src"],[1,"image"],[1,"image-queue",3,"src"],["class","image pointer",4,"ngFor","ngForOf"],[1,"text-upload","text-left",3,"ngClass"],[1,"progress","animated","fadeIn"],["role","progressbar","aria-valuenow","25","aria-valuemin","0","aria-valuemax","100",1,"progress-bar",2,"width","25%",3,"ngStyle"],["mat-button","",3,"disabled","click"],[1,"mdi","mdi-upload"],[1,"mdi","mdi-delete"]],template:function(e,t){1&e&&(o.Tb(0,"mat-card"),o.Tb(1,"mat-card-header"),o.Tb(2,"mat-card-title"),o.Ob(3,"span"),o.Dc(4),o.Sb(),o.Tb(5,"mat-card-subtitle"),o.Dc(6),o.Sb(),o.Sb(),o.Tb(7,"mat-card-content"),o.Tb(8,"div",0),o.ac("mouseSobre",function(e){return t.estaSobreElemento=e})("sendDropFiles",function(e){return t.queueFiles(e)}),o.Tb(9,"input",1,2),o.ac("change",function(e){return t.queueFiles(e)}),o.Sb(),o.Cc(11,en,3,2,"div",3),o.Tb(12,"div"),o.Cc(13,tn,2,0,"div",3),o.Cc(14,cn,7,15,"div",4),o.Sb(),o.Sb(),o.Sb(),o.Cc(15,on,7,2,"mat-card-actions",3),o.Cc(16,rn,7,2,"mat-card-actions",3),o.Sb()),2&e&&(o.Bb(3),o.Db(t.cardData.icon),o.Bb(1),o.Fc(" ",t.cardData.title," "),o.Bb(2),o.Ec(t.cardData.subtitle),o.Bb(2),o.lc("ngClass",o.pc(11,sn,t.estaSobreElemento)),o.Bb(1),o.lc("id",t.txType),o.Bb(2),o.lc("ngIf",t.company),o.Bb(2),o.lc("ngIf",0===t.filesToUpload.length),o.Bb(1),o.lc("ngForOf",t.filesToUpload),o.Bb(1),o.lc("ngIf","banner"===t.txType),o.Bb(1),o.lc("ngIf","logo"===t.txType))},directives:[l.a,l.e,l.h,l.g,l.d,Pt,a.i,a.k,a.j,a.l,l.b,k.a],pipes:[zt.a,Vt,a.d],styles:[".drop-zone[_ngcontent-%COMP%]{border:1px dotted grey;color:#666;text-align:center;vertical-align:top}.file-over[_ngcontent-%COMP%]{border:1px dotted #1e90ff}.text-upload[_ngcontent-%COMP%]{font-size:small;font-family:monospace}.text-green[_ngcontent-%COMP%]{color:#139913}.slider_imgs[_ngcontent-%COMP%]{height:70px;width:70px}.image[_ngcontent-%COMP%]:hover{border:1px solid hsla(0,0%,39.2%,.5)}.image[_ngcontent-%COMP%]   .delete-icon[_ngcontent-%COMP%]{cursor:pointer;position:absolute;top:0;color:#fff;font-weight:200;right:3px;text-shadow:-1px 0 #000,0 1px #000,0 -1px #000,1px 0 #000}.table-upload[_ngcontent-%COMP%]{font-size:12px;text-align:left;vertical-align:top;margin:0;padding:0;width:100%}.progress[_ngcontent-%COMP%]{display:flex;height:.2rem;overflow:hidden;line-height:0;font-size:.75rem;background-color:#5d5d5d}.image-queue[_ngcontent-%COMP%]{opacity:.3}.image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto}.images-container[_ngcontent-%COMP%]{display:flex;flex-grow:1;flex-shrink:1;flex-basis:auto;flex-wrap:wrap;justify-content:center}.image-logo[_ngcontent-%COMP%]{width:8em;height:8em}.image[_ngcontent-%COMP%], .image-logo[_ngcontent-%COMP%]{position:relative;display:flex;margin:5px}.image[_ngcontent-%COMP%]{width:4em;height:4em}"]}),e})();const mn=function(e,t){return{nomargin:e,nopadding:t}},dn=function(){return{icon:"mdi mdi-image-filter-hdr",title:"Subir Logotipo",subtitle:"Sub\xed un logotipo de tu comercio."}},bn=function(){return{icon:"mdi mdi-image",title:"Subir Imagenes",subtitle:"Sub\xed fotos de tu comercio. Estas imagenes se ver\xe1n en la web page. El tama\xf1o del canvas es de 500px x 200px."}};let un=(()=>{class e{constructor(e,t,n){this.sharedService=e,this.loginService=t,this.adminService=n}ngOnInit(){this.company=this.loginService.user.id_company,this.formAbout=new i.i({txAbout:new i.f("",i.w.required)})}sendAbout(e){console.log(this.formAbout.value)}resetForm(e){this.aboutEdit=null,this.formAbout.enable(),this.formAbout.reset(),e.resetForm(),this.sharedService.scrollTop()}companyUpdated(e){this.loginService.user.id_company=e,this.loginService.pushUser(this.loginService.user)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(B.a),o.Nb(r.a),o.Nb(s.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-about"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:19,vars:13,consts:[[1,"saturno-card","animated","fadeIn",3,"ngClass"],[3,"formGroup","ngSubmit"],["formDirective","ngForm"],[1,"w-100"],["rows","5","matInput","","placeholder","Ingrese la historia aqu\xed","formControlName","txAbout"],[1,"container","pt-4","px-0"],[1,"row","text-center"],[1,"col"],["mat-raised-button","","color","accent","type","submit"],[1,"mdi","lg","mdi-content-save-outline"],[1,"my-3"],["txType","logo",3,"multi","cardData","company","companyUpdated"],["txType","banner",3,"multi","cardData","company","companyUpdated"]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",0),o.Tb(1,"mat-card"),o.Tb(2,"mat-card-content"),o.Tb(3,"form",1,2),o.ac("ngSubmit",function(){o.uc(e);const n=o.tc(4);return t.sendAbout(n)}),o.Tb(5,"mat-form-field",3),o.Tb(6,"mat-label"),o.Dc(7,"Ingrese la historia del lugar"),o.Sb(),o.Ob(8,"textarea",4),o.Sb(),o.Tb(9,"div",5),o.Tb(10,"div",6),o.Tb(11,"div",7),o.Tb(12,"button",8),o.Ob(13,"span",9),o.Dc(14," Guardar Bar / Resto "),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Ob(15,"div",10),o.Tb(16,"app-uploader",11),o.ac("companyUpdated",function(e){return t.companyUpdated(e)}),o.Sb(),o.Ob(17,"div",10),o.Tb(18,"app-uploader",12),o.ac("companyUpdated",function(e){return t.companyUpdated(e)}),o.Sb(),o.Sb()}2&e&&(o.lc("ngClass",o.qc(8,mn,t.nomargin,t.nopadding)),o.Bb(3),o.lc("formGroup",t.formAbout),o.Bb(13),o.lc("multi",!1)("cardData",o.oc(11,dn))("company",t.company),o.Bb(2),o.lc("multi",!0)("cardData",o.oc(12,bn))("company",t.company))},directives:[a.i,l.a,l.d,i.x,i.q,i.j,x.c,x.f,I.b,i.d,i.p,i.h,k.a,ln],styles:[""]}),e})();var pn=n("Tj54");function fn(e,t){1&e&&(o.Tb(0,"mat-icon"),o.Dc(1,"call_end"),o.Sb())}function hn(e,t){1&e&&(o.Tb(0,"mat-icon"),o.Dc(1,"forum"),o.Sb())}function Sn(e,t){1&e&&(o.Tb(0,"div"),o.Tb(1,"div",5),o.Tb(2,"p"),o.Dc(3," Si no ten\xe9s ning\xfan bar o restorant registrado desde ac\xe1 ten\xe9s que registrar al menos uno. "),o.Sb(),o.Tb(4,"p"),o.Dc(5," Es importante que ingreses la direcci\xf3n exacta de tu comercio. Esta direcci\xf3n ser\xe1 visible para tus clientes desde el men\xfa p\xfablico de turnos y les asegura que est\xe1n obteniendo un turno en el bar / restorant correcto. "),o.Sb(),o.Sb(),o.Sb())}function gn(e,t){1&e&&(o.Tb(0,"div"),o.Tb(1,"div",5),o.Tb(2,"p"),o.Dc(3," Pod\xe9s seguir adelante con el asistente. "),o.Sb(),o.Tb(4,"p"),o.Dc(5," Record\xe1 que pod\xe9s crear mas comercios si dispon\xe9s de sucursales y luego pod\xe9s cambiar de comercio seleccionandolo desde el menu principal "),o.Ob(6,"span",25),o.Sb(),o.Sb(),o.Sb())}function vn(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",14),o.ac("click",function(){o.uc(e);const t=o.ec(),n=o.tc(2);return t.stepperGoNext(n)}),o.Dc(1," SIGUIENTE "),o.Ob(2,"span",21),o.Sb()}}function Tn(e,t){1&e&&(o.Tb(0,"button",26),o.Dc(1," SIGUIENTE "),o.Ob(2,"span",21),o.Sb())}function Cn(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",14),o.ac("click",function(){o.uc(e);const t=o.ec(),n=o.tc(2);return t.stepperGoNext(n)}),o.Dc(1," SIGUIENTE "),o.Ob(2,"span",21),o.Sb()}}function yn(e,t){1&e&&(o.Tb(0,"button",26),o.Dc(1," SIGUIENTE "),o.Ob(2,"span",21),o.Sb())}function xn(e,t){if(1&e){const e=o.Ub();o.Tb(0,"button",14),o.ac("click",function(){o.uc(e);const t=o.ec(),n=o.tc(2);return t.stepperGoNext(n)}),o.Dc(1," SIGUIENTE "),o.Ob(2,"span",21),o.Sb()}}function In(e,t){1&e&&(o.Tb(0,"button",26),o.Dc(1," SIGUIENTE "),o.Ob(2,"span",21),o.Sb())}const _n=[{path:"home",component:C},{path:"wizard",component:(()=>{class e{constructor(e,t,n,a){this.router=e,this.loginService=t,this.adminService=n,this.sharedService=a,this.activateSectorExplanation=!1,this.activateTableExplanation=!1,this.activateWaiterExplanation=!1}ngOnInit(){}endWizard(){this.router.navigate(["/admin/home"])}stepperGoBack(e){e.previous()}stepperGoNext(e){var t,n,a;0!==(null===(t=this.adminService.companies)||void 0===t?void 0:t.length)?(null===(a=null===(n=this.loginService.user)||void 0===n?void 0:n.id_company)||void 0===a?void 0:a._id)?(this.sharedService.scrollTop(),e.next()):this.sharedService.snack("Seleccion\xe1 una empresa desde el men\xfa para continuar.",5e3):this.sharedService.snack("Para continuar ten\xe9s que crear un comercio primero",5e3)}}return e.\u0275fac=function(t){return new(t||e)(o.Nb(c.b),o.Nb(r.a),o.Nb(s.a),o.Nb(B.a))},e.\u0275cmp=o.Hb({type:e,selectors:[["app-wizard"]],features:[o.Ab([{provide:bt.h,useValue:{displayDefaultIndicatorType:!1}}])],decls:141,vars:24,consts:[[1,"saturno-card","animated","fadeIn"],["labelPosition","bottom","linear","",2,"text-align","left"],["stepper",""],["matStepperIcon","phone"],["matStepperIcon","chat"],[1,"saturno-minicard-text"],[1,"w-100","text-center"],["mat-raised-button","","matStepperNext","","color","accent"],[3,"completed"],["mat-card-avatar","",1,"step-header","mdi","xxxl","mdi-store-outline"],[1,"step-header"],[4,"ngIf"],[3,"nomargin","nopadding"],[1,"text-right"],["mat-button","",3,"click"],[1,"md","align-top","mdi","mdi-chevron-double-left","text-info"],["mat-button","",3,"click",4,"ngIf"],["mat-button","","disabled","",4,"ngIf"],["mat-card-avatar","",1,"step-header","mdi","xxxl","mdi-select-group"],["mat-card-avatar","",1,"step-header","mdi","xxxl","mdi-table-furniture"],["mat-card-avatar","",1,"step-header","mdi","xxxl","mdi-account-tie"],[1,"md","align-top","mdi","mdi-chevron-double-right","text-success"],["mat-card-avatar","",1,"step-header","mdi","xxxl","mdi-poll-box"],["mat-card-avatar","",1,"step-header","mdi","xxxl","mdi-web-box"],[1,"mdi","align-top","mdi-check","text-success"],[1,"md","align-top","mdi","mdi-menu"],["mat-button","","disabled",""]],template:function(e,t){if(1&e){const e=o.Ub();o.Tb(0,"div",0),o.Tb(1,"mat-horizontal-stepper",1,2),o.Cc(3,fn,2,0,"ng-template",3),o.Cc(4,hn,2,0,"ng-template",4),o.Tb(5,"mat-step"),o.Tb(6,"mat-card"),o.Tb(7,"mat-card-content"),o.Tb(8,"div",5),o.Tb(9,"h4"),o.Dc(10),o.Sb(),o.Tb(11,"p"),o.Dc(12," Este peque\xf1o asistente te ayuda a crear todo lo necesario para comenzar a atender las solicitudes de mesa de tus clientes. "),o.Sb(),o.Tb(13,"p"),o.Dc(14," No te llevar\xe1 mas de un minuto y desde ac\xe1 pod\xe9s hacer todo. "),o.Sb(),o.Ob(15,"hr"),o.Tb(16,"div",6),o.Tb(17,"button",7),o.Dc(18," Comenzar!"),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(19,"mat-step",8),o.Tb(20,"mat-card"),o.Tb(21,"mat-card-header"),o.Ob(22,"div",9),o.Tb(23,"mat-card-title"),o.Dc(24," Comercios "),o.Sb(),o.Tb(25,"mat-card-subtitle",10),o.Dc(26," Al menos uno por cada usuario. "),o.Sb(),o.Sb(),o.Tb(27,"mat-card-content"),o.Cc(28,Sn,6,0,"div",11),o.Cc(29,gn,7,0,"div",11),o.Ob(30,"app-companies",12),o.Sb(),o.Tb(31,"mat-card-actions",13),o.Tb(32,"button",14),o.ac("click",function(){o.uc(e);const n=o.tc(2);return t.stepperGoBack(n)}),o.Ob(33,"span",15),o.Dc(34," ATRAS "),o.Sb(),o.Cc(35,vn,3,0,"button",16),o.Cc(36,Tn,3,0,"button",17),o.Sb(),o.Sb(),o.Sb(),o.Tb(37,"mat-step",8),o.Tb(38,"mat-card"),o.Tb(39,"mat-card-header"),o.Ob(40,"div",18),o.Tb(41,"mat-card-title"),o.Dc(42," Sectores "),o.Sb(),o.Tb(43,"mat-card-subtitle",10),o.Dc(44," Al menos uno por cada comercio. "),o.Sb(),o.Sb(),o.Tb(45,"mat-card-content"),o.Tb(46,"div",5),o.Tb(47,"p"),o.Dc(48," Desde ac\xe1 podes crear los diferentes sectores o \xe1reas que componen tu bar o resto. Tus clientes podr\xe1n elegir uno de estos sectores al momento de solicitar una mesa, y los camareros podran entrar a ellos para atender las mesas dentro de ese sector. "),o.Sb(),o.Tb(49,"p"),o.Dc(50,' Por ejemplo: "Terraza", "Patio", "Fumadores", "Primer Piso", "Segundo Piso" etc. '),o.Sb(),o.Sb(),o.Ob(51,"app-sections",12),o.Sb(),o.Tb(52,"mat-card-actions",13),o.Tb(53,"button",14),o.ac("click",function(){o.uc(e);const n=o.tc(2);return t.stepperGoBack(n)}),o.Ob(54,"span",15),o.Dc(55," ATRAS "),o.Sb(),o.Cc(56,Cn,3,0,"button",16),o.Cc(57,yn,3,0,"button",17),o.Sb(),o.Sb(),o.Sb(),o.Tb(58,"mat-step",8),o.Tb(59,"mat-card"),o.Tb(60,"mat-card-header"),o.Ob(61,"div",19),o.Tb(62,"mat-card-title"),o.Dc(63," Mesas "),o.Sb(),o.Tb(64,"mat-card-subtitle",10),o.Dc(65," Al menos una por cada sector. "),o.Sb(),o.Sb(),o.Tb(66,"mat-card-content"),o.Tb(67,"div",5),o.Tb(68,"p"),o.Dc(69," Ac\xe1 ten\xe9s que dar de alta todas las mesas para cada sector. S\xf3lo ten\xe9s que ingresar el n\xfamero de mesa y la cantidad m\xe1xima de personas que pueden sentarse en ellas. "),o.Sb(),o.Sb(),o.Sb(),o.Ob(70,"app-tables",12),o.Tb(71,"mat-card-actions",13),o.Tb(72,"button",14),o.ac("click",function(){o.uc(e);const n=o.tc(2);return t.stepperGoBack(n)}),o.Ob(73,"span",15),o.Dc(74," ATRAS "),o.Sb(),o.Cc(75,xn,3,0,"button",16),o.Cc(76,In,3,0,"button",17),o.Sb(),o.Sb(),o.Sb(),o.Tb(77,"mat-step"),o.Tb(78,"mat-card"),o.Tb(79,"mat-card-header"),o.Ob(80,"div",20),o.Tb(81,"mat-card-title"),o.Dc(82," Camareros "),o.Sb(),o.Tb(83,"mat-card-subtitle",10),o.Dc(84," Opcional "),o.Sb(),o.Sb(),o.Tb(85,"mat-card-content"),o.Tb(86,"div",5),o.Tb(87,"p"),o.Dc(88," Si no necesitas mas usuarios que tu propio usuario para atender turnos pod\xe9s omitir este paso y continuar. "),o.Sb(),o.Sb(),o.Ob(89,"app-waiters",12),o.Sb(),o.Tb(90,"mat-card-actions",13),o.Tb(91,"button",14),o.ac("click",function(){o.uc(e);const n=o.tc(2);return t.stepperGoBack(n)}),o.Ob(92,"span",15),o.Dc(93," ATRAS "),o.Sb(),o.Tb(94,"button",14),o.ac("click",function(){o.uc(e);const n=o.tc(2);return t.stepperGoNext(n)}),o.Dc(95," SIGUIENTE "),o.Ob(96,"span",21),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(97,"mat-step"),o.Tb(98,"mat-card"),o.Tb(99,"mat-card-header"),o.Ob(100,"div",22),o.Tb(101,"mat-card-title"),o.Dc(102," Encuestas "),o.Sb(),o.Tb(103,"mat-card-subtitle",10),o.Dc(104," Opcional "),o.Sb(),o.Sb(),o.Tb(105,"mat-card-content"),o.Tb(106,"div",5),o.Tb(107,"p"),o.Dc(108," Ac\xe1 pod\xe9s dar de alta items que tu cliente puede responder para calificar de 1 a 5 estrellas. Esta encuesta le aparece al finalizar la sesi\xf3n de su mesa. Podes crear una encuesta distinta para cada sector. "),o.Sb(),o.Tb(109,"p"),o.Dc(110,' Estos Items a califiar tienen que ser palabras, por ejemplo tu cliente podr\xeda querer calificar items como "Atenci\xf3n", "Comida", "Limpieza", etc. '),o.Sb(),o.Sb(),o.Ob(111,"app-poll",12),o.Sb(),o.Tb(112,"mat-card-actions",13),o.Tb(113,"button",14),o.ac("click",function(){o.uc(e);const n=o.tc(2);return t.stepperGoBack(n)}),o.Ob(114,"span",15),o.Dc(115," ATRAS "),o.Sb(),o.Tb(116,"button",14),o.ac("click",function(){o.uc(e);const n=o.tc(2);return t.stepperGoNext(n)}),o.Dc(117," SIGUIENTE "),o.Ob(118,"span",21),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Tb(119,"mat-step"),o.Tb(120,"mat-card"),o.Tb(121,"mat-card-header"),o.Ob(122,"div",23),o.Tb(123,"mat-card-title"),o.Dc(124," Web Page "),o.Sb(),o.Tb(125,"mat-card-subtitle",10),o.Dc(126," Historia, logo y al menos 1 foto de tu comercio. "),o.Sb(),o.Sb(),o.Tb(127,"mat-card-content"),o.Tb(128,"div",5),o.Tb(129,"p"),o.Dc(130," Ingresa una bienvenida a tus usuarios, puede ser la historia de tu comercio o cualquier texto de presentaci\xf3n a tus clientes. "),o.Sb(),o.Tb(131,"p"),o.Dc(132," Ten\xe9s que subir una imagen o logo de tu bar o restorant, preferentemente cuadrada y fondo transparente. Tambi\xe9n fotos del lugar como Banners, preferentemente de 500px x 200px o de relaci\xf3n 5:2 que no supere los 100kb. "),o.Sb(),o.Sb(),o.Ob(133,"app-about",12),o.Sb(),o.Tb(134,"mat-card-actions",13),o.Tb(135,"button",14),o.ac("click",function(){o.uc(e);const n=o.tc(2);return t.stepperGoBack(n)}),o.Ob(136,"span",15),o.Dc(137," ATRAS "),o.Sb(),o.Tb(138,"button",14),o.ac("click",function(){return t.endWizard()}),o.Dc(139," FINALIZAR "),o.Ob(140,"span",24),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb(),o.Sb()}2&e&&(o.Bb(10),o.Fc("Hola ",null==t.loginService?null:t.loginService.user.tx_name,"!"),o.Bb(9),o.lc("completed",(null==t.adminService.companies?null:t.adminService.companies.length)>0&&(null==t.loginService.user||null==t.loginService.user.id_company?null:t.loginService.user.id_company._id)),o.Bb(9),o.lc("ngIf",0===(null==t.adminService.companies?null:t.adminService.companies.length)),o.Bb(1),o.lc("ngIf",(null==t.adminService.companies?null:t.adminService.companies.length)>0&&(null==t.loginService.user||null==t.loginService.user.id_company?null:t.loginService.user.id_company._id)),o.Bb(1),o.lc("nomargin",!0)("nopadding",!0),o.Bb(5),o.lc("ngIf",t.adminService.companies&&(null==t.loginService.user||null==t.loginService.user.id_company?null:t.loginService.user.id_company._id)),o.Bb(1),o.lc("ngIf",!t.adminService.companies||!(null!=t.loginService.user&&t.loginService.user.id_company)),o.Bb(1),o.lc("completed",(null==t.adminService.sections?null:t.adminService.sections.length)>0),o.Bb(14),o.lc("nomargin",!0)("nopadding",!0),o.Bb(5),o.lc("ngIf",(null==t.adminService.sections?null:t.adminService.sections.length)>0),o.Bb(1),o.lc("ngIf",0===(null==t.adminService.sections?null:t.adminService.sections.length)),o.Bb(1),o.lc("completed",(null==t.adminService.tables?null:t.adminService.tables.length)>0),o.Bb(12),o.lc("nomargin",!0)("nopadding",!0),o.Bb(5),o.lc("ngIf",(null==t.adminService.tables?null:t.adminService.tables.length)>0),o.Bb(1),o.lc("ngIf",0===(null==t.adminService.tables?null:t.adminService.tables.length)),o.Bb(13),o.lc("nomargin",!0)("nopadding",!0),o.Bb(22),o.lc("nomargin",!0)("nopadding",!0),o.Bb(22),o.lc("nomargin",!0)("nopadding",!0))},directives:[ut.a,ut.c,ut.b,l.a,l.d,k.a,ut.e,l.e,l.c,l.h,l.g,a.k,Je,l.b,dt,te,ye,At,un,pn.a],styles:[".step-header[_ngcontent-%COMP%]{margin-top:unset;color:#ffa200;opacity:.8}"]}),e})()},{path:"companies",component:Je},{path:"sections",component:dt},{path:"tables",component:te},{path:"waiters",component:ye},{path:"dashboard",component:D},{path:"tickets",component:Ze},{path:"poll",component:At},{path:"about",component:un},{path:"",redirectTo:"/admin/home",pathMatch:"full"},{path:"**",component:y.a}];let Dn=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[c.e.forChild(_n)],c.e]}),e})();var wn=n("j1ZV"),On=n("1+r1"),kn=n("iTUp");let Bn=(()=>{class e{}return e.\u0275mod=o.Lb({type:e}),e.\u0275inj=o.Kb({factory:function(t){return new(t||e)},imports:[[a.b,i.u,i.k,On.a,wn.a,Dn,kn.a]]}),e})()}}]);