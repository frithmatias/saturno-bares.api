(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"13Ib":function(e,t,i){"use strict";i.r(t),i.d(t,"AdminModule",function(){return _e});var n=i("SVse"),r=i("s7LF"),s=i("iInd"),a=i("q59W"),c=i("8Y7J"),o=i("EFyh"),d=i("HJEb"),l=i("zuHl"),b=i("jMqV"),u=i("hzfI"),m=i("zHaW");let p=(()=>{class e{transform(e){if(e)return e.replace(/\xe1/gi,"a").replace(/\xe9/gi,"e").replace(/\xed/gi,"i").replace(/\xf3/gi,"o").replace(/\xfa/gi,"u").replace(/\xf1/gi,"n").replace(/[^a-zA-Z0-9]/gi,"").toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Lb({name:"getidstring",type:e,pure:!0}),e.\u0275prov=c.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=i("Q2Ze"),f=i("e6WT");function S(e,t){1&e&&(c.Sb(0,"button",13),c.Bc(1," Crear Comercio "),c.Rb())}function g(e,t){if(1&e&&(c.Sb(0,"div",10),c.Sb(1,"div",11),c.Ac(2,S,2,0,"button",12),c.Rb(),c.Rb()),2&e){const e=c.dc();c.Ab(2),c.jc("ngIf",!e.companyEdit)}}function v(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",14),c.Sb(1,"div",15),c.Sb(2,"button",16),c.Bc(3," Guardar "),c.Rb(),c.Rb(),c.Sb(4,"div",11),c.Sb(5,"button",17),c.Zb("click",function(){c.sc(e);const t=c.dc(),i=c.rc(1);return t.resetForm(i)}),c.Bc(6," Limpiar "),c.Rb(),c.Rb(),c.Rb()}}let R=(()=>{class e{constructor(e,t,i,n,r){this.adminService=e,this.loginService=t,this.sharedService=i,this.snack=n,this.getidstring=r,this.newCompany=new c.n}ngOnInit(){this.forma=new r.g({company:new r.e("",[r.u.required,this.validatorSetId.bind(this)]),companyString:new r.e({value:"",disabled:!0}),city:new r.e("",r.u.required),addressStreet:new r.e("",r.u.required),addressNumber:new r.e("",r.u.required)})}ngOnChanges(e){var t;null===(t=this.forma)||void 0===t||t.patchValue({company:e.companyEdit.currentValue.tx_company_name,city:e.companyEdit.currentValue.cd_city,addressStreet:e.companyEdit.currentValue.tx_address_street,addressNumber:e.companyEdit.currentValue.tx_address_number})}validatorSetId(e){var t;return this.publicName=this.getidstring.transform(e.value),null===(t=this.forma)||void 0===t||t.patchValue({companyString:this.publicName}),null}checkCompanyExists(){if(this.companyEdit&&this.publicName===this.companyEdit.tx_public_name)return;let e=this.publicName;(null==e?void 0:e.length)>3&&this.adminService.checkCompanyExists(e).subscribe(e=>{e.ok||(this.forma.controls.company.setErrors({incorrect:!0}),this.forma.setErrors({companyExists:!0}))})}createCompany(e){if(this.forma.invalid)return void this.snack.open("Faltan datos por favor verifique","Aceptar",{duration:5e3});const t={id_user:this.loginService.user._id,tx_company_name:this.forma.value.company,tx_public_name:this.publicName,cd_city:this.forma.value.city,tx_address_street:this.forma.value.addressStreet,tx_address_number:this.forma.value.addressNumber};this.companyEdit?(t._id=this.companyEdit._id,this.adminService.updateCompany(t).subscribe(t=>{this.newCompany.emit(t.company),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e)},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})):this.adminService.createCompany(t).subscribe(t=>{this.newCompany.emit(t.company),this.resetForm(e),t.ok?this.snack.open("Empresa creada correctamente",null,{duration:2e3}):this.snack.open(t.msg,null,{duration:5e3})},()=>{this.snack.open("Error al crear la empresa",null,{duration:2e3})})}resetForm(e){this.companyEdit=null,this.forma.enable(),this.forma.reset(),e.resetForm(),this.sharedService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(d.a),c.Mb(o.a),c.Mb(l.a),c.Mb(m.a),c.Mb(p))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-company-create"]],inputs:{companyEdit:"companyEdit"},outputs:{newCompany:"newCompany"},features:[c.yb],decls:26,vars:3,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn","logincss","",1,"w-100"],["matInput","","placeholder","Nombre de la empresa","formControlName","company","name","company","type","text","required","",3,"keyup"],["matInput","","placeholder","Nombre de la empresa","formControlName","companyString","name","companyString","type","text","required",""],["matInput","","placeholder","Ciudad","formControlName","city","name","city","type","text","required",""],["matInput","","placeholder","Calle","formControlName","addressStreet","name","addressStreet","type","text","required",""],["matInput","","placeholder","1234","formControlName","addressNumber","name","addressNumber","type","text","required",""],["class","row text-center",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","text-center"],[1,"col"],["class","btn btn-success btn-block text-uppercase","type","submit",4,"ngIf"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase"],[1,"row"],[1,"col","w-100"],["type","submit",1,"btn","btn-danger","btn-block","text-uppercase"],[1,"btn","btn-warning","btn-block","text-uppercase",3,"click"]],template:function(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",0,1),c.Zb("ngSubmit",function(){c.sc(e);const i=c.rc(1);return t.createCompany(i)}),c.Sb(2,"mat-form-field",2),c.Sb(3,"mat-label"),c.Bc(4,"Nombre del Bar / Restorant"),c.Rb(),c.Sb(5,"mat-error"),c.Bc(6,"Esta Empresa ya se encuentra registrada!"),c.Rb(),c.Sb(7,"input",3),c.Zb("keyup",function(){return t.checkCompanyExists()}),c.Rb(),c.Rb(),c.Sb(8,"mat-form-field",2),c.Sb(9,"mat-label"),c.Bc(10,"Nombre p\xfablico"),c.Rb(),c.Nb(11,"input",4),c.Rb(),c.Sb(12,"mat-form-field",2),c.Sb(13,"mat-label"),c.Bc(14,"Ciudad"),c.Rb(),c.Nb(15,"input",5),c.Rb(),c.Sb(16,"mat-form-field",2),c.Sb(17,"mat-label"),c.Bc(18,"Calle"),c.Rb(),c.Nb(19,"input",6),c.Rb(),c.Sb(20,"mat-form-field",2),c.Sb(21,"mat-label"),c.Bc(22,"Altura"),c.Rb(),c.Nb(23,"input",7),c.Rb(),c.Ac(24,g,3,1,"div",8),c.Ac(25,v,7,0,"div",9),c.Rb()}2&e&&(c.jc("formGroup",t.forma),c.Ab(24),c.jc("ngIf",!t.companyEdit),c.Ab(1),c.jc("ngIf",t.companyEdit))},directives:[r.o,r.h,h.c,h.f,h.b,f.b,r.d,r.n,r.f,r.t,n.j],styles:[""]}),e})();function y(e,t){1&e&&c.Nb(0,"span",16)}function w(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td"),c.Bc(2),c.Rb(),c.Sb(3,"td"),c.Ac(4,y,1,0,"span",12),c.Rb(),c.Sb(5,"td",13),c.Sb(6,"span",14),c.Zb("click",function(){c.sc(e);const i=t.$implicit;return c.dc().editCompany(i)}),c.Rb(),c.Sb(7,"span",15),c.Zb("click",function(){c.sc(e);const i=t.$implicit;return c.dc().deleteCompany(i._id)}),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit,i=c.dc();c.Ab(2),c.Dc(" ",null==e?null:e.tx_company_name," "),c.Ab(2),c.jc("ngIf",e._id===(null==i.companyUpdated?null:i.companyUpdated._id))}}const k=function(e,t){return{nomargin:e,nopadding:t}};let _=(()=>{class e{constructor(e,t,i){this.adminService=e,this.loginService=t,this.snack=i}ngOnInit(){this.user=this.loginService.user,this.user._id&&this.readCompanies(this.user._id),this.userSubscription=this.loginService.user$.subscribe(e=>{e&&(this.user=e)})}ngOnChanges(e){}editCompany(e){this.companyEdit=e}newCompany(e){this.companyUpdated=e,this.readCompanies(this.user._id)}deleteCompany(e){this.snack.open("Desea eliminar la empresa?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.adminService.deleteCompany(e).subscribe(t=>{var i;this.snack.open(t.msg,null,{duration:2e3}),this.companies=this.companies.filter(t=>t._id!=e),this.adminService.companies=this.companies,this.adminService.companiesSource.next(this.companies),e===(null===(i=this.user.id_company)||void 0===i?void 0:i._id)&&(this.user.id_company=null,localStorage.setItem("user",JSON.stringify(this.user)))},e=>{this.snack.open(e.msg,null,{duration:2e3})})})}readCompanies(e){this.adminService.readCompanies(e).subscribe(e=>{this.companies=e.companies,this.adminService.companies=e.companies})}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(d.a),c.Mb(o.a),c.Mb(m.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-companies"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},features:[c.yb],decls:15,vars:6,consts:[[1,"saturno-card","animated","fadeIn",3,"ngClass"],[1,"card","bg-success","text-white"],[1,"card-header"],[1,"mdi","mdi-storefront-outline"],[1,"card-body","table-responsive-sm"],[1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"my-4"],[1,"card"],[1,"mdi","mdi-plus-circle-outline"],[1,"card-body"],[3,"companyEdit","newCompany"],["class","mdi mdi-check ml-2 list-crud-edit",4,"ngIf"],[2,"text-align","right"],[1,"mdi","mdi-pencil","ml-2","list-crud-edit",3,"click"],[1,"mdi","mdi-delete","ml-2","list-crud-delete",3,"click"],[1,"mdi","mdi-check","ml-2","list-crud-edit"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Nb(3,"span",3),c.Bc(4," Mis bares / restorants"),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"table",5),c.Ac(7,w,8,2,"tr",6),c.Rb(),c.Rb(),c.Rb(),c.Nb(8,"div",7),c.Sb(9,"div",8),c.Sb(10,"div",2),c.Nb(11,"span",9),c.Bc(12," Alta de Bar / Restorant"),c.Rb(),c.Sb(13,"div",10),c.Sb(14,"app-company-create",11),c.Zb("newCompany",function(e){return t.newCompany(e)}),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.jc("ngClass",c.nc(3,k,t.nomargin,t.nopadding)),c.Ab(7),c.jc("ngForOf",t.companies),c.Ab(7),c.jc("companyEdit",t.companyEdit))},directives:[n.h,n.i,R,n.j],styles:[""]}),e})(),N=(()=>{class e{constructor(e,t,i,n){this.adminService=e,this.loginService=t,this.sharedService=i,this.snack=n,this.sectionCreated=new c.n}ngOnInit(){this.forma=new r.g({txSection:new r.e(null,r.u.required)})}createSection(e){this.forma.invalid||this.adminService.createSection({id_company:this.loginService.user.id_company._id,tx_section:this.forma.value.txSection,__v:null,_id:null}).subscribe(t=>{this.sectionCreated.emit(t.section),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e)},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})}resetForm(e){e.resetForm(),this.forma.reset(),this.sharedService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(d.a),c.Mb(o.a),c.Mb(l.a),c.Mb(m.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-section-create"]],outputs:{sectionCreated:"sectionCreated"},decls:9,vars:1,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn",1,"w-100"],["matInput","","placeholder","Identificador del sector","formControlName","txSection","name","txSection","type","text","required",""],[1,"form-group","text-center"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase","waves-effect","waves-light"]],template:function(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",0,1),c.Zb("ngSubmit",function(){c.sc(e);const i=c.rc(1);return t.createSection(i)}),c.Sb(2,"mat-form-field",2),c.Sb(3,"mat-label"),c.Bc(4,"Nombre del Sector"),c.Rb(),c.Nb(5,"input",3),c.Rb(),c.Sb(6,"div",4),c.Sb(7,"button",5),c.Bc(8,"Crear Sector"),c.Rb(),c.Rb(),c.Rb()}2&e&&c.jc("formGroup",t.forma)},directives:[r.o,r.h,h.c,h.f,f.b,r.d,r.n,r.f,r.t],styles:[""]}),e})();function x(e,t){1&e&&(c.Sb(0,"div",13),c.Nb(1,"span",14),c.Sb(2,"span"),c.Bc(3,"Un sector gen\xe9rico fu\xe9 creado"),c.Rb(),c.Rb())}function C(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td"),c.Bc(2),c.Rb(),c.Sb(3,"td",15),c.Sb(4,"span",16),c.Zb("click",function(){c.sc(e);const i=t.$implicit;return c.dc().deleteSection(i)}),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit;c.Ab(2),c.Cc(null==e?null:e.tx_section)}}const A=function(e,t){return{nomargin:e,nopadding:t}};let I=(()=>{class e{constructor(e,t,i){this.adminService=e,this.loginService=t,this.snack=i}ngOnInit(){this.loginService.user&&(this.user=this.loginService.user,this.user.id_company&&this.readSections(this.user.id_company._id),this.userSubscription=this.loginService.user$.subscribe(e=>{e&&(this.user=e,e.id_company&&this.readSections(e.id_company._id))}))}editSection(e){}deleteSection(e){this.snack.open("Desea eliminar el sector "+e.tx_section,"ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{if(t.dismissedByAction){let t=e._id;this.adminService.deleteSection(t).subscribe(e=>{this.snack.open(e.msg,null,{duration:5e3}),this.sections=this.sections.filter(e=>e._id!=t)},e=>{this.snack.open(e.msg,null,{duration:5e3})})}})}sectionCreated(e){this.sections.push(e)}readSections(e){return new Promise((t,i)=>{this.adminService.readSections(e).subscribe(e=>{e.ok&&(this.sections=e.sections,this.adminService.sections=e.sections,t(e.sections))})})}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(d.a),c.Mb(o.a),c.Mb(m.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-sections"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:16,vars:6,consts:[[1,"saturno-card","animated","fadeIn",3,"ngClass"],[1,"card","bg-secondary","text-white"],[1,"card-header"],[1,"mdi","mdi-monitor"],[1,"card-body","table-responsive-sm"],["class","row align-items-center justify-content-center",4,"ngIf"],[1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"my-4"],[1,"card"],[1,"mdi","mdi-plus-circle-outline"],[1,"card-body"],[3,"sectionCreated"],[1,"row","align-items-center","justify-content-center"],[1,"mdi","mdi-check-circle-outline","xxl","mx-2","text-warning"],[2,"text-align","right"],[1,"mdi","mdi-delete","ml-2","list-crud-delete",3,"click"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Nb(3,"span",3),c.Bc(4," Sectores "),c.Rb(),c.Sb(5,"div",4),c.Ac(6,x,4,0,"div",5),c.Sb(7,"table",6),c.Ac(8,C,5,1,"tr",7),c.Rb(),c.Rb(),c.Rb(),c.Nb(9,"div",8),c.Sb(10,"div",9),c.Sb(11,"div",2),c.Nb(12,"span",10),c.Bc(13," Alta de Sector"),c.Rb(),c.Sb(14,"div",11),c.Sb(15,"app-section-create",12),c.Zb("sectionCreated",function(e){return t.sectionCreated(e)}),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.jc("ngClass",c.nc(3,A,t.nomargin,t.nopadding)),c.Ab(6),c.jc("ngIf",!t.sections||0===(null==t.sections?null:t.sections.length)),c.Ab(2),c.jc("ngForOf",t.sections))},directives:[n.h,n.j,n.i,N],styles:[""]}),e})();var B=i("ZTz/"),E=i("UhP/");function j(e,t){if(1&e){const e=c.Tb();c.Sb(0,"mat-option",10),c.Zb("click",function(){c.sc(e);const i=t.$implicit;return c.dc().sectionChange(i)}),c.Bc(1),c.Rb()}if(2&e){const e=t.$implicit;c.jc("value",e._id),c.Ab(1),c.Dc(" ",e.tx_section," ")}}let M=(()=>{class e{constructor(e,t,i,n){this.adminService=e,this.loginService=t,this.sharedService=i,this.snack=n,this.tableCreated=new c.n,this.sectionChanged=new c.n,this.sections=[],this.tablesSection=[]}ngOnInit(){this.forma=new r.g({idSection:new r.e(null,r.u.required),nmTable:new r.e(null,r.u.required),nmPersons:new r.e(null,r.u.required)})}createTable(e){if(!this.forma.invalid){for(let e of this.tablesSection)if(this.forma.controls.nmTable.value===e.nm_table)return void this.sharedService.snack("Ya existe una mesa con el id: "+e.nm_table+" !",3e3);this.adminService.createTable({id_section:this.forma.value.idSection,nm_table:this.forma.value.nmTable,nm_persons:this.forma.value.nmPersons}).subscribe(t=>{this.tableCreated.emit(t.table),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e)},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})}}resetForm(e){e.resetForm(),this.forma.reset(),this.sharedService.scrollTop()}sectionChange(e){this.sectionChanged.emit(e)}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(d.a),c.Mb(o.a),c.Mb(l.a),c.Mb(m.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-table-create"]],inputs:{sections:"sections",tablesSection:"tablesSection"},outputs:{tableCreated:"tableCreated",sectionChanged:"sectionChanged"},decls:19,vars:2,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn",1,"w-100"],["formControlName","idSection","name","idSection","matNativeControl","","required",""],["selectSection",""],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","placeholder","Identificador de escritorio","formControlName","nmTable","name","nmTable","type","number","required",""],["matInput","","placeholder","Identificador de escritorio","formControlName","nmPersons","name","nmPersons","type","number","required",""],[1,"form-group","text-center"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase","waves-effect","waves-light"],[3,"value","click"]],template:function(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",0,1),c.Zb("ngSubmit",function(){c.sc(e);const i=c.rc(1);return t.createTable(i)}),c.Sb(2,"mat-form-field",2),c.Sb(3,"mat-label"),c.Bc(4,"Seleccione un sector"),c.Rb(),c.Sb(5,"mat-select",3,4),c.Ac(7,j,2,2,"mat-option",5),c.Rb(),c.Rb(),c.Sb(8,"mat-form-field",2),c.Sb(9,"mat-label"),c.Bc(10,"ID Mesa"),c.Rb(),c.Nb(11,"input",6),c.Rb(),c.Sb(12,"mat-form-field",2),c.Sb(13,"mat-label"),c.Bc(14,"Cantidad de comensales"),c.Rb(),c.Nb(15,"input",7),c.Rb(),c.Sb(16,"div",8),c.Sb(17,"button",9),c.Bc(18,"Crear Mesa"),c.Rb(),c.Rb(),c.Rb()}2&e&&(c.jc("formGroup",t.forma),c.Ab(7),c.jc("ngForOf",t.sections))},directives:[r.o,r.h,h.c,h.f,B.a,r.n,r.f,r.t,n.i,f.b,r.d,r.r,E.k],styles:[""]}),e})();function T(e,t){if(1&e&&(c.Sb(0,"span"),c.Bc(1),c.Rb()),2&e){const e=c.dc();c.Ab(1),c.Dc(" del sector ",e.sectionSelected.tx_section,"")}}function q(e,t){1&e&&(c.Sb(0,"div",19),c.Nb(1,"span",20),c.Sb(2,"span"),c.Bc(3,"Una mesa gen\xe9rica fu\xe9 creada"),c.Rb(),c.Rb())}const O=function(e){return{"bg-success":e}};function F(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tr",21),c.Sb(1,"td"),c.Bc(2),c.Rb(),c.Sb(3,"td"),c.Bc(4),c.Rb(),c.Sb(5,"td",22),c.Bc(6),c.Rb(),c.Sb(7,"td",22),c.Bc(8),c.Rb(),c.Sb(9,"td",23),c.Sb(10,"span",24),c.Zb("click",function(){c.sc(e);const i=t.$implicit;return c.dc().deleteTable(i._id)}),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit,i=c.dc();c.jc("ngClass",c.mc(5,O,e._id===(null==i.tableNew?null:i.tableNew._id))),c.Ab(2),c.Cc(i.sectionsMap.get(null==e?null:e.id_section)),c.Ab(2),c.Cc(null==e?null:e.nm_table),c.Ab(2),c.Cc(null==e?null:e.nm_persons),c.Ab(2),c.Cc(null==e?null:e.tx_status)}}const D=function(e,t){return{nomargin:e,nopadding:t}};let Z=(()=>{class e{constructor(e,t,i){this.adminService=e,this.loginService=t,this.snack=i,this.sections=[],this.sectionsMap=new Map,this.tables=[],this.tablesSection=[]}ngOnInit(){if(this.loginService.user){if(this.user=this.loginService.user,this.user.id_company){let e=this.user.id_company._id;this.readTables(e),this.readSections(e)}this.userSubscription=this.loginService.user$.subscribe(e=>{if(e){this.user=e;let t=e.id_company._id;this.readTables(t),this.readSections(t)}})}}deleteTable(e){this.snack.open("Desea eliminar la mesa?","ELIMINAR",{duration:5e3}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.adminService.deleteTable(e).subscribe(t=>{this.snack.open(t.msg,null,{duration:5e3}),this.tables=this.tables.filter(t=>t._id!=e),this.tablesSection=this.tablesSection.filter(t=>t._id!=e)},e=>{this.snack.open(e.msg,null,{duration:5e3})})})}sectionChanged(e){this.sectionSelected=e,this.tablesSection=this.tables.filter(t=>t.id_section===e._id)}tableCreated(e){this.tableNew=e,this.tables.push(e),this.tables.sort((e,t)=>e.nm_table-t.nm_table),this.tablesSection.push(e),this.tablesSection.sort((e,t)=>e.nm_table-t.nm_table)}readSections(e){this.adminService.readSections(e).subscribe(e=>{if(e.ok){this.sections=e.sections;for(let t of e.sections)this.sectionsMap.set(t._id,t.tx_section);this.adminService.sections=e.sections}})}readTables(e){this.adminService.readTables(e).subscribe(e=>{e.ok&&(this.tables=e.tables,this.tablesSection=e.tables,this.adminService.tables=e.tables)})}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(d.a),c.Mb(o.a),c.Mb(m.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-tables"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:25,vars:9,consts:[[1,"saturno-card","animated","fadeIn",3,"ngClass"],[1,"card","bg-secondary","text-white"],[1,"card-header"],[1,"mdi","mdi-table-furniture"],[4,"ngIf"],[1,"card-body","table-responsive-sm"],["class","row align-items-center justify-content-center",4,"ngIf"],[1,"table","table-sm","text-white"],[1,"xl","text-warning","mdi","mdi-select-group"],[1,"xl","text-warning"],[1,"xl","text-warning","text-center","mdi","mdi-account-box-outline"],[1,"xl","text-warning","text-center","mdi","mdi-cog-box"],[1,"xl","text-warning","text-right","mdi","mdi-gesture-tap-button"],[3,"ngClass",4,"ngFor","ngForOf"],[1,"my-4"],[1,"card"],[1,"mdi","mdi-plus-circle-outline"],[1,"card-body"],[3,"sections","tablesSection","sectionChanged","tableCreated"],[1,"row","align-items-center","justify-content-center"],[1,"mdi","mdi-check-circle-outline","xxl","mx-2","text-warning"],[3,"ngClass"],[1,"text-center"],[1,"text-right"],[1,"mdi","mdi-delete","ml-2","list-crud-delete",3,"click"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Nb(3,"span",3),c.Sb(4,"span"),c.Bc(5," Mesas "),c.Rb(),c.Ac(6,T,2,1,"span",4),c.Rb(),c.Sb(7,"div",5),c.Ac(8,q,4,0,"div",6),c.Sb(9,"table",7),c.Sb(10,"thead"),c.Nb(11,"td",8),c.Sb(12,"td",9),c.Bc(13,"#"),c.Rb(),c.Nb(14,"td",10),c.Nb(15,"td",11),c.Nb(16,"td",12),c.Rb(),c.Ac(17,F,11,7,"tr",13),c.Rb(),c.Rb(),c.Rb(),c.Nb(18,"div",14),c.Sb(19,"div",15),c.Sb(20,"div",2),c.Nb(21,"span",16),c.Bc(22," Alta de Mesa"),c.Rb(),c.Sb(23,"div",17),c.Sb(24,"app-table-create",18),c.Zb("sectionChanged",function(e){return t.sectionChanged(e)})("tableCreated",function(e){return t.tableCreated(e)}),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.jc("ngClass",c.nc(6,D,t.nomargin,t.nopadding)),c.Ab(6),c.jc("ngIf",t.sectionSelected),c.Ab(2),c.jc("ngIf",!t.tables||0===(null==t.tables?null:t.tables.length)),c.Ab(9),c.jc("ngForOf",t.tablesSection),c.Ab(7),c.jc("sections",t.sections)("tablesSection",t.tablesSection))},directives:[n.h,n.j,n.i,M],styles:[""]}),e})();var W=i("LRne"),G=i("SqCe");function L(e,t){if(1&e){const e=c.Tb();c.Sb(0,"mat-option",17),c.Zb("click",function(){c.sc(e);const i=t.$implicit;return c.dc().getTables(i._id)}),c.Bc(1),c.Rb()}if(2&e){const e=t.$implicit;c.jc("value",e._id),c.Ab(1),c.Dc(" ",e.tx_company_name," ")}}function V(e,t){if(1&e&&(c.Sb(0,"mat-list-option",23),c.Sb(1,"span",24),c.Bc(2),c.Rb(),c.Rb()),2&e){const e=t.$implicit;c.jc("value",e._id),c.Ab(2),c.Cc(e.cd_table)}}const U=function(){return{standalone:!0}};function $(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",18),c.Sb(1,"div",19),c.Bc(2,"MESAS"),c.Rb(),c.Sb(3,"div",20),c.Sb(4,"mat-selection-list",21),c.Zb("ngModelChange",function(t){return c.sc(e),c.dc().selStrTables=t}),c.Ac(5,V,3,2,"mat-list-option",22),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=c.dc();c.Ab(4),c.jc("ngModelOptions",c.lc(3,U))("ngModel",e.selStrTables),c.Ab(1),c.jc("ngForOf",e.tables)}}function P(e,t){1&e&&(c.Sb(0,"button",28),c.Bc(1," Crear Camarero "),c.Rb())}function z(e,t){if(1&e&&(c.Sb(0,"div",25),c.Sb(1,"div",26),c.Ac(2,P,2,0,"button",27),c.Rb(),c.Rb()),2&e){const e=c.dc();c.Ab(2),c.jc("ngIf",!e.waiterEdit)}}function J(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",29),c.Sb(1,"div",30),c.Sb(2,"button",31),c.Bc(3," Guardar "),c.Rb(),c.Rb(),c.Sb(4,"div",26),c.Sb(5,"button",32),c.Zb("click",function(){c.sc(e);const t=c.dc(),i=c.rc(1);return t.resetForm(i)}),c.Bc(6," Limpiar "),c.Rb(),c.Rb(),c.Rb()}}let Q=(()=>{class e{constructor(e,t,i,n){this.adminService=e,this.loginService=t,this.sharedService=i,this.snack=n,this.idWaiterUpdated=new c.n,this.tables=[],this.manejaError=e=>Object(W.a)(e)}ngOnInit(){this.forma=new r.g({rol:new r.e(null,r.u.required),idCompany:new r.e(null,r.u.required),nombre:new r.e(null,r.u.required),email:new r.e(null,[r.u.required,r.u.email]),password:new r.e(null,r.u.required),password2:new r.e(null,r.u.required)},{validators:this.sonIguales("password","password2")})}ngOnChanges(e){var t,i,n,r,s;if(null===(t=this.forma)||void 0===t||t.enable(),"clear_form"!==e.waiterEdit.currentValue){if("ADMIN_ROLE"===(null===(i=e.waiterEdit.currentValue)||void 0===i?void 0:i.id_role)&&(this.forma.controls.rol.disable(),this.forma.controls.email.disable()),null===(n=e.waiterEdit.currentValue)||void 0===n?void 0:n.id_company._id){let t=e.waiterEdit.currentValue.id_company._id;null===(r=this.forma)||void 0===r||r.patchValue({idCompany:t})}null===(s=this.forma)||void 0===s||s.patchValue({rol:e.waiterEdit.currentValue.id_role,email:e.waiterEdit.currentValue.tx_email,nombre:e.waiterEdit.currentValue.tx_name,password:"******",password2:"******"})}else this.resetForm()}sonIguales(e,t){return i=>i.controls[e].value===i.controls[t].value?null:{password:"Las contrase\xf1as deben ser iguales"}}createWaiter(e){var t;if(this.forma.invalid)return void((null===(t=this.forma.errors)||void 0===t?void 0:t.password)&&this.snack.open(this.forma.errors.password,"ACEPTAR",{duration:5e3}));const i={tx_name:this.forma.value.nombre,tx_email:this.forma.controls.email.value,tx_password:this.forma.value.password,id_company:this.forma.value.idCompany,id_role:this.forma.controls.rol.value};this.waiterEdit?(i._id=this.waiterEdit._id,this.adminService.updateWaiter(i).subscribe(t=>{t.ok&&(t.user._id===this.loginService.user._id&&this.loginService.pushUser(t.user),this.idWaiterUpdated.emit(t.user._id),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e))},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})):this.adminService.createWaiter(i).subscribe(t=>{this.idWaiterUpdated.emit(t.user._id),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e)},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})}resetForm(e){this.waiterEdit=null,this.forma.enable(),this.forma.reset(),e&&e.resetForm(),this.sharedService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(d.a),c.Mb(o.a),c.Mb(l.a),c.Mb(m.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-waiter-create"]],inputs:{waiterEdit:"waiterEdit"},outputs:{idWaiterUpdated:"idWaiterUpdated"},features:[c.yb],decls:35,vars:5,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn","logincss","",1,"w-100"],["formControlName","rol","name","rol","required",""],["value","ADMIN_ROLE"],["value","WAITER_ROLE"],["color","warn",1,"w-100"],["formControlName","idCompany","name","idCompany","matNativeControl","","required",""],["selectTable",""],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","placeholder","Nombre","formControlName","nombre","name","nombre","type","text","required","","placeholder","Nombre"],["matInput","","placeholder","Email","formControlName","email","name","email","type","email","required",""],["matInput","","placeholder","Clave","formControlName","password","name","password","type","password","required","","placeholder","Contrase\xf1a","autocomplete","new-password"],["matInput","","placeholder","Clave","formControlName","password2","name","password2","type","password","required","","placeholder","Confirma contrase\xf1a","autocomplete","new-password"],["class","card mb-4",4,"ngIf"],["class","row text-center",4,"ngIf"],["class","row",4,"ngIf"],[3,"value","click"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body","p-0"],[3,"ngModelOptions","ngModel","ngModelChange"],["name","selStrTables",3,"value",4,"ngFor","ngForOf"],["name","selStrTables",3,"value"],[1,"mat-select-option-nowarp"],[1,"row","text-center"],[1,"col"],["class","btn btn-success btn-block text-uppercase","type","submit",4,"ngIf"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase"],[1,"row"],[1,"col","w-100"],["type","submit",1,"btn","btn-danger","btn-block","text-uppercase"],[1,"btn","btn-warning","btn-block","text-uppercase",3,"click"]],template:function(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",0,1),c.Zb("ngSubmit",function(){c.sc(e);const i=c.rc(1);return t.createWaiter(i)}),c.Sb(2,"mat-form-field",2),c.Sb(3,"mat-label"),c.Bc(4,"Rol"),c.Rb(),c.Sb(5,"mat-select",3),c.Sb(6,"mat-option",4),c.Bc(7," Administrador y Camarero"),c.Rb(),c.Sb(8,"mat-option",5),c.Bc(9," Camarero "),c.Rb(),c.Rb(),c.Rb(),c.Sb(10,"mat-form-field",6),c.Sb(11,"mat-label"),c.Bc(12,"Seleccione una empresa"),c.Rb(),c.Sb(13,"mat-select",7,8),c.Ac(15,L,2,2,"mat-option",9),c.Rb(),c.Rb(),c.Sb(16,"mat-form-field",6),c.Sb(17,"mat-label"),c.Bc(18,"Nombre"),c.Rb(),c.Nb(19,"input",10),c.Rb(),c.Sb(20,"mat-form-field",6),c.Sb(21,"mat-label"),c.Bc(22,"Email"),c.Rb(),c.Nb(23,"input",11),c.Rb(),c.Sb(24,"mat-form-field",6),c.Sb(25,"mat-label"),c.Bc(26,"Clave"),c.Rb(),c.Nb(27,"input",12),c.Rb(),c.Sb(28,"mat-form-field",6),c.Sb(29,"mat-label"),c.Bc(30,"Clave"),c.Rb(),c.Nb(31,"input",13),c.Rb(),c.Ac(32,$,6,4,"div",14),c.Ac(33,z,3,1,"div",15),c.Ac(34,J,7,0,"div",16),c.Rb()}2&e&&(c.jc("formGroup",t.forma),c.Ab(15),c.jc("ngForOf",t.adminService.companies),c.Ab(17),c.jc("ngIf","ASSISTANT_ROLE"===(null==t.waiterEdit?null:t.waiterEdit.id_role)),c.Ab(1),c.jc("ngIf",!t.waiterEdit),c.Ab(1),c.jc("ngIf",t.waiterEdit))},directives:[r.o,r.h,h.c,h.f,B.a,r.n,r.f,r.t,E.k,n.i,f.b,r.d,n.j,G.c,r.q,G.b],styles:[".mat-select-option-nowarp[_ngcontent-%COMP%]{float:left;width:-webkit-max-content;width:max-content}"]}),e})(),H=(()=>{class e{transform(e,t){let i=document.getElementById("wt-form");if(i){let t,n=i.offsetWidth;n<260&&(t=8),n>=260&&n<280&&(t=9),n>=280&&n<300&&(t=10),n>=300&&n<320&&(t=11),n>=320&&n<340&&(t=12),n>=340&&n<360&&(t=13),n>=360&&n<380&&(t=14),n>=380&&n<400&&(t=15),n>=400&&(t=16);let r=e.length>t?"...":"";return e.substr(0,t)+r}return null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Lb({name:"wordMaxLength",type:e,pure:!0}),e})();function Y(e,t){1&e&&c.Nb(0,"span",19)}function K(e,t){1&e&&c.Nb(0,"span",20)}function X(e,t){1&e&&c.Nb(0,"span",21)}function ee(e,t){if(1&e){const e=c.Tb();c.Sb(0,"span",22),c.Zb("click",function(){c.sc(e);const t=c.dc().$implicit;return c.dc().deleteWaiter(t._id)}),c.Rb()}}function te(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td",12),c.Ac(2,Y,1,0,"span",13),c.Ac(3,K,1,0,"span",14),c.Rb(),c.Sb(4,"td"),c.Bc(5),c.ec(6,"wordMaxLength"),c.Rb(),c.Sb(7,"td"),c.Ac(8,X,1,0,"span",15),c.Rb(),c.Sb(9,"td",16),c.Sb(10,"span",17),c.Zb("click",function(){c.sc(e);const i=t.$implicit;return c.dc().editWaiter(i)}),c.Rb(),c.Ac(11,ee,1,0,"span",18),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit,i=c.dc();c.Ab(2),c.jc("ngIf","ADMIN_ROLE"===e.id_role),c.Ab(1),c.jc("ngIf","ADMIN_ROLE"!==e.id_role),c.Ab(2),c.Dc("",c.gc(6,5,null==e?null:e.tx_name,8)," "),c.Ab(3),c.jc("ngIf",e._id===i.waiterUpdated),c.Ab(3),c.jc("ngIf",e._id!==i.loginService.user._id)}}const ie=function(e,t){return{nomargin:e,nopadding:t}};let ne=(()=>{class e{constructor(e,t,i,n){this.adminService=e,this.loginService=t,this.sharedService=i,this.snack=n}ngOnInit(){this.loginService.user&&(this.user=this.loginService.user,this.user.id_company&&this.readWaiters(this.user.id_company._id),this.userSubscription=this.loginService.user$.subscribe(e=>{e&&(this.user=e,e.id_company&&this.readWaiters(e.id_company._id))}))}editWaiter(e){this.waiterEdit=e}waiterUpdated(e){this.idWaiterUpdated=e,this.readWaiters(this.loginService.user.id_company._id)}readWaiters(e){this.adminService.readWaiters(e).subscribe(e=>{this.waiters=e.users,this.adminService.waiters=e.users})}deleteWaiter(e){e!==this.loginService.user._id?this.snack.open("Desea eliminar el asistente?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.adminService.deleteWaiter(e).subscribe(t=>{this.waiterEdit="clear_form",this.snack.open(t.msg,null,{duration:5e3}),this.waiters=this.waiters.filter(t=>t._id!=e)},e=>{this.snack.open(e.msg,null,{duration:5e3})})}):this.sharedService.snack("Usted no puede borrar su propio usuario!",2e3)}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(d.a),c.Mb(o.a),c.Mb(l.a),c.Mb(m.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-waiters"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:15,vars:6,consts:[[1,"animated","saturno-card","fadeIn",3,"ngClass"],[1,"card","bg-primary","text-white"],[1,"card-header"],[1,"mdi","mdi-face"],[1,"card-body","table-responsive-sm"],["id","wt-form",1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"my-4"],[1,"card"],[1,"mdi","mdi-plus-circle-outline"],[1,"card-body"],[3,"waiterEdit","idWaiterUpdated"],[2,"width","1px"],["class","mdi mdi-police-badge-outline list-crud-star",4,"ngIf"],["class","mdi mdi-silverware-fork-knife list-crud-star",4,"ngIf"],["class","mdi mdi-check ml-2 list-crud-edit",4,"ngIf"],[2,"text-align","right"],[1,"mdi","mdi-pencil","ml-2","list-crud-edit",3,"click"],["class","mdi mdi-delete ml-2 list-crud-delete",3,"click",4,"ngIf"],[1,"mdi","mdi-police-badge-outline","list-crud-star"],[1,"mdi","mdi-silverware-fork-knife","list-crud-star"],[1,"mdi","mdi-check","ml-2","list-crud-edit"],[1,"mdi","mdi-delete","ml-2","list-crud-delete",3,"click"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Nb(3,"span",3),c.Bc(4," Camareros"),c.Rb(),c.Sb(5,"div",4),c.Sb(6,"table",5),c.Ac(7,te,12,8,"tr",6),c.Rb(),c.Rb(),c.Rb(),c.Nb(8,"div",7),c.Sb(9,"div",8),c.Sb(10,"div",2),c.Nb(11,"span",9),c.Bc(12," Alta de asistente "),c.Rb(),c.Sb(13,"div",10),c.Sb(14,"app-waiter-create",11),c.Zb("idWaiterUpdated",function(e){return t.waiterUpdated(e)}),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.jc("ngClass",c.nc(3,ie,t.nomargin,t.nopadding)),c.Ab(7),c.jc("ngForOf",t.waiters),c.Ab(7),c.jc("waiterEdit",t.waiterEdit))},directives:[n.h,n.i,Q,n.j],pipes:[H],styles:[""]}),e})();const re=["stepper"];function se(e,t){if(1&e&&(c.Sb(0,"div",10),c.Sb(1,"div",11),c.Sb(2,"div"),c.Sb(3,"p"),c.Nb(4,"span",12),c.Bc(5," Atender Turnos "),c.Rb(),c.Sb(6,"p"),c.Bc(7," Para atender turnos s\xf3lo debe ingresar a su cuenta y luego ir al men\xfa de Camarero y tomar un escritorio. "),c.Rb(),c.Rb(),c.Nb(8,"hr"),c.Sb(9,"div"),c.Sb(10,"p"),c.Nb(11,"span",13),c.Bc(12," Generar Turnos "),c.Rb(),c.Sb(13,"p"),c.Bc(14,' Para que sus clientes puedan crear turnos de su comercio o empresa, debe ofrecerles la direcci\xf3n web principal en saturno.live, ir a "OBTENER TURNO" y all\xed buscar su empresa por su nombre. '),c.Rb(),c.Sb(15,"p"),c.Sb(16,"a",14),c.Bc(17," https://saturno.live "),c.Rb(),c.Rb(),c.Rb(),c.Nb(18,"hr"),c.Sb(19,"p"),c.Nb(20,"span",15),c.Bc(21," Acceso directo a crear turnos "),c.Rb(),c.Sb(22,"p"),c.Bc(23," La direcci\xf3n web de acceso directo a el panel de turnos de su comercio es: "),c.Rb(),c.Sb(24,"p"),c.Sb(25,"a",16),c.Bc(26),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.dc(2);c.Ab(25),c.kc("href","https://saturno.live/#/public/",e.loginService.user.id_company.tx_public_name,"",c.tc),c.Ab(1),c.Dc(" https://saturno.live/#/public/",e.loginService.user.id_company.tx_public_name," ")}}function ae(e,t){if(1&e&&(c.Sb(0,"div"),c.Sb(1,"div",5),c.Sb(2,"h4",6),c.Bc(3),c.Rb(),c.Sb(4,"button",7),c.Bc(5,"Atender"),c.Rb(),c.Nb(6,"hr",8),c.Ac(7,se,27,2,"div",9),c.Rb(),c.Rb()),2&e){const e=c.dc();c.Ab(3),c.Dc("Bienvenido ",null==e.loginService?null:e.loginService.user.tx_name,"!"),c.Ab(4),c.jc("ngIf",e.loginService.user.id_company)}}function ce(e,t){1&e&&(c.Sb(0,"div"),c.Sb(1,"h4",31),c.Nb(2,"span",44),c.Bc(3,"Comencemos!"),c.Rb(),c.Sb(4,"p"),c.Bc(5," Usted no tiene ninguna bar o restorant registrado, desde aqu\xed usted debe registrar al menos uno. "),c.Rb(),c.Sb(6,"p"),c.Bc(7," Es importante que usted ingrese la direcci\xf3n exacta de su comercio. Esta direcci\xf3n ser\xe1 visible para sus clientes desde el men\xfa p\xfablico de turnos y le asegura a su cliente que esta obteniendo un turno en el bar / restorant correcto. "),c.Rb(),c.Rb())}function oe(e,t){1&e&&(c.Sb(0,"div"),c.Sb(1,"h4",31),c.Nb(2,"span",44),c.Bc(3,"Empresa creada! "),c.Nb(4,"span",45),c.Rb(),c.Sb(5,"p"),c.Bc(6," Puede seguir adelante con el asistente. "),c.Rb(),c.Sb(7,"p",46),c.Bc(8," Recuerde que puede crear mas comercios si dispone de sucursales y moverse entre ellos seleccion\xe1ndolos desde el menu principal. "),c.Rb(),c.Sb(9,"p",47),c.Nb(10,"img",48),c.Rb(),c.Rb())}function de(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div",36),c.Zb("click",function(){c.sc(e),c.dc();const t=c.rc(1);return c.dc().stepperGoNext(t)}),c.Nb(1,"span",37),c.Sb(2,"div"),c.Bc(3,"Siguiente"),c.Rb(),c.Rb()}}function le(e,t){1&e&&(c.Sb(0,"div",49),c.Sb(1,"p"),c.Bc(2," Los sectores o \xe1reas son diferentes lugares f\xedsicos donde usted va a recibir a sus clientes. "),c.Rb(),c.Sb(3,"p"),c.Bc(4,' Por ejemplo: "Terraza", "Patio", "Fumadores", "Primer Piso", etc. '),c.Rb(),c.Sb(5,"p"),c.Bc(6," Los sectores son lugares que su cliente puede elegir en el formulario de turnos. Si usted s\xf3lo dispone de un sector o un \xfanico lugar de recepci\xf3n de clientes debe omitir este paso y continuar. "),c.Rb(),c.Rb())}function be(e,t){1&e&&(c.Sb(0,"div",49),c.Sb(1,"p"),c.Bc(2," Las mesas son lugares donde puede agrupar comensales. Las mesas son indivisibles, es decir que si usted asigna un n\xfamero de mesa a una mesa conformada por dos o mas mesas m\xe1s peque\xf1as, el sistema podra juntarlas con otras mesas pero NO podra separarlas. "),c.Rb(),c.Sb(3,"p"),c.Bc(4," Si usted tiene asientos en una barra puede definir cada asiento como una mesa con lugar para una sola persona. Debe identificarlas con n\xfameros. Cada sector puede tener mesas que comienzen de la mesa 1 o puede asignarlas como usted prefiera. "),c.Rb(),c.Rb())}function ue(e,t){1&e&&(c.Sb(0,"div",49),c.Sb(1,"p"),c.Bc(2," Usted como usuario administrador puede atender a sus clientes desde el men\xfa de Camareros. Sin embargo puede crear aqu\xed usuarios con el rol de mozos o camareros para estas tareas. "),c.Rb(),c.Sb(3,"p"),c.Bc(4," Los camareros que usted puede crear aqu\xed, deben ingresar a sus cuentas desde el mismo login de usuario pero con la opci\xf3n [ENTRAR] con su email y contrase\xf1a. "),c.Rb(),c.Rb())}function me(e,t){if(1&e){const e=c.Tb();c.Sb(0,"mat-horizontal-stepper",17,18),c.Sb(2,"mat-step",19),c.Sb(3,"div",5),c.Sb(4,"div",20),c.Sb(5,"h4"),c.Bc(6),c.Rb(),c.Sb(7,"p"),c.Bc(8," Este peque\xf1o asistente le ayuda a crear todo lo necesario para comenzar a atender las solicitudes de mesa de sus clientes. "),c.Rb(),c.Sb(9,"p"),c.Bc(10," No le llevar\xe1 mas de un minuto y desde aqu\xed puede hacer todo!. "),c.Rb(),c.Nb(11,"hr"),c.Sb(12,"button",21),c.Bc(13,"Comenzar"),c.Rb(),c.Nb(14,"qrcode",22),c.Rb(),c.Rb(),c.Rb(),c.Sb(15,"mat-step",23),c.Ac(16,ce,8,0,"div",1),c.Ac(17,oe,11,0,"div",1),c.Nb(18,"hr"),c.Sb(19,"div",24),c.Sb(20,"div",25),c.Sb(21,"div",26),c.Zb("click",function(){c.sc(e);const t=c.rc(1);return c.dc().stepperGoBack(t)}),c.Nb(22,"span",27),c.Sb(23,"div"),c.Bc(24,"Anterior"),c.Rb(),c.Rb(),c.Rb(),c.Sb(25,"div",25),c.Ac(26,de,4,0,"div",28),c.Rb(),c.Rb(),c.Nb(27,"hr"),c.Nb(28,"app-companies",29),c.Rb(),c.Sb(29,"mat-step",30),c.Sb(30,"h4",31),c.Nb(31,"span",32),c.Bc(32,"Sectores"),c.Rb(),c.Sb(33,"p"),c.Bc(34," Si su comercio no require de m\xfaltiples sectores puede omitir este paso y continuar. "),c.Rb(),c.Sb(35,"button",33),c.Zb("click",function(){c.sc(e);const t=c.dc();return t.activateSectorExplanation=!t.activateSectorExplanation}),c.Nb(36,"span",34),c.Bc(37,"\xbfQu\xe9 son los Sectores? "),c.Rb(),c.Ac(38,le,7,0,"div",35),c.Nb(39,"hr"),c.Sb(40,"div",24),c.Sb(41,"div",25),c.Sb(42,"div",26),c.Zb("click",function(){c.sc(e);const t=c.rc(1);return c.dc().stepperGoBack(t)}),c.Nb(43,"span",27),c.Sb(44,"div"),c.Bc(45,"Anterior"),c.Rb(),c.Rb(),c.Rb(),c.Sb(46,"div",25),c.Sb(47,"div",36),c.Zb("click",function(){c.sc(e);const t=c.rc(1);return c.dc().stepperGoNext(t)}),c.Nb(48,"span",37),c.Sb(49,"div"),c.Bc(50,"Siguiente"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Nb(51,"hr"),c.Nb(52,"app-sections",29),c.Rb(),c.Sb(53,"mat-step",30),c.Sb(54,"h4",31),c.Nb(55,"span",38),c.Bc(56,"Mesas"),c.Rb(),c.Sb(57,"p"),c.Bc(58," Aqu\xed debe dar de alta todas las mesas para cada sector. S\xf3lo debe ingresar el n\xfamero de mesa y la cantidad de comensales que pueden sentarse en ellas. "),c.Rb(),c.Sb(59,"button",33),c.Zb("click",function(){c.sc(e);const t=c.dc();return t.activateTableExplanation=!t.activateTableExplanation}),c.Nb(60,"span",34),c.Bc(61,"\xbfQu\xe9 son las Mesas? "),c.Rb(),c.Ac(62,be,5,0,"div",35),c.Nb(63,"hr"),c.Sb(64,"div",24),c.Sb(65,"div",25),c.Sb(66,"div",26),c.Zb("click",function(){c.sc(e);const t=c.rc(1);return c.dc().stepperGoBack(t)}),c.Nb(67,"span",27),c.Sb(68,"div"),c.Bc(69,"Anterior"),c.Rb(),c.Rb(),c.Rb(),c.Sb(70,"div",25),c.Sb(71,"div",36),c.Zb("click",function(){c.sc(e);const t=c.rc(1);return c.dc().stepperGoNext(t)}),c.Nb(72,"span",37),c.Sb(73,"div"),c.Bc(74,"Siguiente"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Nb(75,"hr"),c.Nb(76,"app-tables",29),c.Rb(),c.Sb(77,"mat-step",39),c.Sb(78,"h4",31),c.Nb(79,"span",40),c.Bc(80,"Camareros"),c.Rb(),c.Sb(81,"p"),c.Bc(82," Si no necesita mas usuarios que su propio usuario para atender turnos puede omitir este paso y continuar. "),c.Rb(),c.Sb(83,"button",41),c.Zb("click",function(){c.sc(e);const t=c.dc();return t.activateWaiterExplanation=!t.activateWaiterExplanation}),c.Nb(84,"span",34),c.Bc(85,"\xbfQu\xe9 son los Camareros? "),c.Rb(),c.Ac(86,ue,5,0,"div",35),c.Nb(87,"hr"),c.Sb(88,"div",24),c.Sb(89,"div",25),c.Sb(90,"div",26),c.Zb("click",function(){c.sc(e);const t=c.rc(1);return c.dc().stepperGoBack(t)}),c.Nb(91,"span",27),c.Sb(92,"div"),c.Bc(93,"Anterior"),c.Rb(),c.Rb(),c.Rb(),c.Sb(94,"div",25),c.Sb(95,"div",42),c.Zb("click",function(){return c.sc(e),c.dc().endWizard()}),c.Nb(96,"span",43),c.Sb(97,"div"),c.Bc(98,"Finalizar"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Nb(99,"hr"),c.Nb(100,"app-waiters",29),c.Rb(),c.Rb()}if(2&e){const e=c.dc();c.Ab(6),c.Dc("Hola ",null==e.loginService?null:e.loginService.user.tx_name,"!"),c.Ab(8),c.jc("qrdata","Your data string")("width",256)("errorCorrectionLevel","M"),c.Ab(1),c.jc("completed",(null==e.adminService.companies?null:e.adminService.companies.length)>0&&(null==e.loginService.user||null==e.loginService.user.id_company?null:e.loginService.user.id_company._id)),c.Ab(1),c.jc("ngIf",0===(null==e.adminService.companies?null:e.adminService.companies.length)),c.Ab(1),c.jc("ngIf",(null==e.adminService.companies?null:e.adminService.companies.length)>0&&(null==e.loginService.user||null==e.loginService.user.id_company?null:e.loginService.user.id_company._id)),c.Ab(9),c.jc("ngIf",e.adminService.companies||(null==e.loginService.user||null==e.loginService.user.id_company?null:e.loginService.user.id_company._id)),c.Ab(2),c.jc("nomargin",!0)("nopadding",!0),c.Ab(10),c.jc("ngIf",e.activateSectorExplanation),c.Ab(14),c.jc("nomargin",!0)("nopadding",!0),c.Ab(10),c.jc("ngIf",e.activateTableExplanation),c.Ab(14),c.jc("nomargin",!0)("nopadding",!0),c.Ab(10),c.jc("ngIf",e.activateWaiterExplanation),c.Ab(14),c.jc("nomargin",!0)("nopadding",!0)}}let pe=(()=>{class e{constructor(e,t,i,n){this.loginService=e,this.adminService=t,this.sharedService=i,this.router=n,this.showIntro=!0,this.config={},this.userAvailable=!1,this.activateTableExplanation=!1,this.activateWaiterExplanation=!1}ngOnInit(){this.loginService.user&&(this.user=this.loginService.user),this.userSuscription=this.loginService.user$.subscribe(e=>{e&&(this.user=e)}),localStorage.getItem("config")&&(this.config=JSON.parse(localStorage.getItem("config")),this.showIntro=this.config.intro)}toggleIntro(){this.config.intro=!this.showIntro,localStorage.setItem("config",JSON.stringify(this.config))}endWizard(){this.config.intro=!1,this.showIntro=!1,localStorage.setItem("config",JSON.stringify(this.config)),this.router.navigate(["/waiter/home"])}ngOnDestroy(){this.userSuscription&&this.userSuscription.unsubscribe()}scrollTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}stepperGoBack(e){e.previous()}stepperGoNext(e){var t,i,n;(null===(t=this.adminService.companies)||void 0===t?void 0:t.length)>0&&(null===(n=null===(i=this.loginService.user)||void 0===i?void 0:i.id_company)||void 0===n?void 0:n._id)?(this.scrollTop(),e.next()):this.sharedService.snack("Use el formulario para crear un Bar / Resto!",5e3)}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(o.a),c.Mb(d.a),c.Mb(l.a),c.Mb(s.b))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-home"]],viewQuery:function(e,t){if(1&e&&c.Gc(re,!0),2&e){let e;c.qc(e=c.ac())&&(t.stepper=e.first)}},features:[c.zb([{provide:a.h,useValue:{displayDefaultIndicatorType:!1}}])],decls:6,vars:3,consts:[[1,"saturno-card","shadow-box","animated","fadeIn"],[4,"ngIf"],["style","text-align: left;","labelPosition","bottom","linear","",4,"ngIf"],[1,"m-2"],[3,"ngModel","ngModelChange","click"],[1,"m-2","animated","fadeIn"],[1,"mb-4"],["routerLink","/waiter/home",1,"btn","btn-primary","btn-block"],[1,"my-4"],["class","card bg-danger text-white",4,"ngIf"],[1,"card","bg-danger","text-white"],[1,"card-body",2,"text-align","left"],[1,"mdi","mdi-headset","lg","mr-2"],[1,"mdi","mdi-bookmark-plus-outline","lg","mr-2"],["target","_blank","href","https://saturno.live"],[1,"mdi","mdi-shield-link-variant","lg","mr-2"],["target","_blank",3,"href"],["labelPosition","bottom","linear","",2,"text-align","left"],["stepper",""],["state","star"],[1,"card-body"],["matStepperNext","",1,"btn","btn-success"],[3,"qrdata","width","errorCorrectionLevel"],["state","store",3,"completed"],[1,"row",2,"text-align","center"],[1,"col"],[1,"footer-icon-menu",2,"color","red",3,"click"],[1,"mdi","mdi-arrow-left-circle","xxl"],["class","footer-icon-menu","style","color: indigo;",3,"click",4,"ngIf"],[3,"nomargin","nopadding"],["state","important_devices"],[2,"color","crimson"],[1,"mdi","mdi-select-group","mr-2"],[1,"btn","btn-sm","btn-block","btn-secondary",3,"click"],[1,"mdi","mdi-help-network-outline","mr-2"],["class","animated fadeIn my-3",4,"ngIf"],[1,"footer-icon-menu",2,"color","indigo",3,"click"],[1,"mdi","mdi-arrow-right-circle","xxl"],[1,"mdi","mdi-table-furniture","mr-2"],["state","face"],[1,"mdi","mdi-face","mr-2"],[1,"btn","btn-sm","btn-block","btn-primary",3,"click"],[1,"footer-icon-menu",2,"color","darkgreen",3,"click"],[1,"mdi","mdi-check-circle","xxl"],[1,"mdi","mdi-storefront-outline","mr-2"],[1,"mdi","mdi-check","text-success"],[1,"card-text","card-text"],[2,"text-align","center"],["src","assets/img/saturno-selector-empresas.png"],[1,"animated","fadeIn","my-3"]],template:function(e,t){1&e&&(c.Sb(0,"div",0),c.Ac(1,ae,8,2,"div",1),c.Ac(2,me,101,19,"mat-horizontal-stepper",2),c.Sb(3,"div",3),c.Sb(4,"mat-slide-toggle",4),c.Zb("ngModelChange",function(e){return t.showIntro=e})("click",function(){return t.toggleIntro()}),c.Bc(5," Ver introducci\xf3n "),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.Ab(1),c.jc("ngIf",!t.showIntro),c.Ab(1),c.jc("ngIf",t.showIntro),c.Ab(2),c.jc("ngModel",t.showIntro))},directives:[n.j,b.a,r.n,r.q,s.c,u.a,u.b,u.d,_,I,Z,ne],styles:["a[_ngcontent-%COMP%]{color:#ffc964}p[_ngcontent-%COMP%]{font-size:.9em;opacity:.8}"]}),e})();var he=i("AIE+"),fe=i("TN/R");let Se=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Gb({type:e,selectors:[["app-dashboard"]],decls:14,vars:4,consts:[["color","accent"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["color","primary"],["picker2",""]],template:function(e,t){if(1&e&&(c.Sb(0,"mat-form-field",0),c.Sb(1,"mat-label"),c.Bc(2,"Inherited calendar color"),c.Rb(),c.Nb(3,"input",1),c.Nb(4,"mat-datepicker-toggle",2),c.Nb(5,"mat-datepicker",null,3),c.Rb(),c.Sb(7,"mat-form-field",0),c.Sb(8,"mat-label"),c.Bc(9,"Custom calendar color"),c.Rb(),c.Nb(10,"input",1),c.Nb(11,"mat-datepicker-toggle",2),c.Nb(12,"mat-datepicker",4,5),c.Rb()),2&e){const e=c.rc(6),t=c.rc(13);c.Ab(3),c.jc("matDatepicker",e),c.Ab(1),c.jc("for",e),c.Ab(6),c.jc("matDatepicker",t),c.Ab(1),c.jc("for",t)}},directives:[h.c,h.f,f.b,fe.b,fe.d,h.g,fe.a],styles:[""]}),e})();var ge=i("OD9V");const ve=[{path:"home",component:pe},{path:"companies",component:_},{path:"sections",component:I},{path:"tables",component:Z},{path:"waiters",component:ne},{path:"dashboard",component:Se},{path:"tickets",component:(()=>{class e{constructor(e,t){this.loginService=e,this.publicService=t,this.tickets=[]}ngOnInit(){this.readTickets()}readTickets(){var e;let t=null===(e=this.loginService.user.id_company)||void 0===e?void 0:e._id;this.publicService.getTickets(t).subscribe(e=>{this.tickets=e.tickets})}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(o.a),c.Mb(ge.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-tickets"]],decls:18,vars:4,consts:[[1,"container","animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-6"],["color","accent"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["color","primary"],["picker2",""]],template:function(e,t){if(1&e&&(c.Sb(0,"div",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"mat-form-field",3),c.Sb(4,"mat-label"),c.Bc(5,"Inherited calendar color"),c.Rb(),c.Nb(6,"input",4),c.Nb(7,"mat-datepicker-toggle",5),c.Nb(8,"mat-datepicker",null,6),c.Rb(),c.Rb(),c.Sb(10,"div",2),c.Sb(11,"mat-form-field",3),c.Sb(12,"mat-label"),c.Bc(13,"Custom calendar color"),c.Rb(),c.Nb(14,"input",4),c.Nb(15,"mat-datepicker-toggle",5),c.Nb(16,"mat-datepicker",7,8),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.rc(9),t=c.rc(17);c.Ab(6),c.jc("matDatepicker",e),c.Ab(1),c.jc("for",e),c.Ab(7),c.jc("matDatepicker",t),c.Ab(1),c.jc("for",t)}},directives:[h.c,h.f,f.b,fe.b,fe.d,h.g,fe.a],styles:[""]}),e})()},{path:"",redirectTo:"/admin/home",pathMatch:"full"},{path:"**",component:he.a}];let Re=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[s.e.forChild(ve)],s.e]}),e})();var ye=i("j1ZV"),we=i("1+r1"),ke=i("iTUp");let _e=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[n.b,r.s,r.i,we.a,ye.a,Re,ke.a]]}),e})()}}]);