(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"13Ib":function(e,t,i){"use strict";i.r(t),i.d(t,"AdminModule",(function(){return ye}));var s=i("SVse"),n=i("s7LF"),a=i("iInd"),r=i("q59W"),c=i("8Y7J"),o=i("EFyh"),l=i("AJ6+"),d=i("jMqV"),b=i("hzfI"),u=i("zHaW"),m=i("zuHl");let p=(()=>{class e{transform(e){if(e)return e.replace(/\xe1/gi,"a").replace(/\xe9/gi,"e").replace(/\xed/gi,"i").replace(/\xf3/gi,"o").replace(/\xfa/gi,"u").replace(/\xf1/gi,"n").replace(/[^a-zA-Z0-9]/gi,"").toLowerCase()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Mb({name:"getidstring",type:e,pure:!0}),e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=i("Q2Ze"),S=i("e6WT");function f(e,t){1&e&&(c.Tb(0,"button",13),c.yc(1," Crear Comercio "),c.Sb())}function g(e,t){if(1&e&&(c.Tb(0,"div",10),c.Tb(1,"div",11),c.xc(2,f,2,0,"button",12),c.Sb(),c.Sb()),2&e){const e=c.ec();c.Ab(2),c.kc("ngIf",!e.companyEdit)}}function v(e,t){if(1&e){const e=c.Ub();c.Tb(0,"div",14),c.Tb(1,"div",15),c.Tb(2,"button",16),c.yc(3," Guardar "),c.Sb(),c.Sb(),c.Tb(4,"div",11),c.Tb(5,"button",17),c.ac("click",(function(){c.rc(e);const t=c.ec(),i=c.qc(1);return t.resetForm(i)})),c.yc(6," Limpiar "),c.Sb(),c.Sb(),c.Sb()}}let k=(()=>{class e{constructor(e,t,i,s,n){this.adminService=e,this.loginService=t,this.sharedService=i,this.snack=s,this.getidstring=n,this.newCompany=new c.n}ngOnInit(){this.forma=new n.g({company:new n.e("",[n.u.required,this.validatorSetId.bind(this)]),companyString:new n.e({value:"",disabled:!0}),city:new n.e("",n.u.required),addressStreet:new n.e("",n.u.required),addressNumber:new n.e("",n.u.required)})}ngOnChanges(e){var t;null===(t=this.forma)||void 0===t||t.patchValue({company:e.companyEdit.currentValue.tx_company_name,city:e.companyEdit.currentValue.cd_city,addressStreet:e.companyEdit.currentValue.tx_address_street,addressNumber:e.companyEdit.currentValue.tx_address_number})}validatorSetId(e){var t;return this.publicName=this.getidstring.transform(e.value),null===(t=this.forma)||void 0===t||t.patchValue({companyString:this.publicName}),null}checkCompanyExists(){if(this.companyEdit&&this.publicName===this.companyEdit.tx_public_name)return;let e=this.publicName;(null==e?void 0:e.length)>3&&this.adminService.checkCompanyExists(e).subscribe(e=>{e.ok||(this.forma.controls.company.setErrors({incorrect:!0}),this.forma.setErrors({companyExists:!0}))})}createCompany(e){if(this.forma.invalid)return void this.snack.open("Faltan datos por favor verifique","Aceptar",{duration:5e3});const t={id_user:this.loginService.user._id,tx_company_name:this.forma.value.company,tx_public_name:this.publicName,cd_city:this.forma.value.city,tx_address_street:this.forma.value.addressStreet,tx_address_number:this.forma.value.addressNumber};this.companyEdit?(t._id=this.companyEdit._id,this.adminService.updateCompany(t).subscribe(t=>{this.newCompany.emit(t.company),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e)},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})):this.adminService.createCompany(t).subscribe(t=>{this.newCompany.emit(t.company),this.resetForm(e),t.ok?this.snack.open("Empresa creada correctamente",null,{duration:2e3}):this.snack.open(t.msg,null,{duration:5e3})},()=>{this.snack.open("Error al crear la empresa",null,{duration:2e3})})}resetForm(e){this.companyEdit=null,this.forma.enable(),this.forma.reset(),e.resetForm(),this.sharedService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(l.a),c.Nb(o.a),c.Nb(m.a),c.Nb(u.a),c.Nb(p))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-company-create"]],inputs:{companyEdit:"companyEdit"},outputs:{newCompany:"newCompany"},features:[c.yb],decls:26,vars:3,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn","logincss","",1,"w-100"],["matInput","","placeholder","Nombre de la empresa","formControlName","company","name","company","type","text","required","",3,"keyup"],["matInput","","placeholder","Nombre de la empresa","formControlName","companyString","name","companyString","type","text","required",""],["matInput","","placeholder","Ciudad","formControlName","city","name","city","type","text","required",""],["matInput","","placeholder","Calle","formControlName","addressStreet","name","addressStreet","type","text","required",""],["matInput","","placeholder","1234","formControlName","addressNumber","name","addressNumber","type","text","required",""],["class","row text-center",4,"ngIf"],["class","row",4,"ngIf"],[1,"row","text-center"],[1,"col"],["class","btn btn-success btn-block text-uppercase","type","submit",4,"ngIf"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase"],[1,"row"],[1,"col","w-100"],["type","submit",1,"btn","btn-danger","btn-block","text-uppercase"],[1,"btn","btn-warning","btn-block","text-uppercase",3,"click"]],template:function(e,t){if(1&e){const e=c.Ub();c.Tb(0,"form",0,1),c.ac("ngSubmit",(function(){c.rc(e);const i=c.qc(1);return t.createCompany(i)})),c.Tb(2,"mat-form-field",2),c.Tb(3,"mat-label"),c.yc(4,"Nombre de la Empresa"),c.Sb(),c.Tb(5,"mat-error"),c.yc(6,"Esta Empresa ya se encuentra registrada!"),c.Sb(),c.Tb(7,"input",3),c.ac("keyup",(function(){return t.checkCompanyExists()})),c.Sb(),c.Sb(),c.Tb(8,"mat-form-field",2),c.Tb(9,"mat-label"),c.yc(10,"Nombre p\xfablico"),c.Sb(),c.Ob(11,"input",4),c.Sb(),c.Tb(12,"mat-form-field",2),c.Tb(13,"mat-label"),c.yc(14,"Ciudad"),c.Sb(),c.Ob(15,"input",5),c.Sb(),c.Tb(16,"mat-form-field",2),c.Tb(17,"mat-label"),c.yc(18,"Calle"),c.Sb(),c.Ob(19,"input",6),c.Sb(),c.Tb(20,"mat-form-field",2),c.Tb(21,"mat-label"),c.yc(22,"Altura"),c.Sb(),c.Ob(23,"input",7),c.Sb(),c.xc(24,g,3,1,"div",8),c.xc(25,v,7,0,"div",9),c.Sb()}2&e&&(c.kc("formGroup",t.forma),c.Ab(24),c.kc("ngIf",!t.companyEdit),c.Ab(1),c.kc("ngIf",t.companyEdit))},directives:[n.p,n.h,h.c,h.f,h.b,S.b,n.d,n.o,n.f,n.t,s.j],styles:[""]}),e})();function y(e,t){1&e&&c.Ob(0,"span",16)}function T(e,t){if(1&e){const e=c.Ub();c.Tb(0,"tr"),c.Tb(1,"td"),c.yc(2),c.Sb(),c.Tb(3,"td"),c.xc(4,y,1,0,"span",12),c.Sb(),c.Tb(5,"td",13),c.Tb(6,"span",14),c.ac("click",(function(){c.rc(e);const i=t.$implicit;return c.ec().editCompany(i)})),c.Sb(),c.Tb(7,"span",15),c.ac("click",(function(){c.rc(e);const i=t.$implicit;return c.ec().deleteCompany(i._id)})),c.Sb(),c.Sb(),c.Sb()}if(2&e){const e=t.$implicit,i=c.ec();c.Ab(2),c.Ac(" ",null==e?null:e.tx_company_name," "),c.Ab(2),c.kc("ngIf",e._id===(null==i.companyUpdated?null:i.companyUpdated._id))}}const _=function(e,t){return{nomargin:e,nopadding:t}};let x=(()=>{class e{constructor(e,t,i){this.adminService=e,this.loginService=t,this.snack=i}ngOnInit(){this.user=this.loginService.user,this.user._id&&this.readCompanies(this.user._id),this.userSubscription=this.loginService.user$.subscribe(e=>{e&&(this.user=e)})}ngOnChanges(e){}editCompany(e){this.companyEdit=e}newCompany(e){this.companyUpdated=e,this.readCompanies(this.user._id)}deleteCompany(e){this.snack.open("Desea eliminar la empresa?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.adminService.deleteCompany(e).subscribe(t=>{var i;this.snack.open(t.msg,null,{duration:2e3}),this.companies=this.companies.filter(t=>t._id!=e),this.adminService.companies=this.companies,this.adminService.companiesSource.next(this.companies),e===(null===(i=this.user.id_company)||void 0===i?void 0:i._id)&&(this.user.id_company=null,localStorage.setItem("user",JSON.stringify(this.user)))},e=>{this.snack.open(e.msg,null,{duration:2e3})})})}readCompanies(e){this.adminService.readCompanies(e).subscribe(e=>{this.companies=e.companies,this.adminService.companies=e.companies})}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(l.a),c.Nb(o.a),c.Nb(u.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-companies"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},features:[c.yb],decls:15,vars:6,consts:[[1,"saturno-card","animated","fadeIn",3,"ngClass"],[1,"card","bg-success","text-white"],[1,"card-header"],[1,"mdi","mdi-storefront-outline"],[1,"card-body","table-responsive-sm"],[1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"my-4"],[1,"card"],[1,"mdi","mdi-plus-circle-outline"],[1,"card-body"],[3,"companyEdit","newCompany"],["class","mdi mdi-check ml-2 list-crud-edit",4,"ngIf"],[2,"text-align","right"],[1,"mdi","mdi-pencil","ml-2","list-crud-edit",3,"click"],[1,"mdi","mdi-delete","ml-2","list-crud-delete",3,"click"],[1,"mdi","mdi-check","ml-2","list-crud-edit"]],template:function(e,t){1&e&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Ob(3,"span",3),c.yc(4," Mis empresas / comercios"),c.Sb(),c.Tb(5,"div",4),c.Tb(6,"table",5),c.xc(7,T,8,2,"tr",6),c.Sb(),c.Sb(),c.Sb(),c.Ob(8,"div",7),c.Tb(9,"div",8),c.Tb(10,"div",2),c.Ob(11,"span",9),c.yc(12," Alta de empresa"),c.Sb(),c.Tb(13,"div",10),c.Tb(14,"app-company-create",11),c.ac("newCompany",(function(e){return t.newCompany(e)})),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.kc("ngClass",c.oc(3,_,t.nomargin,t.nopadding)),c.Ab(7),c.kc("ngForOf",t.companies),c.Ab(7),c.kc("companyEdit",t.companyEdit))},directives:[s.h,s.i,k,s.j],styles:[""]}),e})(),w=(()=>{class e{constructor(e,t,i,s){this.adminService=e,this.loginService=t,this.sharedService=i,this.snack=s,this.skillCreated=new c.n}ngOnInit(){this.forma=new n.g({cdSkill:new n.e(null,n.u.required),txSkill:new n.e(null,n.u.required)})}createSkill(e){this.forma.invalid||this.adminService.createSkill({id_company:this.loginService.user.id_company._id,cd_skill:this.forma.value.cdSkill,tx_skill:this.forma.value.txSkill,bl_generic:!1,_id:null}).subscribe(t=>{t.ok&&(this.skillCreated.emit(t.skill),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e))},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})}resetForm(e){e.resetForm(),this.forma.reset(),this.sharedService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(l.a),c.Nb(o.a),c.Nb(m.a),c.Nb(u.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-skill-create-form"]],outputs:{skillCreated:"skillCreated"},decls:13,vars:1,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn",1,"w-100"],["matInput","","placeholder","V","formControlName","cdSkill","name","cdSkill","type","text","maxlength","2","required",""],["matInput","","placeholder","Ventas","formControlName","txSkill","name","txSkill","type","text","required",""],[1,"form-group","text-center"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase","waves-effect","waves-light"]],template:function(e,t){if(1&e){const e=c.Ub();c.Tb(0,"form",0,1),c.ac("ngSubmit",(function(){c.rc(e);const i=c.qc(1);return t.createSkill(i)})),c.Tb(2,"mat-form-field",2),c.Tb(3,"mat-label"),c.yc(4,"Prefijo"),c.Sb(),c.Ob(5,"input",3),c.Sb(),c.Tb(6,"mat-form-field",2),c.Tb(7,"mat-label"),c.yc(8,"Descripcion"),c.Sb(),c.Ob(9,"input",4),c.Sb(),c.Tb(10,"div",5),c.Tb(11,"button",6),c.yc(12,"Crear Skill"),c.Sb(),c.Sb(),c.Sb()}2&e&&c.kc("formGroup",t.forma)},directives:[n.p,n.h,h.c,h.f,S.b,n.d,n.o,n.f,n.j,n.t],styles:[""]}),e})();function A(e,t){1&e&&(c.Tb(0,"div",14),c.Ob(1,"span",15),c.Tb(2,"span"),c.yc(3,"Un skill gen\xe9rico fu\xe9 creado"),c.Sb(),c.Sb())}function O(e,t){if(1&e){const e=c.Ub();c.Tb(0,"tr"),c.Tb(1,"td"),c.yc(2),c.Sb(),c.Tb(3,"td"),c.yc(4),c.Sb(),c.Tb(5,"td",16),c.Tb(6,"span",17),c.ac("click",(function(){c.rc(e);const i=t.$implicit;return c.ec().deleteSkill(i._id)})),c.Sb(),c.Sb(),c.Sb()}if(2&e){const e=t.$implicit;c.Ab(2),c.Ac(" ",null==e?null:e.cd_skill," "),c.Ab(2),c.Ac(" ",null==e?null:e.tx_skill," ")}}const I=function(e,t){return{nomargin:e,nopadding:t}};let C=(()=>{class e{constructor(e,t,i){this.adminService=e,this.loginService=t,this.snack=i,this.activateSkills=!1,this.activateSlide=!0}ngOnInit(){this.loginService.user&&(this.user=this.loginService.user,this.user.id_company&&this.readSkills(this.user.id_company._id),this.userSubscription=this.loginService.user$.subscribe(e=>{e&&(this.user=e,e.id_company&&this.readSkills(e.id_company._id))}))}skillCreated(e){let t;this.skills=this.skills.filter(e=>!1===e.bl_generic),this.skills.push(e),t=JSON.parse(localStorage.getItem("user")),t.id_skills=this.skills,this.loginService.pushUser(t)}deleteSkill(e){this.snack.open("Desea eliminar el skill?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.adminService.deleteSkill(e).subscribe(t=>{if(t.ok){let i;this.snack.open(t.msg,null,{duration:2e3}),i=JSON.parse(localStorage.getItem("user")),i.id_skills=i.id_skills.filter(e=>e._id!==t.skill._id),this.loginService.pushUser(i),this.skills=this.skills.filter(t=>t._id!=e),this.adminService.skills=this.skills,0===this.skills.length&&this.readSkills(t.skill.id_company).then(e=>{let t;t=JSON.parse(localStorage.getItem("user")),t.id_skills=e,this.loginService.pushUser(t)})}},e=>{this.snack.open(e.msg,null,{duration:2e3})})})}readSkills(e){return new Promise(t=>{this.adminService.readSkills(e).subscribe(e=>{e.ok&&(this.skills=e.skills.filter(e=>!1===e.bl_generic),this.adminService.skills=e.skills,t(e.skills))})})}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(l.a),c.Nb(o.a),c.Nb(u.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-skills"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:16,vars:6,consts:[[1,"saturno-card","animated","fadeIn",3,"ngClass"],[1,"card","bg-danger","text-white"],[1,"card-header",2,"align-items","center"],[1,"mdi","mdi-list-status"],[1,"card-body","table-responsive-sm"],["class","row align-items-center justify-content-center",4,"ngIf"],[1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"my-4"],[1,"card"],[1,"card-header"],[1,"mdi","mdi-plus-circle-outline"],[1,"card-body"],[3,"skillCreated"],[1,"row","align-items-center","justify-content-center"],[1,"mdi","mdi-check-circle-outline","xxl","mx-2","text-warning"],[2,"text-align","right"],[1,"mdi","mdi-delete","ml-2","list-crud-delete",3,"click"]],template:function(e,t){1&e&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Ob(3,"span",3),c.yc(4," Habilidades "),c.Sb(),c.Tb(5,"div",4),c.xc(6,A,4,0,"div",5),c.Tb(7,"table",6),c.xc(8,O,7,2,"tr",7),c.Sb(),c.Sb(),c.Sb(),c.Ob(9,"div",8),c.Tb(10,"div",9),c.Tb(11,"div",10),c.Ob(12,"span",11),c.yc(13," Alta de Skill"),c.Sb(),c.Tb(14,"div",12),c.Tb(15,"app-skill-create-form",13),c.ac("skillCreated",(function(e){return t.skillCreated(e)})),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.kc("ngClass",c.oc(3,I,t.nomargin,t.nopadding)),c.Ab(6),c.kc("ngIf",!t.skills||0===(null==t.skills?null:t.skills.length)),c.Ab(2),c.kc("ngForOf",t.skills))},directives:[s.h,s.j,s.i,w],styles:[""]}),e})(),E=(()=>{class e{constructor(e,t,i,s){this.adminService=e,this.loginService=t,this.sharedService=i,this.snack=s,this.desktopCreated=new c.n}ngOnInit(){this.forma=new n.g({cdDesktop:new n.e(null,n.u.required),idType:new n.e(null)})}createDesktop(e){this.forma.invalid||this.adminService.createDesktop({id_company:this.loginService.user.id_company._id,cd_desktop:this.forma.value.cdDesktop,id_session:null,bl_generic:!1,__v:null,_id:null}).subscribe(t=>{this.desktopCreated.emit(t.desktop),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e)},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})}resetForm(e){e.resetForm(),this.forma.reset(),this.sharedService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(l.a),c.Nb(o.a),c.Nb(m.a),c.Nb(u.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-desktop-create-form"]],outputs:{desktopCreated:"desktopCreated"},decls:9,vars:1,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn",1,"w-100"],["matInput","","placeholder","Identificador de escritorio","formControlName","cdDesktop","name","cdDesktop","type","text","required",""],[1,"form-group","text-center"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase","waves-effect","waves-light"]],template:function(e,t){if(1&e){const e=c.Ub();c.Tb(0,"form",0,1),c.ac("ngSubmit",(function(){c.rc(e);const i=c.qc(1);return t.createDesktop(i)})),c.Tb(2,"mat-form-field",2),c.Tb(3,"mat-label"),c.yc(4,"ID Escritorio"),c.Sb(),c.Ob(5,"input",3),c.Sb(),c.Tb(6,"div",4),c.Tb(7,"button",5),c.yc(8,"Crear Escritorio"),c.Sb(),c.Sb(),c.Sb()}2&e&&c.kc("formGroup",t.forma)},directives:[n.p,n.h,h.c,h.f,S.b,n.d,n.o,n.f,n.t],styles:[""]}),e})();function N(e,t){1&e&&(c.Tb(0,"div",13),c.Ob(1,"span",14),c.Tb(2,"span"),c.yc(3,"Un escritorio gen\xe9rico fu\xe9 creado"),c.Sb(),c.Sb())}function q(e,t){if(1&e){const e=c.Ub();c.Tb(0,"tr"),c.Tb(1,"td"),c.yc(2),c.Sb(),c.Tb(3,"td",15),c.Tb(4,"span",16),c.ac("click",(function(){c.rc(e);const i=t.$implicit;return c.ec().deleteDesktop(i._id)})),c.Sb(),c.Sb(),c.Sb()}if(2&e){const e=t.$implicit;c.Ab(2),c.zc(null==e?null:e.cd_desktop)}}const D=function(e,t){return{nomargin:e,nopadding:t}};let F=(()=>{class e{constructor(e,t,i){this.adminService=e,this.loginService=t,this.snack=i}ngOnInit(){this.loginService.user&&(this.user=this.loginService.user,this.user.id_company&&this.readDesktops(this.user.id_company._id),this.userSubscription=this.loginService.user$.subscribe(e=>{e&&(this.user=e,e.id_company&&this.readDesktops(e.id_company._id))}))}editDesktop(e){}deleteDesktop(e){this.snack.open("Desea eliminar el escritorio?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.adminService.deleteDesktop(e).subscribe(t=>{this.snack.open(t.msg,null,{duration:5e3}),this.desktops=this.desktops.filter(t=>t._id!=e)},e=>{this.snack.open(e.msg,null,{duration:5e3})})})}desktopCreated(e){this.desktops.push(e)}readDesktops(e){return new Promise((t,i)=>{this.adminService.readDesktops(e).subscribe(e=>{e.ok&&(this.desktops=e.desktops.filter(e=>!1===e.bl_generic),this.adminService.desktops=e.desktops,t(e.desktops))})})}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(l.a),c.Nb(o.a),c.Nb(u.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-desktops"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:16,vars:6,consts:[[1,"saturno-card","animated","fadeIn",3,"ngClass"],[1,"card","bg-secondary","text-white"],[1,"card-header"],[1,"mdi","mdi-monitor"],[1,"card-body","table-responsive-sm"],["class","row align-items-center justify-content-center",4,"ngIf"],[1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"my-4"],[1,"card"],[1,"mdi","mdi-plus-circle-outline"],[1,"card-body"],[3,"desktopCreated"],[1,"row","align-items-center","justify-content-center"],[1,"mdi","mdi-check-circle-outline","xxl","mx-2","text-warning"],[2,"text-align","right"],[1,"mdi","mdi-delete","ml-2","list-crud-delete",3,"click"]],template:function(e,t){1&e&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Ob(3,"span",3),c.yc(4," Escritorios / Ventanillas "),c.Sb(),c.Tb(5,"div",4),c.xc(6,N,4,0,"div",5),c.Tb(7,"table",6),c.xc(8,q,5,1,"tr",7),c.Sb(),c.Sb(),c.Sb(),c.Ob(9,"div",8),c.Tb(10,"div",9),c.Tb(11,"div",2),c.Ob(12,"span",10),c.yc(13," Alta de Escritorio"),c.Sb(),c.Tb(14,"div",11),c.Tb(15,"app-desktop-create-form",12),c.ac("desktopCreated",(function(e){return t.desktopCreated(e)})),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.kc("ngClass",c.oc(3,D,t.nomargin,t.nopadding)),c.Ab(6),c.kc("ngIf",!t.desktops||0===(null==t.desktops?null:t.desktops.length)),c.Ab(2),c.kc("ngForOf",t.desktops))},directives:[s.h,s.j,s.i,E],styles:[""]}),e})();var U=i("LRne"),L=i("ZTz/"),M=i("UhP/"),V=i("SqCe");function G(e,t){if(1&e){const e=c.Ub();c.Tb(0,"mat-option",17),c.ac("click",(function(){c.rc(e);const i=t.$implicit;return c.ec().getSkills(i._id)})),c.yc(1),c.Sb()}if(2&e){const e=t.$implicit;c.kc("value",e._id),c.Ab(1),c.Ac(" ",e.tx_company_name," ")}}function R(e,t){if(1&e&&(c.Tb(0,"mat-list-option",23),c.Tb(1,"span",24),c.yc(2),c.Sb(),c.Sb()),2&e){const e=t.$implicit;c.kc("value",e._id),c.Ab(2),c.zc(e.tx_skill)}}const j=function(){return{standalone:!0}};function P(e,t){if(1&e){const e=c.Ub();c.Tb(0,"div",18),c.Tb(1,"div",19),c.yc(2,"SKILLS"),c.Sb(),c.Tb(3,"div",20),c.Tb(4,"mat-selection-list",21),c.ac("ngModelChange",(function(t){return c.rc(e),c.ec().selStrSkills=t})),c.xc(5,R,3,2,"mat-list-option",22),c.Sb(),c.Sb(),c.Sb()}if(2&e){const e=c.ec();c.Ab(4),c.kc("ngModelOptions",c.mc(3,j))("ngModel",e.selStrSkills),c.Ab(1),c.kc("ngForOf",e.skills)}}function $(e,t){1&e&&(c.Tb(0,"button",28),c.yc(1," Crear Asistente "),c.Sb())}function z(e,t){if(1&e&&(c.Tb(0,"div",25),c.Tb(1,"div",26),c.xc(2,$,2,0,"button",27),c.Sb(),c.Sb()),2&e){const e=c.ec();c.Ab(2),c.kc("ngIf",!e.assistantEdit)}}function H(e,t){if(1&e){const e=c.Ub();c.Tb(0,"div",29),c.Tb(1,"div",30),c.Tb(2,"button",31),c.yc(3," Guardar "),c.Sb(),c.Sb(),c.Tb(4,"div",26),c.Tb(5,"button",32),c.ac("click",(function(){c.rc(e);const t=c.ec(),i=c.qc(1);return t.resetForm(i)})),c.yc(6," Limpiar "),c.Sb(),c.Sb(),c.Sb()}}let B=(()=>{class e{constructor(e,t,i,s){this.adminService=e,this.loginService=t,this.sharedService=i,this.snack=s,this.idAssistantUpdated=new c.n,this.skills=[],this.hasGenericSkillOnly=!0,this.selStrSkills=[],this.manejaError=e=>Object(U.a)(e)}ngOnInit(){this.forma=new n.g({rol:new n.e(null,n.u.required),idCompany:new n.e(null,n.u.required),nombre:new n.e(null,n.u.required),email:new n.e(null,[n.u.required,n.u.email]),password:new n.e(null,n.u.required),password2:new n.e(null,n.u.required)},{validators:this.sonIguales("password","password2")})}ngOnChanges(e){var t,i,s,n,a,r,c,o,l;if(null===(t=this.forma)||void 0===t||t.enable(),"ADMIN_ROLE"===(null===(i=e.assistantEdit.currentValue)||void 0===i?void 0:i.tx_role)&&(this.forma.controls.rol.disable(),this.forma.controls.email.disable()),null===(s=e.assistantEdit.currentValue)||void 0===s?void 0:s.id_company._id){let t=e.assistantEdit.currentValue.id_company._id;null===(n=this.forma)||void 0===n||n.patchValue({idCompany:t}),this.getSkills(t)}null===(a=this.forma)||void 0===a||a.patchValue({rol:e.assistantEdit.currentValue.tx_role,email:e.assistantEdit.currentValue.tx_email,nombre:e.assistantEdit.currentValue.tx_name,password:"******",password2:"******"}),this.selStrSkills=(null===(c=null===(r=e.assistantEdit)||void 0===r?void 0:r.currentValue)||void 0===c?void 0:c.id_skills.length)>0?null===(l=null===(o=e.assistantEdit)||void 0===o?void 0:o.currentValue)||void 0===l?void 0:l.id_skills:[]}getSkills(e){this.adminService.readSkills(e).subscribe(e=>{1===e.skills.length&&!0===e.skills[0].bl_generic?(this.hasGenericSkillOnly=!0,this.selStrSkills.push(e.skills[0]._id)):this.hasGenericSkillOnly=!1,this.skills=e.skills.filter(e=>!1===e.bl_generic)})}sonIguales(e,t){return i=>i.controls[e].value===i.controls[t].value?null:{password:"Las contrase\xf1as deben ser iguales"}}createAssistant(e){var t;if(!this.selStrSkills||0===this.selStrSkills.length)return void this.snack.open("Seleccione al menos un skill","ACEPTAR",{duration:5e3});if(this.forma.invalid)return void((null===(t=this.forma.errors)||void 0===t?void 0:t.password)&&this.snack.open(this.forma.errors.password,"ACEPTAR",{duration:5e3}));const i={tx_role:this.forma.controls.rol.value,id_company:this.forma.value.idCompany,tx_name:this.forma.value.nombre,tx_email:this.forma.controls.email.value,tx_password:this.forma.value.password,id_skills:this.selStrSkills};this.assistantEdit?(i._id=this.assistantEdit._id,this.adminService.updateAssistant(i).subscribe(t=>{t.ok&&(t.user._id===this.loginService.user._id&&this.loginService.pushUser(t.user),this.idAssistantUpdated.emit(t.user._id),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e))},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})):this.adminService.createAssistant(i).subscribe(t=>{this.idAssistantUpdated.emit(t.user._id),this.snack.open(t.msg,null,{duration:5e3}),this.resetForm(e),e.resetForm()},e=>{this.snack.open(e.error.msg,null,{duration:5e3})})}resetForm(e){this.assistantEdit=null,this.forma.enable(),this.forma.reset(),e.resetForm(),this.sharedService.scrollTop()}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(l.a),c.Nb(o.a),c.Nb(m.a),c.Nb(u.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-assistant-create-form"]],inputs:{assistantEdit:"assistantEdit"},outputs:{idAssistantUpdated:"idAssistantUpdated"},features:[c.yb],decls:35,vars:5,consts:[["autocomplete","off","ngNativeValidate","",2,"color","brown",3,"formGroup","ngSubmit"],["formDirective","ngForm"],["color","warn","logincss","",1,"w-100"],["formControlName","rol","name","rol","required",""],["value","ADMIN_ROLE"],["value","ASSISTANT_ROLE"],["color","warn",1,"w-100"],["formControlName","idCompany","name","idCompany","matNativeControl","","required",""],["selectDesktop",""],[3,"value","click",4,"ngFor","ngForOf"],["matInput","","placeholder","Nombre","formControlName","nombre","name","nombre","type","text","required","","placeholder","Nombre"],["matInput","","placeholder","Email","formControlName","email","name","email","type","email","required",""],["matInput","","placeholder","Clave","formControlName","password","name","password","type","password","required","","placeholder","Contrase\xf1a","autocomplete","new-password"],["matInput","","placeholder","Clave","formControlName","password2","name","password2","type","password","required","","placeholder","Confirma contrase\xf1a","autocomplete","new-password"],["class","card mb-4",4,"ngIf"],["class","row text-center",4,"ngIf"],["class","row",4,"ngIf"],[3,"value","click"],[1,"card","mb-4"],[1,"card-header"],[1,"card-body","p-0"],[3,"ngModelOptions","ngModel","ngModelChange"],["name","selStrSkills",3,"value",4,"ngFor","ngForOf"],["name","selStrSkills",3,"value"],[1,"mat-select-option-nowarp"],[1,"row","text-center"],[1,"col"],["class","btn btn-success btn-block text-uppercase","type","submit",4,"ngIf"],["type","submit",1,"btn","btn-success","btn-block","text-uppercase"],[1,"row"],[1,"col","w-100"],["type","submit",1,"btn","btn-danger","btn-block","text-uppercase"],[1,"btn","btn-warning","btn-block","text-uppercase",3,"click"]],template:function(e,t){if(1&e){const e=c.Ub();c.Tb(0,"form",0,1),c.ac("ngSubmit",(function(){c.rc(e);const i=c.qc(1);return t.createAssistant(i)})),c.Tb(2,"mat-form-field",2),c.Tb(3,"mat-label"),c.yc(4,"Rol"),c.Sb(),c.Tb(5,"mat-select",3),c.Tb(6,"mat-option",4),c.yc(7," Administrador y Asistente"),c.Sb(),c.Tb(8,"mat-option",5),c.yc(9," Asistente "),c.Sb(),c.Sb(),c.Sb(),c.Tb(10,"mat-form-field",6),c.Tb(11,"mat-label"),c.yc(12,"Seleccione una empresa"),c.Sb(),c.Tb(13,"mat-select",7,8),c.xc(15,G,2,2,"mat-option",9),c.Sb(),c.Sb(),c.Tb(16,"mat-form-field",6),c.Tb(17,"mat-label"),c.yc(18,"Nombre"),c.Sb(),c.Ob(19,"input",10),c.Sb(),c.Tb(20,"mat-form-field",6),c.Tb(21,"mat-label"),c.yc(22,"Email"),c.Sb(),c.Ob(23,"input",11),c.Sb(),c.Tb(24,"mat-form-field",6),c.Tb(25,"mat-label"),c.yc(26,"Clave"),c.Sb(),c.Ob(27,"input",12),c.Sb(),c.Tb(28,"mat-form-field",6),c.Tb(29,"mat-label"),c.yc(30,"Clave"),c.Sb(),c.Ob(31,"input",13),c.Sb(),c.xc(32,P,6,4,"div",14),c.xc(33,z,3,1,"div",15),c.xc(34,H,7,0,"div",16),c.Sb()}2&e&&(c.kc("formGroup",t.forma),c.Ab(15),c.kc("ngForOf",t.adminService.companies),c.Ab(17),c.kc("ngIf","ASSISTANT_ROLE"===(null==t.assistantEdit?null:t.assistantEdit.tx_role)||!t.hasGenericSkillOnly),c.Ab(1),c.kc("ngIf",!t.assistantEdit),c.Ab(1),c.kc("ngIf",t.assistantEdit))},directives:[n.p,n.h,h.c,h.f,L.a,n.o,n.f,n.t,M.l,s.i,S.b,n.d,s.j,V.c,n.r,V.b],styles:[".mat-select-option-nowarp[_ngcontent-%COMP%]{float:left;width:-webkit-max-content;width:max-content}"]}),e})(),J=(()=>{class e{transform(e,t){let i=document.getElementById("wt-form");if(i){let t,s=i.offsetWidth;s<260&&(t=8),s>=260&&s<280&&(t=9),s>=280&&s<300&&(t=10),s>=300&&s<320&&(t=11),s>=320&&s<340&&(t=12),s>=340&&s<360&&(t=13),s>=360&&s<380&&(t=14),s>=380&&s<400&&(t=15),s>=400&&(t=16);let n=e.length>t?"...":"";return e.substr(0,t)+n}return null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Mb({name:"wordMaxLength",type:e,pure:!0}),e})();function W(e,t){1&e&&c.Ob(0,"span",19)}function Q(e,t){1&e&&c.Ob(0,"span",20)}function Z(e,t){1&e&&c.Ob(0,"span",21)}function K(e,t){if(1&e){const e=c.Ub();c.Tb(0,"span",22),c.ac("click",(function(){c.rc(e);const t=c.ec().$implicit;return c.ec().deleteAssistant(t._id)})),c.Sb()}}function Y(e,t){if(1&e){const e=c.Ub();c.Tb(0,"tr"),c.Tb(1,"td",12),c.xc(2,W,1,0,"span",13),c.xc(3,Q,1,0,"span",14),c.Sb(),c.Tb(4,"td"),c.yc(5),c.fc(6,"wordMaxLength"),c.Sb(),c.Tb(7,"td"),c.xc(8,Z,1,0,"span",15),c.Sb(),c.Tb(9,"td",16),c.Tb(10,"span",17),c.ac("click",(function(){c.rc(e);const i=t.$implicit;return c.ec().editAssistant(i)})),c.Sb(),c.xc(11,K,1,0,"span",18),c.Sb(),c.Sb()}if(2&e){const e=t.$implicit,i=c.ec();c.Ab(2),c.kc("ngIf","ADMIN_ROLE"===e.tx_role),c.Ab(1),c.kc("ngIf","ADMIN_ROLE"!==e.tx_role),c.Ab(2),c.Ac("",c.hc(6,5,null==e?null:e.tx_name,8)," "),c.Ab(3),c.kc("ngIf",e._id===i.assistantUpdated),c.Ab(3),c.kc("ngIf",e._id!==i.loginService.user._id)}}const X=function(e,t){return{nomargin:e,nopadding:t}};let ee=(()=>{class e{constructor(e,t,i,s){this.adminService=e,this.loginService=t,this.sharedService=i,this.snack=s}ngOnInit(){this.loginService.user&&(this.user=this.loginService.user,this.user.id_company&&this.readAssistants(this.user.id_company._id),this.userSubscription=this.loginService.user$.subscribe(e=>{e&&(this.user=e,e.id_company&&this.readAssistants(e.id_company._id))}))}editAssistant(e){this.assistantEdit=e}assistantUpdated(e){this.idAssistantUpdated=e,this.readAssistants(this.loginService.user.id_company._id)}readAssistants(e){this.adminService.readAssistants(e).subscribe(e=>{this.assistants=e.users,this.adminService.assistants=e.users})}deleteAssistant(e){e!==this.loginService.user._id?this.snack.open("Desea eliminar el asistente?","ELIMINAR",{duration:1e4}).afterDismissed().subscribe(t=>{t.dismissedByAction&&this.adminService.deleteAssistant(e).subscribe(t=>{this.snack.open(t.msg,null,{duration:5e3}),this.assistants=this.assistants.filter(t=>t._id!=e)},e=>{this.snack.open(e.msg,null,{duration:5e3})})}):this.sharedService.snackShow("Usted no puede borrar su propio usuario!",2e3)}ngOnDestroy(){this.userSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(l.a),c.Nb(o.a),c.Nb(m.a),c.Nb(u.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-assistants"]],inputs:{nomargin:"nomargin",nopadding:"nopadding"},decls:15,vars:6,consts:[[1,"animated","saturno-card","fadeIn",3,"ngClass"],[1,"card","bg-primary","text-white"],[1,"card-header"],[1,"mdi","mdi-headset"],[1,"card-body","table-responsive-sm"],["id","wt-form",1,"table","table-sm","text-white"],[4,"ngFor","ngForOf"],[1,"my-4"],[1,"card"],[1,"mdi","mdi-plus-circle-outline"],[1,"card-body"],[3,"assistantEdit","idAssistantUpdated"],[2,"width","1px"],["class","mdi mdi-police-badge-outline list-crud-star",4,"ngIf"],["class","mdi mdi-face-agent list-crud-star",4,"ngIf"],["class","mdi mdi-check ml-2 list-crud-edit",4,"ngIf"],[2,"text-align","right"],[1,"mdi","mdi-pencil","ml-2","list-crud-edit",3,"click"],["class","mdi mdi-delete ml-2 list-crud-delete",3,"click",4,"ngIf"],[1,"mdi","mdi-police-badge-outline","list-crud-star"],[1,"mdi","mdi-face-agent","list-crud-star"],[1,"mdi","mdi-check","ml-2","list-crud-edit"],[1,"mdi","mdi-delete","ml-2","list-crud-delete",3,"click"]],template:function(e,t){1&e&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Ob(3,"span",3),c.yc(4," Asistentes"),c.Sb(),c.Tb(5,"div",4),c.Tb(6,"table",5),c.xc(7,Y,12,8,"tr",6),c.Sb(),c.Sb(),c.Sb(),c.Ob(8,"div",7),c.Tb(9,"div",8),c.Tb(10,"div",2),c.Ob(11,"span",9),c.yc(12," Alta de asistente "),c.Sb(),c.Tb(13,"div",10),c.Tb(14,"app-assistant-create-form",11),c.ac("idAssistantUpdated",(function(e){return t.assistantUpdated(e)})),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.kc("ngClass",c.oc(3,X,t.nomargin,t.nopadding)),c.Ab(7),c.kc("ngForOf",t.assistants),c.Ab(7),c.kc("assistantEdit",t.assistantEdit))},directives:[s.h,s.i,B,s.j],pipes:[J],styles:[""]}),e})();const te=["stepper"];function ie(e,t){if(1&e&&(c.Tb(0,"div",10),c.Tb(1,"div",11),c.Tb(2,"div"),c.Tb(3,"p"),c.Ob(4,"span",12),c.yc(5," Atender Turnos "),c.Sb(),c.Tb(6,"p"),c.yc(7," Para atender turnos s\xf3lo debe ingresar a su cuenta y luego ir al men\xfa de Asistente y tomar un escritorio. "),c.Sb(),c.Sb(),c.Ob(8,"hr"),c.Tb(9,"div"),c.Tb(10,"p"),c.Ob(11,"span",13),c.yc(12," Generar Turnos "),c.Sb(),c.Tb(13,"p"),c.yc(14,' Para que sus clientes puedan crear turnos de su comercio o empresa, debe ofrecerles la direcci\xf3n web principal en saturno.live, ir a "OBTENER TURNO" y all\xed buscar su empresa por su nombre. '),c.Sb(),c.Tb(15,"p"),c.Tb(16,"a",14),c.yc(17," https://saturno.live "),c.Sb(),c.Sb(),c.Sb(),c.Ob(18,"hr"),c.Tb(19,"p"),c.Ob(20,"span",15),c.yc(21," Acceso directo a crear turnos "),c.Sb(),c.Tb(22,"p"),c.yc(23," La direcci\xf3n web de acceso directo a el panel de turnos de su comercio es: "),c.Sb(),c.Tb(24,"p"),c.Tb(25,"a",16),c.yc(26),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e){const e=c.ec(2);c.Ab(25),c.lc("href","https://saturno.live/#/public/",e.loginService.user.id_company.tx_public_name,"",c.sc),c.Ab(1),c.Ac(" https://saturno.live/#/public/",e.loginService.user.id_company.tx_public_name," ")}}function se(e,t){if(1&e&&(c.Tb(0,"div"),c.Tb(1,"div",5),c.Tb(2,"h4",6),c.yc(3),c.Sb(),c.Tb(4,"button",7),c.yc(5,"Atender"),c.Sb(),c.Ob(6,"hr",8),c.xc(7,ie,27,2,"div",9),c.Sb(),c.Sb()),2&e){const e=c.ec();c.Ab(3),c.Ac("Bienvenido ",null==e.loginService?null:e.loginService.user.tx_name,"!"),c.Ab(4),c.kc("ngIf",e.loginService.user.id_company)}}function ne(e,t){1&e&&(c.Tb(0,"div"),c.Tb(1,"h4",31),c.Ob(2,"span",46),c.yc(3,"Comencemos"),c.Sb(),c.Tb(4,"p"),c.yc(5," Usted no tiene ninguna empresa \xf3 comercio registrado, desde aqu\xed usted debe registrar al menos uno. "),c.Sb(),c.Ob(6,"hr"),c.Tb(7,"p"),c.yc(8," Es importante que usted ingrese la direcci\xf3n exacta. Esta direcci\xf3n ser\xe1 visible para sus clientes desde el men\xfa p\xfablico de turnos y le asegura a su cliente que esta obteniendo un turno en el comercio correcto. "),c.Sb(),c.Sb())}function ae(e,t){1&e&&(c.Tb(0,"div"),c.Tb(1,"h4",31),c.Ob(2,"span",46),c.yc(3,"Empresa creada! "),c.Ob(4,"span",47),c.Sb(),c.Tb(5,"p"),c.yc(6," Puede seguir adelante con el asistente. "),c.Sb(),c.Tb(7,"p",48),c.yc(8," Recuerde que puede crear mas comercios si dispone de sucursales y moverse entre ellos seleccion\xe1ndolos desde el menu principal. "),c.Sb(),c.Tb(9,"p",49),c.Ob(10,"img",50),c.Sb(),c.Sb())}function re(e,t){if(1&e){const e=c.Ub();c.Tb(0,"div",36),c.ac("click",(function(){c.rc(e),c.ec();const t=c.qc(1);return c.ec().stepperGoNext(t)})),c.Ob(1,"span",37),c.Tb(2,"div"),c.yc(3,"Siguiente"),c.Sb(),c.Sb()}}function ce(e,t){1&e&&(c.Tb(0,"div",51),c.Tb(1,"p"),c.yc(2," Las habilidades son diferentes segmentos que puede tener su negocio y que necesitan de diferentes capacidades en la atenci\xf3n. Estas habilidades las debe asociar a sus asistentes. Cada asistente puede tener una o mas habilidades asignadas. Si crea habilidades su usuario con perfil de administrador tendra asignadas todas las habilidades creadas aqu\xed. "),c.Sb(),c.Tb(3,"p"),c.yc(4,' Por ejemplo si se trata de una cl\xednica usted podr\xeda querer generar turnos para las especialidades de "PEDIATRIA", "TRAUMATOLOG\xcdA", "CLINICA", etc. '),c.Sb(),c.Tb(5,"p"),c.yc(6," Con las habilidades usted puede adem\xe1s definir circuitos de atenci\xf3n. Puede recibir un cliente que fu\xe9 atendido en un escritorio con una habilidad y enviarlo luego para ser atendido en un escritorio con otra diferente. Al reasignar una habilidad a un turno, puede tambi\xe9n establecer su prioridad de modo de enviarlo al inicio o al fin de la cola de espera. "),c.Sb(),c.Sb())}function oe(e,t){1&e&&(c.Tb(0,"div",51),c.Tb(1,"p"),c.yc(2," Los escritorios o ventanillas son los lugares f\xedsicos donde usted va a recibir a sus clientes cuando sean llamados y s\xf3lo necesitan un identificador que es simplemente una etiqueta. Estos identificadores pueden ser letras o n\xfameros. "),c.Sb(),c.Tb(3,"p"),c.yc(4,' Por ejemplo: "1", "2", "A", "B", etc. '),c.Sb(),c.Tb(5,"p"),c.yc(6," Este identificador debe colocarlo en cada escritorio de forma bien visible para que su cliente pueda identificar f\xe1cilmente el escritorio desde el cual fue llamado. Si usted s\xf3lo dispone de un escritorio o un \xfanico lugar de recepci\xf3n de clientes debe omitir este paso y continuar. "),c.Sb(),c.Sb())}function le(e,t){1&e&&(c.Tb(0,"div",51),c.Tb(1,"p"),c.yc(2," Usted como usuario administrador puede atender turnos desde el men\xfa de Asistentes. Si fueron creadas diferentes habilidades, su usario con perfil de administrador ya tiene asignadas todas las habilidades creadas. Sin embargo puede crear aqu\xed operadores / profesionales con rol de asistentes para esa tarea de atenci\xf3n. "),c.Sb(),c.Tb(3,"p"),c.yc(4," Los asistentes que usted puede crear aqu\xed, deben ingresar a sus cuentas desde el mismo login de usuario pero con la opci\xf3n [ENTRAR] con su email y contrase\xf1a. "),c.Sb(),c.Sb())}function de(e,t){if(1&e){const e=c.Ub();c.Tb(0,"mat-horizontal-stepper",17,18),c.Tb(2,"mat-step",19),c.Tb(3,"div",5),c.Tb(4,"div",20),c.Tb(5,"h4"),c.yc(6),c.Sb(),c.Tb(7,"p"),c.yc(8," Este peque\xf1o asistente le ayuda a crear todo lo necesario para comenzar a atender turnos. "),c.Sb(),c.Tb(9,"p"),c.yc(10," No le llevar\xe1 mas de un minuto y desde aqu\xed puede hacer todo!. "),c.Sb(),c.Ob(11,"hr"),c.Tb(12,"button",21),c.yc(13,"Comenzar"),c.Sb(),c.Ob(14,"qrcode",22),c.Sb(),c.Sb(),c.Sb(),c.Tb(15,"mat-step",23),c.xc(16,ne,9,0,"div",1),c.xc(17,ae,11,0,"div",1),c.Ob(18,"hr"),c.Tb(19,"div",24),c.Tb(20,"div",25),c.Tb(21,"div",26),c.ac("click",(function(){c.rc(e);const t=c.qc(1);return c.ec().stepperGoBack(t)})),c.Ob(22,"span",27),c.Tb(23,"div"),c.yc(24,"Anterior"),c.Sb(),c.Sb(),c.Sb(),c.Tb(25,"div",25),c.xc(26,re,4,0,"div",28),c.Sb(),c.Sb(),c.Ob(27,"hr"),c.Ob(28,"app-companies",29),c.Sb(),c.Tb(29,"mat-step",30),c.Tb(30,"h4",31),c.Ob(31,"span",32),c.yc(32,"Skills / Habilidades"),c.Sb(),c.Tb(33,"p"),c.yc(34," Si no necesita mas de una l\xednea de turnos puede omitir este paso y continuar. "),c.Sb(),c.Tb(35,"button",33),c.ac("click",(function(){c.rc(e);const t=c.ec();return t.activateSkillExplanation=!t.activateSkillExplanation})),c.Ob(36,"span",34),c.yc(37,"\xbfQu\xe9 son los skills / habilidades? "),c.Sb(),c.xc(38,ce,7,0,"div",35),c.Ob(39,"hr"),c.Tb(40,"div",24),c.Tb(41,"div",25),c.Tb(42,"div",26),c.ac("click",(function(){c.rc(e);const t=c.qc(1);return c.ec().stepperGoBack(t)})),c.Ob(43,"span",27),c.Tb(44,"div"),c.yc(45,"Anterior"),c.Sb(),c.Sb(),c.Sb(),c.Tb(46,"div",25),c.Tb(47,"div",36),c.ac("click",(function(){c.rc(e);const t=c.qc(1);return c.ec().stepperGoNext(t)})),c.Ob(48,"span",37),c.Tb(49,"div"),c.yc(50,"Siguiente"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Ob(51,"hr"),c.Ob(52,"app-skills",29),c.Sb(),c.Tb(53,"mat-step",38),c.Tb(54,"h4",31),c.Ob(55,"span",39),c.yc(56,"Escritorios / Ventanillas"),c.Sb(),c.Tb(57,"p"),c.yc(58," Si su comercio no require de m\xfaltiples lugares de atenci\xf3n puede omitir este paso y continuar. "),c.Sb(),c.Tb(59,"button",40),c.ac("click",(function(){c.rc(e);const t=c.ec();return t.activateDesktopExplanation=!t.activateDesktopExplanation})),c.Ob(60,"span",34),c.yc(61,"\xbfQu\xe9 son los Escritorios / Ventanillas? "),c.Sb(),c.xc(62,oe,7,0,"div",35),c.Ob(63,"hr"),c.Tb(64,"div",24),c.Tb(65,"div",25),c.Tb(66,"div",26),c.ac("click",(function(){c.rc(e);const t=c.qc(1);return c.ec().stepperGoBack(t)})),c.Ob(67,"span",27),c.Tb(68,"div"),c.yc(69,"Anterior"),c.Sb(),c.Sb(),c.Sb(),c.Tb(70,"div",25),c.Tb(71,"div",36),c.ac("click",(function(){c.rc(e);const t=c.qc(1);return c.ec().stepperGoNext(t)})),c.Ob(72,"span",37),c.Tb(73,"div"),c.yc(74,"Siguiente"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Ob(75,"hr"),c.Ob(76,"app-desktops",29),c.Sb(),c.Tb(77,"mat-step",41),c.Tb(78,"h4",31),c.Ob(79,"span",42),c.yc(80,"Asistentes"),c.Sb(),c.Tb(81,"p"),c.yc(82," Si no necesita mas usuarios que su propio usuario para atender turnos puede omitir este paso y continuar. "),c.Sb(),c.Tb(83,"button",43),c.ac("click",(function(){c.rc(e);const t=c.ec();return t.activateAssistantExplanation=!t.activateAssistantExplanation})),c.Ob(84,"span",34),c.yc(85,"\xbfQu\xe9 son los Asistentes? "),c.Sb(),c.xc(86,le,5,0,"div",35),c.Ob(87,"hr"),c.Tb(88,"div",24),c.Tb(89,"div",25),c.Tb(90,"div",26),c.ac("click",(function(){c.rc(e);const t=c.qc(1);return c.ec().stepperGoBack(t)})),c.Ob(91,"span",27),c.Tb(92,"div"),c.yc(93,"Anterior"),c.Sb(),c.Sb(),c.Sb(),c.Tb(94,"div",25),c.Tb(95,"div",44),c.ac("click",(function(){return c.rc(e),c.ec().endWizard()})),c.Ob(96,"span",45),c.Tb(97,"div"),c.yc(98,"Finalizar"),c.Sb(),c.Sb(),c.Sb(),c.Sb(),c.Ob(99,"hr"),c.Ob(100,"app-assistants",29),c.Sb(),c.Sb()}if(2&e){const e=c.ec();c.Ab(6),c.Ac("Hola ",null==e.loginService?null:e.loginService.user.tx_name,"!"),c.Ab(8),c.kc("qrdata","Your data string")("width",256)("errorCorrectionLevel","M"),c.Ab(1),c.kc("completed",(null==e.adminService.companies?null:e.adminService.companies.length)>0&&(null==e.loginService.user||null==e.loginService.user.id_company?null:e.loginService.user.id_company._id)),c.Ab(1),c.kc("ngIf",0===(null==e.adminService.companies?null:e.adminService.companies.length)),c.Ab(1),c.kc("ngIf",(null==e.adminService.companies?null:e.adminService.companies.length)>0&&(null==e.loginService.user||null==e.loginService.user.id_company?null:e.loginService.user.id_company._id)),c.Ab(9),c.kc("ngIf",e.adminService.companies||(null==e.loginService.user||null==e.loginService.user.id_company?null:e.loginService.user.id_company._id)),c.Ab(2),c.kc("nomargin",!0)("nopadding",!0),c.Ab(10),c.kc("ngIf",e.activateSkillExplanation),c.Ab(14),c.kc("nomargin",!0)("nopadding",!0),c.Ab(10),c.kc("ngIf",e.activateDesktopExplanation),c.Ab(14),c.kc("nomargin",!0)("nopadding",!0),c.Ab(10),c.kc("ngIf",e.activateAssistantExplanation),c.Ab(14),c.kc("nomargin",!0)("nopadding",!0)}}let be=(()=>{class e{constructor(e,t,i){this.loginService=e,this.adminService=t,this.router=i,this.showIntro=!0,this.config={},this.userAvailable=!1,this.activateSkillExplanation=!1,this.activateDesktopExplanation=!1,this.activateAssistantExplanation=!1}ngOnInit(){this.loginService.user&&(this.user=this.loginService.user),this.userSuscription=this.loginService.user$.subscribe(e=>{e&&(this.user=e)}),localStorage.getItem("config")&&(this.config=JSON.parse(localStorage.getItem("config")),this.showIntro=this.config.intro)}toggleIntro(){this.config.intro=!this.showIntro,localStorage.setItem("config",JSON.stringify(this.config))}endWizard(){this.config.intro=!1,this.showIntro=!1,localStorage.setItem("config",JSON.stringify(this.config)),this.router.navigate(["/assistant/home"])}ngOnDestroy(){this.userSuscription.unsubscribe()}scrollTop(){document.body.scrollTop=0,document.documentElement.scrollTop=0}stepperGoBack(e){e.previous()}stepperGoNext(e){this.scrollTop(),e.next()}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(o.a),c.Nb(l.a),c.Nb(a.b))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-home"]],viewQuery:function(e,t){var i;1&e&&c.Ec(te,!0),2&e&&c.pc(i=c.bc())&&(t.stepper=i.first)},features:[c.zb([{provide:r.h,useValue:{displayDefaultIndicatorType:!1}}])],decls:6,vars:3,consts:[[1,"saturno-card","shadow-box","animated","fadeIn"],[4,"ngIf"],["style","text-align: left;","labelPosition","bottom","linear","",4,"ngIf"],[1,"m-2"],[3,"ngModel","ngModelChange","click"],[1,"m-2","animated","fadeIn"],[1,"mb-4"],["routerLink","/assistant/home",1,"btn","btn-primary","btn-block"],[1,"my-4"],["class","card bg-danger text-white",4,"ngIf"],[1,"card","bg-danger","text-white"],[1,"card-body",2,"text-align","left"],[1,"mdi","mdi-headset","lg","mr-2"],[1,"mdi","mdi-bookmark-plus-outline","lg","mr-2"],["target","_blank","href","https://saturno.live"],[1,"mdi","mdi-shield-link-variant","lg","mr-2"],["target","_blank",3,"href"],["labelPosition","bottom","linear","",2,"text-align","left"],["stepper",""],["state","star"],[1,"card-body"],["matStepperNext","",1,"btn","btn-success"],[3,"qrdata","width","errorCorrectionLevel"],["state","store",3,"completed"],[1,"row",2,"text-align","center"],[1,"col"],[1,"footer-icon-menu",2,"color","red",3,"click"],[1,"mdi","mdi-arrow-left-circle","xxl"],["class","footer-icon-menu","style","color: indigo;",3,"click",4,"ngIf"],[3,"nomargin","nopadding"],["state","playlist_add_check"],[2,"color","crimson"],[1,"mdi","mdi-list-status","mr-2"],[1,"btn","btn-sm","btn-block","btn-danger",3,"click"],[1,"mdi","mdi-help-network-outline","mr-2"],["class","animated fadeIn my-3",4,"ngIf"],[1,"footer-icon-menu",2,"color","indigo",3,"click"],[1,"mdi","mdi-arrow-right-circle","xxl"],["state","important_devices"],[1,"mdi","mdi-monitor","mr-2"],[1,"btn","btn-sm","btn-block","btn-secondary",3,"click"],["state","face"],[1,"mdi","mdi-headset","mr-2"],[1,"btn","btn-sm","btn-block","btn-primary",3,"click"],[1,"footer-icon-menu",2,"color","darkgreen",3,"click"],[1,"mdi","mdi-check-circle","xxl"],[1,"mdi","mdi-storefront-outline","mr-2"],[1,"mdi","mdi-check","text-success"],[1,"card-text","card-text"],[2,"text-align","center"],["src","assets/img/saturno-selector-empresas.png"],[1,"animated","fadeIn","my-3"]],template:function(e,t){1&e&&(c.Tb(0,"div",0),c.xc(1,se,8,2,"div",1),c.xc(2,de,101,19,"mat-horizontal-stepper",2),c.Tb(3,"div",3),c.Tb(4,"mat-slide-toggle",4),c.ac("ngModelChange",(function(e){return t.showIntro=e}))("click",(function(){return t.toggleIntro()})),c.yc(5," Ver introducci\xf3n "),c.Sb(),c.Sb(),c.Sb()),2&e&&(c.Ab(1),c.kc("ngIf",!t.showIntro),c.Ab(1),c.kc("ngIf",t.showIntro),c.Ab(2),c.kc("ngModel",t.showIntro))},directives:[s.j,d.a,n.o,n.r,a.c,b.a,b.b,b.d,x,C,F,ee],styles:["a[_ngcontent-%COMP%]{color:#ffc964}p[_ngcontent-%COMP%]{font-size:.9em;opacity:.8}"]}),e})();var ue=i("AIE+"),me=i("TN/R");let pe=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Hb({type:e,selectors:[["app-dashboard"]],decls:14,vars:4,consts:[["color","accent"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["color","primary"],["picker2",""]],template:function(e,t){if(1&e&&(c.Tb(0,"mat-form-field",0),c.Tb(1,"mat-label"),c.yc(2,"Inherited calendar color"),c.Sb(),c.Ob(3,"input",1),c.Ob(4,"mat-datepicker-toggle",2),c.Ob(5,"mat-datepicker",null,3),c.Sb(),c.Tb(7,"mat-form-field",0),c.Tb(8,"mat-label"),c.yc(9,"Custom calendar color"),c.Sb(),c.Ob(10,"input",1),c.Ob(11,"mat-datepicker-toggle",2),c.Ob(12,"mat-datepicker",4,5),c.Sb()),2&e){const e=c.qc(6),t=c.qc(13);c.Ab(3),c.kc("matDatepicker",e),c.Ab(1),c.kc("for",e),c.Ab(6),c.kc("matDatepicker",t),c.Ab(1),c.kc("for",t)}},directives:[h.c,h.f,S.b,me.b,me.d,h.g,me.a],styles:[""]}),e})();var he=i("7AsR");const Se=[{path:"home",component:be},{path:"companies",component:x},{path:"desktops",component:F},{path:"assistants",component:ee},{path:"skills",component:C},{path:"dashboard",component:pe},{path:"tickets",component:(()=>{class e{constructor(e,t){this.loginService=e,this.publicService=t,this.tickets=[]}ngOnInit(){this.readTickets()}readTickets(){var e;let t=null===(e=this.loginService.user.id_company)||void 0===e?void 0:e._id;this.publicService.getTickets(t).subscribe(e=>{this.tickets=e.tickets})}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(o.a),c.Nb(he.a))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-tickets"]],decls:18,vars:4,consts:[[1,"container","animated","fadeIn"],[1,"row"],[1,"col-sm-12","col-6"],["color","accent"],["matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker1",""],["color","primary"],["picker2",""]],template:function(e,t){if(1&e&&(c.Tb(0,"div",0),c.Tb(1,"div",1),c.Tb(2,"div",2),c.Tb(3,"mat-form-field",3),c.Tb(4,"mat-label"),c.yc(5,"Inherited calendar color"),c.Sb(),c.Ob(6,"input",4),c.Ob(7,"mat-datepicker-toggle",5),c.Ob(8,"mat-datepicker",null,6),c.Sb(),c.Sb(),c.Tb(10,"div",2),c.Tb(11,"mat-form-field",3),c.Tb(12,"mat-label"),c.yc(13,"Custom calendar color"),c.Sb(),c.Ob(14,"input",4),c.Ob(15,"mat-datepicker-toggle",5),c.Ob(16,"mat-datepicker",7,8),c.Sb(),c.Sb(),c.Sb(),c.Sb()),2&e){const e=c.qc(9),t=c.qc(17);c.Ab(6),c.kc("matDatepicker",e),c.Ab(1),c.kc("for",e),c.Ab(7),c.kc("matDatepicker",t),c.Ab(1),c.kc("for",t)}},directives:[h.c,h.f,S.b,me.b,me.d,h.g,me.a],styles:[""]}),e})()},{path:"",redirectTo:"/admin/home",pathMatch:"full"},{path:"**",component:ue.a}];let fe=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},imports:[[a.e.forChild(Se)],a.e]}),e})();var ge=i("j1ZV"),ve=i("1+r1"),ke=i("iTUp");let ye=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},imports:[[s.b,n.s,n.i,ve.a,ge.a,fe,ke.a]]}),e})()}}]);